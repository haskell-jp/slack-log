<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / random #81</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / random #81</h1><div class="pager ui pagination menu"><a href="../../html/C4M4TT8JJ/80.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div><div class="message_list ui feed"><div class="message event" id="message-1600649074.004400"><div class="content"><div class="summary"><div class="message__header user">takenobu.hs</div><div class="message__timestamp date"><a class="date" href="#message-1600649074.004400">2020-09-21&nbsp;09:44:34 +0900</a></div></div><div class="message__body description"><code>GHC2020</code> 言語拡張の議論が、ghc-steering-committeeで始まっているようです:haskell:<br/>（Haskell 2020規格ではなくて、GHC拡張の集合体です。いずれ広く議論されるかな？）<br/>[ghc-steering-committee] GHC 2020<br/><a href='https://mail.haskell.org/pipermail/ghc-steering-committee/2020-August/001712.html'>https://mail.haskell.org/pipermail/ghc-steering-committee/2020-August/001712.html</a><br/>ghc-proposals Wiki<br/><a href='https://github.com/ghc-proposals/ghc-proposals/wiki/GHC2020'>https://github.com/ghc-proposals/ghc-proposals/wiki/GHC2020</a><br/><br/>発端は、Rejectとなりましたが、以下のproposalの議論からです。<br/>Enable BangPatterns by default #343<br/><a href='https://github.com/ghc-proposals/ghc-proposals/pull/343'>https://github.com/ghc-proposals/ghc-proposals/pull/343</a></div></div></div><div class="message event" id="message-1600671604.006000"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1600671604.006000">2020-09-21&nbsp;16:00:04 +0900</a></div></div><div class="message__body description"><code>stack build</code> すると何かエラーが サーバーがおかしい？<br/><pre>&gt; stack build
HttpExceptionRequest Request {
  host                 = "<http://casa.fpcomplete.com|casa.fpcomplete.com>"
  port                 = 443
  secure               = True
  requestHeaders       = []
  path                 = "/v1/pull"
  queryString          = ""
  method               = "POST"
  proxy                = Nothing
  rawBody              = False
  redirectCount        = 10
  responseTimeout      = ResponseTimeoutDefault
  requestVersion       = HTTP/1.1
}
 (InternalException (HandshakeFailed Error_EOF))</pre></div></div></div><div class="message event" id="message-1600671889.006200"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1600671889.006200">2020-09-21&nbsp;16:04:49 +0900</a></div></div><div class="message__body description"><a href='https://www.stackage.org/'>https://www.stackage.org/</a> もアクセスに失敗しますね... :confused:</div></div></div><div class="message event" id="message-1600692630.006500"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1600692630.006500">2020-09-21&nbsp;21:50:30 +0900</a></div></div><div class="message__body description">すごい <a href='https://twitter.com/ntszw/status/1308012037591781376'>https://twitter.com/ntszw/status/1308012037591781376</a></div></div></div><div class="message event" id="message-1600731056.007700"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1600731056.007700">2020-09-22&nbsp;08:30:56 +0900</a></div></div><div class="message__body description">復活してました :relieved:</div></div></div><div class="message event" id="message-1600732735.008400"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1600732735.008400">2020-09-22&nbsp;08:58:55 +0900</a></div></div><div class="message__body description">ExcelにHaskellのコードを埋め込める時代が来てました <a href='https://github.com/MarcusRainbow/Haxcel'>https://github.com/MarcusRainbow/Haxcel</a></div></div></div><div class="message event" id="message-1600736594.008800"><div class="content"><div class="summary"><div class="message__header user">ykominami</div><div class="message__timestamp date"><a class="date" href="#message-1600736594.008800">2020-09-22&nbsp;10:03:14 +0900</a></div></div><div class="message__body description">@ykominami has joined the channel</div></div></div><div class="message event" id="message-1600758536.010000"><div class="content"><div class="summary"><div class="message__header user">b1714935</div><div class="message__timestamp date"><a class="date" href="#message-1600758536.010000">2020-09-22&nbsp;16:08:56 +0900</a></div></div><div class="message__body description">@b1714935 has joined the channel</div></div></div><div class="message event" id="message-1600784723.010200"><div class="content"><div class="summary"><div class="message__header user">nobuyuki.tomizawa</div><div class="message__timestamp date"><a class="date" href="#message-1600784723.010200">2020-09-22&nbsp;23:25:23 +0900</a></div></div><div class="message__body description">本家とは別な感じなのですね :slightly_smiling_face:<br/><br/><a href='https://www.microsoft.com/en-us/research/blog/influencing-mainstream-software-applying-programming-language-research-ideas-to-transform-spreadsheets/'>https://www.microsoft.com/en-us/research/blog/influencing-mainstream-software-applying-programming-language-research-ideas-to-transform-spreadsheets/</a></div></div></div><div class="message event" id="message-1600841426.001000"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1600841426.001000">2020-09-23&nbsp;15:10:26 +0900</a></div></div><div class="message__body description">中身は Haskell Wiki そのままですが、動くプロジェクトとして C から Haskell を呼ぶコードを書いてみた。<br/><a href='https://github.com/kakkun61/c-invokes-haskell'>https://github.com/kakkun61/c-invokes-haskell</a></div></div></div><div class="message event" id="message-1600845249.001400"><div class="content"><div class="summary"><div class="message__header user">ryuji.sg100</div><div class="message__timestamp date"><a class="date" href="#message-1600845249.001400">2020-09-23&nbsp;16:14:09 +0900</a></div></div><div class="message__body description">@ryuji.sg100 has joined the channel</div></div></div><div class="message event" id="message-1600938930.003800"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1600938930.003800">2020-09-24&nbsp;18:15:30 +0900</a></div></div><div class="message__body description">自静的ウェブサイトを Ruby Jekyll から Haskell で shake + lucid + hint にしたら結構満足いくものになった。<br/><a href='https://doujin.kakkun61.com/'>https://doujin.kakkun61.com/</a><br/>キモはこの辺り ↓ で、hint でインタープリターを呼び出しているのでコンテンツの変更で Haskell コードの再ビルドの必要がない（ルールの変更のときだけ再ビルドをする）。<br/><a href='https://github.com/kakkun61/doujin-site/blob/master/app/gen.hs#L64-L79'>https://github.com/kakkun61/doujin-site/blob/master/app/gen.hs#L64-L79</a><br/>コンテンツは lucid で記述する。<br/><a href='https://github.com/kakkun61/doujin-site/blob/master/content/index.hs'>https://github.com/kakkun61/doujin-site/blob/master/content/index.hs</a><br/><br/>そのうちブログにまとめます。</div></div></div><div class="message event" id="message-1601034584.004900"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1601034584.004900">2020-09-25&nbsp;20:49:44 +0900</a></div></div><div class="message__body description">古い記事だけど知らなかった。ウケる :laughing: <a href='http://fumieval.hatenablog.com/entry/2013/02/22/010432'>http://fumieval.hatenablog.com/entry/2013/02/22/010432</a></div></div></div><div class="message event" id="message-1601108076.007600"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601108076.007600">2020-09-26&nbsp;17:14:36 +0900</a></div></div><div class="message__body description">ブログにまとめました。 <a href='https://kakkun61.hatenablog.com/entry/2020/09/26/shake_%2B_lucid_%2B_hint_%E3%81%A7%E9%9D%99%E7%9A%84%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B5%E3%82%A4%E3%83%88%E7%94%9F%E6%88%90'>https://kakkun61.hatenablog.com/entry/2020/09/26/shake_%2B_lucid_%2B_hint_%E3%81%A7%E9%9D%99%E7%9A%84%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B5%E3%82%A4%E3%83%88%E7%94%9F%E6%88%90</a></div></div></div><div class="message event" id="message-1601142048.008900"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601142048.008900">2020-09-27&nbsp;02:40:48 +0900</a></div></div><div class="message__body description">テンプレートリポジトリーにしました <a href='https://github.com/kakkun61/static-site-generator-template'>https://github.com/kakkun61/static-site-generator-template</a></div></div></div><div class="message event" id="message-1601186222.009400"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601186222.009400">2020-09-27&nbsp;14:57:02 +0900</a></div></div><div class="message__body description">英語記事にしました <a href='https://dev.to/kakkun61/static-site-generator-powered-by-shake-lucid-and-hint-d5b'>https://dev.to/kakkun61/static-site-generator-powered-by-shake-lucid-and-hint-d5b</a></div></div></div><div class="message event" id="message-1601334327.010100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1601334327.010100">2020-09-29&nbsp;08:05:27 +0900</a></div></div><div class="message__body description">GHC 9.0のalpha版が！ :tada:<br/><a href='https://downloads.haskell.org/ghc/9.0.1-alpha1/'>https://downloads.haskell.org/ghc/9.0.1-alpha1/</a><br/>アナウンスメール: <a href='https://mail.haskell.org/pipermail/ghc-devs/2020-September/019286.html'>https://mail.haskell.org/pipermail/ghc-devs/2020-September/019286.html</a></div></div></div><div class="message event" id="message-1601365678.012300"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601365678.012300">2020-09-29&nbsp;16:47:58 +0900</a></div></div><div class="message__body description">線形型で遊んでみるか</div></div></div><div class="message event" id="message-1601374609.013500"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601374609.013500">2020-09-29&nbsp;19:16:49 +0900</a></div></div><div class="message__body description">9.0.1-alpha1 Windows 版、8.8.4 みたいにまた絶対パスが入っている？</div></div></div><div class="message event" id="message-1601379175.014100"><div class="content"><div class="summary"><div class="message__header user">takenobu.hs</div><div class="message__timestamp date"><a class="date" href="#message-1601379175.014100">2020-09-29&nbsp;20:32:55 +0900</a></div></div><div class="message__body description">是非、バグ報告を:pray:<br/><a href='https://gitlab.haskell.org/ghc/ghc/-/issues'>https://gitlab.haskell.org/ghc/ghc/-/issues</a><br/><br/>今回は本リリースが10月中旬のようで、テスト可能期間が特に短いので:+1:</div></div></div><div class="message event" id="message-1601380256.014700"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601380256.014700">2020-09-29&nbsp;20:50:56 +0900</a></div></div><div class="message__body description">GitHub Actions だと通った あれー <a href='https://github.com/kakkun61/linear-type-playground/runs/1181818130'>https://github.com/kakkun61/linear-type-playground/runs/1181818130</a></div></div></div><div class="message event" id="message-1601382111.015000"><div class="content"><div class="summary"><div class="message__header user">takenobu.hs</div><div class="message__timestamp date"><a class="date" href="#message-1601382111.015000">2020-09-29&nbsp;21:21:51 +0900</a></div></div><div class="message__body description">たぶん、Windows配布版のバイナリに問題があるのかと思います。<br/>エラーをreproduceできるコードの現物を、issueに貼り付けてもらえれば:+1:<br/>ちなみにエラーは、ghcやrunhaskellでも起きますか？<br/>cabal buildの場合のみ？ その辺りの情報も混みで提示できると、より助かると思います:sparkles:</div></div></div><div class="message event" id="message-1601388098.016500"><div class="content"><div class="summary"><div class="message__header user">takenobu.hs</div><div class="message__timestamp date"><a class="date" href="#message-1601388098.016500">2020-09-29&nbsp;23:01:38 +0900</a></div></div><div class="message__body description">GHC 9.0のLinearTypes。 <a href='https://www.reddit.com/r/haskell/comments/j1jkjq/announce_glasgow_haskell_compiler_901alpha1/'>Redditのコメント</a>がGHCのバグを意味してるのかと思ったら、LinearTypesで<br/>多重使用を正しく検出できたということですね。<br/><br/><pre>{-# LANGUAGE LinearTypes #-}

foo :: Int #-&gt; (Int,Int)
foo i = (i,i)</pre><br/>iが２回使われてるので、以下のエラー検出できて、めでたし、ということですね。  結構、記述が軽い。 <code>#-&gt;</code>だけ。<br/><br/><pre>$ ghc test.hs
test.hs:5:5: error:
    • Couldn't match type ''Many' with ''One'
        arising from multiplicity of 'i'
    • In an equation for 'foo': foo i = (i, i)
  |
5 | foo i = (i,i)
  |     ^</pre><br/></div></div></div><div class="message event" id="message-1601397520.017300"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601397520.017300">2020-09-30&nbsp;01:38:40 +0900</a></div></div><div class="message__body description">Docker コンテナー内でもうまく行きますねえ <a href='https://gist.github.com/kakkun61/8703f6319359e1ab17dc8768bb604bb4'>https://gist.github.com/kakkun61/8703f6319359e1ab17dc8768bb604bb4</a><br/>ローカルでは再現するんだけどなあ</div></div></div><div class="message event" id="message-1601397652.017500"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601397652.017500">2020-09-30&nbsp;01:40:52 +0900</a></div></div><div class="message__body description">寝ても思いつかなければ Reddit にコメント書いてみます</div></div></div><div class="message event" id="message-1601420733.017700"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1601420733.017700">2020-09-30&nbsp;08:05:33 +0900</a></div></div><div class="message__body description">重複がないかだけ確認してさっさと報告した方がいいと思います。特に急いでいるでしょうし。安定版ならともかく、GHCのalpha版のことなんで開発者の方が特に詳しいでしょうしね。</div></div></div><div class="message event" id="message-1601440442.018000"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601440442.018000">2020-09-30&nbsp;13:34:02 +0900</a></div></div><div class="message__body description">分からんので起票した <a href='https://gitlab.haskell.org/ghc/ghc/-/issues/18774'>https://gitlab.haskell.org/ghc/ghc/-/issues/18774</a></div></div></div><div class="message event" id="message-1601442384.018500"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1601442384.018500">2020-09-30&nbsp;14:06:24 +0900</a></div></div><div class="message__body description">うーん、さっと試した感じ私の手元でも再現しませんね...  ぐぬぬ。</div></div></div><div class="message event" id="message-1601450018.019400"><div class="content"><div class="summary"><div class="message__header user">minorinoki_haskjp</div><div class="message__timestamp date"><a class="date" href="#message-1601450018.019400">2020-09-30&nbsp;16:13:38 +0900</a></div></div><div class="message__body description">verbose系のオプションを付けた時の実行結果も見たいですね</div></div></div><div class="message event" id="message-1601452112.019800"><div class="content"><div class="summary"><div class="message__header user">diohabara</div><div class="message__timestamp date"><a class="date" href="#message-1601452112.019800">2020-09-30&nbsp;16:48:32 +0900</a></div></div><div class="message__body description">@diohabara has joined the channel</div></div></div><div class="message event" id="message-1601453076.020000"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601453076.020000">2020-09-30&nbsp;17:04:36 +0900</a></div></div><div class="message__body description">載せました～</div></div></div><div class="message event" id="message-1601453464.020200"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601453464.020200">2020-09-30&nbsp;17:11:04 +0900</a></div></div><div class="message__body description">ghc から呼ばれる gcc に verbose 付けたいな</div></div></div><div class="message event" id="message-1601455413.020500"><div class="content"><div class="summary"><div class="message__header user">minorinoki_haskjp</div><div class="message__timestamp date"><a class="date" href="#message-1601455413.020500">2020-09-30&nbsp;17:43:33 +0900</a></div></div><div class="message__body description">手元のWindows環境でも確認してみましたが、GHCに <code>-optc-v</code> をつけて実行すると <code>ignoring nonexistent directory "D:/msys64/mingw64/include"</code>  というメッセージが出てますね。`D:/msys64` が単に存在しないだけならOKで、「メディアの挿入されていない光学ドライブ」だとエラーになる感じですかね。</div></div></div><div class="message event" id="message-1601459073.020900"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1601459073.020900">2020-09-30&nbsp;18:44:33 +0900</a></div></div><div class="message__body description">なるほどー<br/>その旨 GitLab に書いていただければ嬉しいです</div></div></div><div class="message event" id="message-1601461148.021100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1601461148.021100">2020-09-30&nbsp;19:19:08 +0900</a></div></div><div class="message__body description">USBの外付け光学ドライブじゃ再現しないっぽいですね...</div></div></div><div class="message event" id="message-1601461476.021300"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1601461476.021300">2020-09-30&nbsp;19:24:36 +0900</a></div></div><div class="message__body description">mod_poppoさんの推測と一緒にコメントしておきました。</div></div></div><div class="message event" id="message-1601519786.022200"><div class="content"><div class="summary"><div class="message__header user">U01BRF5D69Z</div><div class="message__timestamp date"><a class="date" href="#message-1601519786.022200">2020-10-01&nbsp;11:36:26 +0900</a></div></div><div class="message__body description">@U01BRF5D69Z has joined the channel</div></div></div><div class="message event" id="message-1601552292.022400"><div class="content"><div class="summary"><div class="message__header user">U01BY9MH3D2</div><div class="message__timestamp date"><a class="date" href="#message-1601552292.022400">2020-10-01&nbsp;20:38:12 +0900</a></div></div><div class="message__body description">@U01BY9MH3D2 has joined the channel</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/C4M4TT8JJ/80.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div></div></body></html>