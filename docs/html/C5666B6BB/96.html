<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / questions #96</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / questions #96</h1><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/96.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div><div class="message_list ui feed"><div class="message event" id="message-1615540248.006100"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615540248.006100">2021-03-12&nbsp;18:10:48 +0900</a></div></div><div class="message__body description">@nekonistyle has joined the channel</div></div></div><div class="message event" id="message-1615570535.006300"><div class="content"><div class="summary"><div class="message__header user">sakoh10</div><div class="message__timestamp date"><a class="date" href="#message-1615570535.006300">2021-03-13&nbsp;02:35:35 +0900</a></div></div><div class="message__body description">@sakoh10 has joined the channel</div></div></div><div class="message event" id="message-1615609238.006700"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615609238.006700">2021-03-13&nbsp;13:20:38 +0900</a></div></div><div class="message__body description">質問はこちらの方が良いでしょうかね？</div></div></div><div class="message event" id="message-1615610001.014200"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615610001.014200">2021-03-13&nbsp;13:33:21 +0900</a></div></div><div class="message__body description">まず、Haskellというよりももっと一般的な質問なのですが、<br/>webアプリのバックエンドって、フロントから呼び出されるたびに起動して、データベースを読み込んだりするものなのでしょうか？<br/><br/>何がいいたいかというと、バックエンドでフロントから送られてきたデータを使ってリストを作りたいのですが、このリストは毎回データベースに保存しなければならないのか、それともバックエンドのプログラム内に保持しておくことができるのか、という質問です。</div></div></div><div class="message event" id="message-1615610091.015600"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615610091.015600">2021-03-13&nbsp;13:34:51 +0900</a></div></div><div class="message__body description">しかもHaskellでデータを保持するとはどういうことなのか（参照等価なので）もよく分かっていないです。</div></div></div><div class="message event" id="message-1615610103.016000"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615610103.016000">2021-03-13&nbsp;13:35:03 +0900</a></div></div><div class="message__body description">すみません、あまりうまく説明できないです...</div></div></div><div class="message event" id="message-1615610558.016300"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615610558.016300">2021-03-13&nbsp;13:42:38 +0900</a></div></div><div class="message__body description">やりたいことは、関数型言語Elmみたいな構造をバックエンドでもやりたくて以下の構造を作ってみたのですが、<br/>'sが状態の型<br/>'iが入力の型<br/>'oが出力の型<br/>で、バックエンドでやりたいのは、<br/>初期状態がinit::'sと<br/>状態state::'sと入力input::'iに対して、次の状態と出力を返す関数update::'s -&gt; 'i -&gt; 's,'oで定義できるのではと考えて、型を実装してみました。<br/><br/>問題はこの構造から具体的にデータベースへアクセスしたりJSONなどに変換したりする実装をどうするかというところで止まっています。</div></div></div><div class="message event" id="message-1615610619.017400"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615610619.017400">2021-03-13&nbsp;13:43:39 +0900</a></div></div><div class="message__body description">ちなみにこのコードは、形式検証をするために定理証明支援系Coqと呼ばれるもので記述したコードをHaskellのコードに変換したものになっています。</div></div></div><div class="message event" id="message-1615612695.020100"><div class="content"><div class="summary"><div class="message__header user">nekonistyle</div><div class="message__timestamp date"><a class="date" href="#message-1615612695.020100">2021-03-13&nbsp;14:18:15 +0900</a></div></div><div class="message__body description">理想としては、Architecture型の引数をもらって、それに応じてデータベースのやりとりとJSONの入出力を行ってくれる関数を定義したい感じです。<br/><br/>データベースから's型の変数を作り、入力のJSONを'i型に変換し、updateを施した後、返り値の's型のデータをデータベースに保存し、'o型の返り値をJSONに変換して出力。</div></div></div><div class="message event" id="message-1615735084.022300"><div class="content"><div class="summary"><div class="message__header user">forprivc</div><div class="message__timestamp date"><a class="date" href="#message-1615735084.022300">2021-03-15&nbsp;00:18:04 +0900</a></div></div><div class="message__body description">@forprivc has joined the channel</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/96.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div></div></body></html>