[
    {
        "text": "多段に構える、LamdaCase、maybe関数を使う、3つのパターンと回答ありがとうございます。\n\nLamdaCaseだと警告が出てくれるんですね。\nmaybeは慣れるまでなかなかぱっと出てこなさそうです。\n\npt1のように書いてしまった場合、GHCオプションで警告やエラーにするオプションはありますでしょうか?",
        "type": "message",
        "ts": "1658062508.826259",
        "user": "U02FM2G52D6"
    },
    {
        "text": "pt1のようにdo記法の `&lt;-` でパターンマッチが失敗しうる場合に警告を出すオプションは今のGHCにはなさそうです。`&lt;-` のパターンマッチ失敗はcatchを使わなくても処理できることが多いこと、 `Maybe` やリストなどのモナドでは `&lt;-` で意図的に失敗しうるパターンマッチを使うことがあり、警告の優先度が低いと思われたのかもしれません。一応issueは立ってます：<https://gitlab.haskell.org/ghc/ghc/-/issues/19327> どうしてもどうにかしたければ、IOモナド（等）のMonadFailを実装しないラッパーを用意するといういう手があります。\n\n警告をエラーにするには `-Werror` オプションが利用できます。`-Werror=incomplete-patterns -Werror=incomplete-uni-patterns` という風に利用できます。\n\n「main関数をcatchで包んで全てのエラーを捕捉する」のは状況にもよりますが、あまりお勧めしません。下手なエラーの握りつぶし方をすると発生箇所等の情報が得られなくなってデバッグが困難になる恐れがあります。",
        "type": "message",
        "ts": "1658064128.590249",
        "user": "UGM9F7XQS"
    },
    {
        "text": "オプションはないものなんですね。\n例外が起きる箇所を意識できていないので全部エラーか警告にと思ったのですが。\n\n回答ありがとうございます。",
        "type": "message",
        "ts": "1658118029.208219",
        "user": "U02FM2G52D6"
    }
]