<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / questions #14</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / questions #14</h1><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/13.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a><a href="../../html/C5666B6BB/15.html" class="pager__next item">Next</a></div><div class="message_list ui feed"><div class="message event" id="message-1518598106.000295"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date">2018-02-14&nbsp;17:48:26 +0900</div></div><div class="message__body description">Topic Request で OK です</div></div></div><div class="message event" id="message-1518598108.000413"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-02-14&nbsp;17:48:28 +0900</div></div><div class="message__body description">あれ、なかったっけ。了解です。</div></div></div><div class="message event" id="message-1518598194.000087"><div class="content"><div class="summary"><div class="message__header user">as_capabl</div><div class="message__timestamp date">2018-02-14&nbsp;17:49:54 +0900</div></div><div class="message__body description">ありがとうございます。ブログについては見落としてました。この記事の3つの拡張ポイントが * のカインドとどう関係しているか、については、時間があるときに原論文を呼んでみたいです。</div></div></div><div class="message event" id="message-1518753371.000096"><div class="content"><div class="summary"><div class="message__header user">as_capabl</div><div class="message__timestamp date">2018-02-16&nbsp;12:56:11 +0900</div></div><div class="message__body description">こんな感じで型レべルリストに対する <code>(:)</code> 演算子みたいなものを作りたいのですが、どこかのパッケージで定義されていたりしないでしょうか。<br/><br/><pre>
class KList (f :: k -&gt; *) (g :: [k] -&gt; *)
  where
    (&lt;:&lt;) :: f x -&gt; g xs -&gt; g (x ': xs)

-- 利用例 (実際にはSingではなく情報のある型を使いたい)
instance KList Sing Sing
  where
   x &lt;:&lt; y = SCons x y

main =
  do
    let s = (sing :: Sing "orange") &lt;:&lt; (sing :: Sing '["apple", "grape"])
    print $ fromSing s
</pre><br/><br/>自分の作る型に対して専用の演算子を作ってもいいのですが、演算子をいたずらに増やしたくないので既存のものがあったら使いたいと思った次第です。</div></div></div><div class="message event" id="message-1518761689.000127"><div class="content"><div class="summary"><div class="message__header user">naohaq</div><div class="message__timestamp date">2018-02-16&nbsp;15:14:49 +0900</div></div><div class="message__body description">Fractionalのインスタンスに必要なのって <code>(/)</code> と <code>fromRational</code> なので、「可除数」とかじゃダメですか。</div></div></div><div class="message event" id="message-1518761772.000176"><div class="content"><div class="summary"><div class="message__header user">naohaq</div><div class="message__timestamp date">2018-02-16&nbsp;15:16:12 +0900</div></div><div class="message__body description">有限体もFractionalなので。</div></div></div><div class="message event" id="message-1518836506.000071"><div class="content"><div class="summary"><div class="message__header user">as_capabl</div><div class="message__timestamp date">2018-02-17&nbsp;12:01:46 +0900</div></div><div class="message__body description">自分で定義するにしても(:)演算子に限定せずに、singletonパッケージのTyFunに対して付随する値レベルの演算をインスタンス宣言できるように、型クラスを定義するのがベターかなと思いました</div></div></div><div class="message event" id="message-1518881181.000021"><div class="content"><div class="summary"><div class="message__header user">info</div><div class="message__timestamp date">2018-02-18&nbsp;00:26:21 +0900</div></div><div class="message__body description">@info has joined the channel</div></div></div><div class="message event" id="message-1518928474.000055"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date">2018-02-18&nbsp;13:34:34 +0900</div></div><div class="message__body description">分数という訳語は、さんざん思案した結果採用したものです。:thinking_face:感覚的には可除数というのもありかなと思います。</div></div></div><div class="message event" id="message-1518941236.000052"><div class="content"><div class="summary"><div class="message__header user">karoyakani</div><div class="message__timestamp date">2018-02-18&nbsp;17:07:16 +0900</div></div><div class="message__body description">shelarcy 著「本物のプログラマはHaskellを使う」は2013年の良記事 <a href='http://tech.nikkeibp.co.jp/it/article/COLUMN/20060915/248215/?ST=develop'>http://tech.nikkeibp.co.jp/it/article/COLUMN/20060915/248215/?ST=develop</a> ですが 最新の Haskell に合わせた改訂版はありますか？<br/>またこのような詳しいレベルの日本語解説記事が他にもあれば教えて下さい。</div></div></div><div class="message event" id="message-1518945319.000016"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date">2018-02-18&nbsp;18:15:19 +0900</div></div><div class="message__body description">著者が音信不通だそうです…… <a href='https://haskell-jp.slack.com/archives/C4M4TT8JJ/p1511314597000198'>https://haskell-jp.slack.com/archives/C4M4TT8JJ/p1511314597000198</a></div></div></div><div class="message event" id="message-1519012478.000013"><div class="content"><div class="summary"><div class="message__header user">ttsurutani</div><div class="message__timestamp date">2018-02-19&nbsp;12:54:38 +0900</div></div><div class="message__body description">虎本の訳者である @nobsun さんから直接コメントいただけるとは感激です。訳者の皆さんが単語一つ一つに適切な訳語を選ぶために大変なご苦労されていることは存じ上げております。今回の皆さんのご指摘で、自身の分数のイメージが有理数側に偏っていたのが分かり大変勉強になりました。今後も宜しくお願いいたします。</div></div></div><div class="message event" id="message-1519021953.000202"><div class="content"><div class="summary"><div class="message__header user">as_capabl</div><div class="message__timestamp date">2018-02-19&nbsp;15:32:33 +0900</div></div><div class="message__body description">これ、別に左辺が <code>f x</code> の形をしている必要はない事に気づいたので、APIを工夫して左辺が <code>g xs -&gt; g (x:xs)</code> になるようにして、ユーザーには <code>$</code> 演算子で適用してもらう事にしました。</div></div></div><div class="message event" id="message-1519026745.000218"><div class="content"><div class="summary"><div class="message__header user">maru8m.jp</div><div class="message__timestamp date">2018-02-19&nbsp;16:52:25 +0900</div></div><div class="message__body description">@maru8m.jp has joined the channel</div></div></div><div class="message event" id="message-1519047298.000208"><div class="content"><div class="summary"><div class="message__header user">maru8m.jp</div><div class="message__timestamp date">2018-02-19&nbsp;22:34:58 +0900</div></div><div class="message__body description">初学者です。「すごいHaskellたのしく学ぼう」の以下の記載(p121)、<br/><blockquote>具体型とは、型引数を１つも取らない型か、あるいは、型引数を取るけれどもそれが全て埋まっている型のことを指します。</blockquote>これについて、<br/>1. 「埋められていない型引数がある型」というのは <code>hoge :: [a] -&gt; b</code> の <code>[a]</code> などを想像していいものでしょうか？またはこの時の <code>b</code> も？<br/>2. 「埋められていない型引数がある型」というのは「抽象型」と呼んでいいのでしょうか？それともまた別の用語がありますか？<br/><br/>まとめ<br/>1. どちらも具体型。 <code>(-&gt;)</code> や <code>([a] -&gt;)</code> がそれに該当し、型コンストラクタではあるが具体型ではない。また「型」という語には具体型のみを指す場合と、それ以外のものも含む場合があり、文脈に気を付けること( <code>Maybe a</code> でなく <code>Maybe</code> を型と呼ぶ場合がある、という話)<br/>2. 呼ばない。</div></div></div><div class="message event" id="message-1519047428.000324"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date">2018-02-19&nbsp;22:37:08 +0900</div></div><div class="message__body description">1つめの質問だと <code>(-&gt;)</code> や <code>([a] -&gt;)</code> が「埋められていない型引数がある型」ですね</div></div></div><div class="message event" id="message-1519048239.000018"><div class="content"><div class="summary"><div class="message__header user">maru8m.jp</div><div class="message__timestamp date">2018-02-19&nbsp;22:50:39 +0900</div></div><div class="message__body description">ありがとうございます、 <code>(-&gt;)</code> って型コンストラクタなんですか…？と思ったらすごいH本のp231にその旨の記載がありますね…その周辺をざっと読んだ限りFunctorまで読めばこの疑問は解決しそうな気がしてきました。</div></div></div><div class="message event" id="message-1519049360.000579"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date">2018-02-19&nbsp;23:09:20 +0900</div></div><div class="message__body description">2つめの質問の回答になってるか分からないですが、『型システム入門』では、例えば <code>id</code> の型は <code>a -&gt; a</code> ですが、拡張を使えば <code>forall a. a -&gt; a</code> と書けて <code>forall a. T</code> のような型を全称型といいます。<br/>またそのような型を持つ項を型抽象といいます。<br/>（誰かに合ってるかチェックしてもらいたい</div></div></div><div class="message event" id="message-1519122303.000222"><div class="content"><div class="summary"><div class="message__header user">hiratara</div><div class="message__timestamp date">2018-02-20&nbsp;19:25:03 +0900</div></div><div class="message__body description">「具象型」と呼ばれているのは <code>Int</code> <code>Maybe Int</code> <code>Maybe a</code> など、そうではない型コンストラクタは <code>Maybe</code> のことですね。混乱したらカインドを考えて、カインドが <code>*</code> のものが「具象型」と思うのがわかりやすい気がします。<br/>「具象型」ではない型コンストラクタのいい呼び方は、私は知りません。単に型コンストラクタと言ってしまうことも多いような・・・。</div></div></div><div class="message event" id="message-1519264826.000066"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-02-22&nbsp;11:00:26 +0900</div></div><div class="message__body description">どなたか、GHCのTracなどについて知見のある方お願いします！<br/><a href='https://www.reddit.com/r/haskell_jp/comments/7zb7ao/ghc%E3%81%AE%E7%89%B9%E5%AE%9A%E3%81%AE%E6%A9%9F%E8%83%BD%E3%81%AE%E9%96%8B%E7%99%BA%E7%8A%B6%E6%B3%81%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/'>https://www.reddit.com/r/haskell_jp/comments/7zb7ao/ghc%E3%81%AE%E7%89%B9%E5%AE%9A%E3%81%AE%E6%A9%9F%E8%83%BD%E3%81%AE%E9%96%8B%E7%99%BA%E7%8A%B6%E6%B3%81%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/</a></div></div></div><div class="message event" id="message-1519293501.000050"><div class="content"><div class="summary"><div class="message__header user">eliza0x</div><div class="message__timestamp date">2018-02-22&nbsp;18:58:21 +0900</div></div><div class="message__body description">Data.Array.IOで謎の挙動を踏んでしまって困っているのですが誰か助けてください…<br/>配列の要素の1つ目には値を代入していないのに変化してしまうのですが…<br/><a href='https://wandbox.org/permlink/cDzxFPMREeY0JSAE'>https://wandbox.org/permlink/cDzxFPMREeY0JSAE</a></div></div></div><div class="message event" id="message-1519294610.000129"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date">2018-02-22&nbsp;19:16:50 +0900</div></div><div class="message__body description">17行目 <code>print =&lt;&lt; readArray arr n</code> で <code>n</code> じゃなくて <code>i</code> じゃね？</div></div></div><div class="message event" id="message-1519295049.000030"><div class="content"><div class="summary"><div class="message__header user">eliza0x</div><div class="message__timestamp date">2018-02-22&nbsp;19:24:09 +0900</div></div><div class="message__body description">あっ……</div></div></div><div class="message event" id="message-1519395474.000077"><div class="content"><div class="summary"><div class="message__header user">maru8m.jp</div><div class="message__timestamp date">2018-02-23&nbsp;23:17:54 +0900</div></div><div class="message__body description">すごいH本にカインドの記述が見られなかったので調べてきました、がそれなりに難しそうですね…Wikipedia の記載ですが、カインドが <code>*</code> を「零項の型コンストラクタ」というのは気に入りました、１以上の項の型コンストラクタを指す特別な用語がない、というのも何となく納得です。</div></div></div><div class="message event" id="message-1519460691.000086"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-02-24&nbsp;17:24:51 +0900</div></div><div class="message__body description"><blockquote>すごいH本にカインドの記述が見られなかったので</blockquote>Functorを説明しているあたりにあるはずですよ！</div></div></div><div class="message event" id="message-1519471730.000002"><div class="content"><div class="summary"><div class="message__header user">maru8m.jp</div><div class="message__timestamp date">2018-02-24&nbsp;20:28:50 +0900</div></div><div class="message__body description">うおおおー、7.11(p155)にありますね！<br/>あと今見たら「種類」としては索引にありますね、「種(しゅ)」を探せば見つけられたのか…「kind」と「種(たね)」しか探してませんでした、ありがとうございます！</div></div></div><div class="message event" id="message-1519538775.000007"><div class="content"><div class="summary"><div class="message__header user">maru8m.jp</div><div class="message__timestamp date">2018-02-25&nbsp;15:06:15 +0900</div></div><div class="message__body description">Haskell 入門の p87 の注釈欄 *13 の下記の記載を見て何となく理解しました。<br/>&gt; IO や Maybe はカインドが * ではないので正確には型ではありませんが、(略)<br/>私の当初の疑問は<br/>&gt; 具体型とは、型引数を１つも取らない型か、あるいは、型引数を取るけれどもそれが全て埋まっている型<br/>という文から、型の中に具体型とそうでないものがある、という想像をしたのですが、実際には型と具体型は同じもので、型コンストラクタのうち特殊なものを型と呼ぶ、という理解になりました（間違ってたら誰かご指摘ください…）</div></div></div><div class="message event" id="message-1519543044.000075"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date">2018-02-25&nbsp;16:17:24 +0900</div></div><div class="message__body description">大丈夫なように思います。一点、「型」という語は具体型のみを指す場合と、それ以外のものも含む場合と両方あるので、読むときはそこに注意が必要ですね。</div></div></div><div class="message event" id="message-1519561237.000055"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-25&nbsp;21:20:37 +0900</div></div><div class="message__body description">英語で質問する場所ってどこがいいです？Haskell Cafe思ったより人がいなくてもうメジャーじゃないのかな</div></div></div><div class="message event" id="message-1519561495.000082"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-25&nbsp;21:24:55 +0900</div></div><div class="message__body description">あとHaskellのメーリングリストにホスティングサイトの脆弱性っぽいの投げたけど他の場所だったら投げなおします</div></div></div><div class="message event" id="message-1519564064.000022"><div class="content"><div class="summary"><div class="message__header user">syocy</div><div class="message__timestamp date">2018-02-25&nbsp;22:07:44 +0900</div></div><div class="message__body description">英語だと Stackoverflow は Haskell の質問は結構投稿されていますね。ディスカッション寄りのことがしたいのであれば別の場所があるかもしれないですが、ちょっと私は分からないです。</div></div></div><div class="message event" id="message-1519565681.000086"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-25&nbsp;22:34:41 +0900</div></div><div class="message__body description">Stackoverflowは功徳を積んでなくて投稿できないので今回は無理そうです。ここの皆さんは功徳を積んで投稿されてるんですかね</div></div></div><div class="message event" id="message-1519566403.000009"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-25&nbsp;22:46:43 +0900</div></div><div class="message__body description">いや今見たら投稿できるっぽいな…今度そっちも試してみます</div></div></div><div class="message event" id="message-1519574116.000074"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-26&nbsp;00:55:16 +0900</div></div><div class="message__body description">Haskellでマイナー気味なDBを使おうとするとドライバがなくてRustに流れそうなんですがこれはもうあきらめるところでしょうか…</div></div></div><div class="message event" id="message-1519604201.000036"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-02-26&nbsp;09:16:41 +0900</div></div><div class="message__body description">Redditですかね後は。<br/><a href='https://www.reddit.com/r/haskell/'>https://www.reddit.com/r/haskell/</a><br/><a href='https://www.reddit.com/r/haskellquestions/'>https://www.reddit.com/r/haskellquestions/</a> というのもありました</div></div></div><div class="message event" id="message-1519604225.000099"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-02-26&nbsp;09:17:05 +0900</div></div><div class="message__body description">どのMLのことですか？</div></div></div><div class="message event" id="message-1519605969.000023"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-26&nbsp;09:46:09 +0900</div></div><div class="message__body description">haskell@haskell.orgです</div></div></div><div class="message event" id="message-1519619322.000036"><div class="content"><div class="summary"><div class="message__header user">nnwww</div><div class="message__timestamp date">2018-02-26&nbsp;13:28:42 +0900</div></div><div class="message__body description">僕もRocksDB使ってみたいなーとか思いますね</div></div></div><div class="message event" id="message-1519619981.000018"><div class="content"><div class="summary"><div class="message__header user">wado</div><div class="message__timestamp date">2018-02-26&nbsp;13:39:41 +0900</div></div><div class="message__body description">cardano-sl で使われてるやつですね！</div></div></div><div class="message event" id="message-1519620322.000121"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-26&nbsp;13:45:22 +0900</div></div><div class="message__body description">NoSQLはRest APIがあるようなのでそっちで頑張れるか試す予定</div></div></div><div class="message event" id="message-1519623171.000116"><div class="content"><div class="summary"><div class="message__header user">nnwww</div><div class="message__timestamp date">2018-02-26&nbsp;14:32:51 +0900</div></div><div class="message__body description">バインディングとしてchrisdoneが作ったrocksdb-haskell-ngが使われているんですね。情報ありがとうございます。<br/><a href='https://github.com/chrisdone/rocksdb-haskell-ng'>https://github.com/chrisdone/rocksdb-haskell-ng</a></div></div></div><div class="message event" id="message-1519625894.000198"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-26&nbsp;15:18:14 +0900</div></div><div class="message__body description">メーリスでもRCリリースの告知ありましたがRedditのほうが食いつきいいですね</div></div></div><div class="message event" id="message-1519634463.000455"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-26&nbsp;17:41:03 +0900</div></div><div class="message__body description">コピペ<br/><br/>I become aware of the problem that<br/><a href='https://mail.haskell.org/mailman/listinfo/haskell'>https://mail.haskell.org/mailman/listinfo/haskell</a> send a password to<br/><a href='http://mail.haskell.org/cgi-bin/mailman/subscribe/haskell'>http://mail.haskell.org/cgi-bin/mailman/subscribe/haskell</a>. Probably it<br/>means this page will send a password without encryption. Could you use<br/>https instead of http, or remove this duplicate page? I had used<br/><a href='https://mail.haskell.org/cgi-bin/mailman/listinfo/haskell'>https://mail.haskell.org/cgi-bin/mailman/listinfo/haskell</a> instead.</div></div></div><div class="message event" id="message-1519645994.000037"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-02-26&nbsp;20:53:14 +0900</div></div><div class="message__body description">なるほど。その程度でしたらわざわざセキュリティー専用のチャンネルを探す間でもないですね:cold_sweat::cold_sweat::cold_sweat:</div></div></div><div class="message event" id="message-1519647371.000381"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-26&nbsp;21:16:11 +0900</div></div><div class="message__body description">うっかりパスワード丸見えで送るとこだったので早く直してほしい</div></div></div><div class="message event" id="message-1519661197.000402"><div class="content"><div class="summary"><div class="message__header user">wat-aro</div><div class="message__timestamp date">2018-02-27&nbsp;01:06:37 +0900</div></div><div class="message__body description">Text 型で String のようなパターンマッチはできませんか？<br/>正規表現は使いたくないんですが、そうするとParsec使うしかないのでしょうか？</div></div></div><div class="message event" id="message-1519664863.000700"><div class="content"><div class="summary"><div class="message__header user">nrskt</div><div class="message__timestamp date">2018-02-27&nbsp;02:07:43 +0900</div></div><div class="message__body description">正規表現を使うほど複雑な処理はわかりませんが、 <code>ViewPatterns</code> , <code>OverloadedStrings</code> を使えば先頭からxxxとかのマッチはできると思います。</div></div></div><div class="message event" id="message-1519694477.000137"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-02-27&nbsp;10:21:17 +0900</div></div><div class="message__body description">私も OverloadedStrings と文字列リテラル ( "..." ) のパターンを ByteString 等で良く使います。</div></div></div><div class="message event" id="message-1519697229.000286"><div class="content"><div class="summary"><div class="message__header user">falsandtru</div><div class="message__timestamp date">2018-02-27&nbsp;11:07:09 +0900</div></div><div class="message__body description">AtomのHIEでStylish Haskellはどう適用するんでしたっけ？以前できたはずなのに思い出せない</div></div></div><div class="message event" id="message-1519703539.000082"><div class="content"><div class="summary"><div class="message__header user">wat-aro</div><div class="message__timestamp date">2018-02-27&nbsp;12:52:19 +0900</div></div><div class="message__body description">なるほど。 <code>ViewPatterns</code> 覚えないと。<br/>ありがとうございます！</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/13.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a><a href="../../html/C5666B6BB/15.html" class="pager__next item">Next</a></div></div></body></html>