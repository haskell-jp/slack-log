<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / random #25</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / random #25</h1>
    <div class="pager ui pagination menu">
      <a href="../../html/C4M4TT8JJ/24.html" class="pager__previous item">Previous</a>
      <a href="../../" class="pager__top item">Top</a>
      <a href="../../html/C4M4TT8JJ/26.html" class="pager__next item">Next</a>
    </div>
    <div class="message_list ui feed">
      <div class="message event" id="message-1539048603.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539048603.000100">2018-10-09 10:30:03 +0900</a></div>
          </div>
          <div class="message__body description">:sweat_smile: HaskellDayのハッシュタグが被ってしまったか。。。まぁ、Haskellってもともと人の名前だし、しょうがないか。。。<br/><a href='https://twitter.com/USIndianAffairs/status/1041702224534138881'>https://twitter.com/USIndianAffairs/status/1041702224534138881</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539048814.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539048814.000100">2018-10-09 10:33:34 +0900</a></div>
          </div>
          <div class="message__body description">どうやらプログラミング言語の方の名前の由来となったHaskell Curryさんとも関係がない、別のHaskellさんみたい。<br/><a href='https://en.wikipedia.org/wiki/Haskell_Indian_Nations_University'>https://en.wikipedia.org/wiki/Haskell_Indian_Nations_University</a><br/><blockquote>The school was named after Dudley C. Haskell, a member of the U.S. House of Representatives from the 2nd district of Kansas.</blockquote></div>
        </div>
      </div>
      <div class="message event" id="message-1539054975.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">hiroto.shioi</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539054975.000100">2018-10-09 12:16:15 +0900</a></div>
          </div>
          <div class="message__body description">ああああああ！知ってる！最初大学ぐるみでHaskellを推進しているのかと勘違いしてました。</div>
        </div>
      </div>
      <div class="message event" id="message-1539080141.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">1to100pen</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539080141.000100">2018-10-09 19:15:41 +0900</a></div>
          </div>
          <div class="message__body description">「Haskell入門ハンズオン」イベントのハッシュタグが <code>#Haskell</code> なのも他の Haskellさんと被りがち。</div>
        </div>
      </div>
      <div class="message event" id="message-1539139275.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539139275.000100">2018-10-10 11:41:15 +0900</a></div>
          </div>
          <div class="message__body description">自作ライブラリをhaddockでドキュメント作ってみてみたらテンション上がりました</div>
        </div>
      </div>
      <div class="message event" id="message-1539143075.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539143075.000100">2018-10-10 12:44:35 +0900</a></div>
          </div>
          <div class="message__body description">あとちゃんとドキュメント書くと文明的になりますね</div>
        </div>
      </div>
      <div class="message event" id="message-1539162809.000200">
        <div class="content">
          <div class="summary">
            <div class="message__header user">tkskzyk0925</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539162809.000200">2018-10-10 18:13:29 +0900</a></div>
          </div>
          <div class="message__body description">@tkskzyk0925 has joined the channel</div>
        </div>
      </div>
      <div class="message event" id="message-1539179888.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">tkskzyk0925</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539179888.000100">2018-10-10 22:58:08 +0900</a></div>
          </div>
          <div class="message__body description">Haskell初心者なので、見当違いのことを言っているかもしれませんが、質問させてください :bow:<br/><br/><b><b>※全てGHCi v8.0.2で処理を行っています</b></b><br/><br/><code>fmap</code> と <code>ap</code> を用いることで、任意個の引数を持つ関数と任意個のFunctorに対して、以下のような計算が行えるかと思います：<br/><br/><pre>
(*) &lt;$&gt; Just 1 &lt;*&gt; Just 2 =&gt; Just 2
</pre><br/><br/>ここで、TupleもFunctorのインスタンスであることを知り、以下のような計算を考えてみました：<br/><br/><pre>
(*) &lt;$&gt; (1, 1) &lt;*&gt; (2, 2) =&gt; (1, 2) となることを期待
</pre><br/><br/>しかしながら、上記の式はShowのインスタンスとして解決できないという趣旨のエラーにより、期待する結果が得られませんでした。<br/><br/>そこで、ステップごとに型を確かめてみたところ：<br/><br/><pre>
:t ((*) &lt;$&gt;)
((*) &lt;$&gt;) :: (Num a, Functor f) =&gt; f a -&gt; f (a -&gt; a)

:t ((*) &lt;$&gt; (1,1))
((*) &lt;$&gt; (1,1)) :: (Num t, Num a) =&gt; (t, a -&gt; a)

:t ((*) &lt;$&gt; (1,1) &lt;*&gt;)
((*) &lt;$&gt; (1,1) &lt;*&gt;) :: (Num t, Num b, Monoid t) =&gt; (t, b) -&gt; (t, b)

:t ((*) &lt;$&gt; (1,1) &lt;*&gt; (2,2))
((*) &lt;$&gt; (1,1) &lt;*&gt; (2,2)) :: (Num t, Num b, Monoid t) =&gt; (t, b)
</pre><br/><br/>これより、 <code>ap</code> を適用した時点で第一要素にMonoidの型制約が入っており、これがエラーの原因かと考えています。<br/><br/>なぜ <code>ap</code> を適用した時点でMonoidの型制約が入るのでしょうか？これは、TupleがApplicativeのインスタンスとして何か特殊化されているためなのでしょうか？<br/>またもし上記が正しい場合、特殊化を回避すれば期待する計算結果は得られるのでしょうか？<br/><br/>長文となりましたが、ご教授いただければ幸いです :haskell:</div>
        </div>
      </div>
      <div class="message event" id="message-1539181912.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">aiya000</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539181912.000100">2018-10-10 23:31:52 +0900</a></div>
          </div>
          <div class="message__body description">tにMonoidが入るのは、そのApplicativeインスタンスの制約にMonoidが入るからですね！<br/><code>Monoid t =&gt; Applicative ((,) t)</code><br/><a href='https://www.stackage.org/haddock/lts-12.12/base-4.11.1.0/Prelude.html#t:Applicative'>https://www.stackage.org/haddock/lts-12.12/base-4.11.1.0/Prelude.html#t:Applicative</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539183884.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">tkskzyk0925</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539183884.000100">2018-10-11 00:04:44 +0900</a></div>
          </div>
          <div class="message__body description">ありがとうございます！<br/><br/>こちら、最初は変な挙動に思えていましたが、第一要素を無視するのであればそもそもで文脈としてのFunctor(Maybeの様な)を使えば良いのかなと<br/>第一要素を活かしてApplicativeとしての連鎖を許すなら、第一要素はMonoidとして連結していく方が自然かつ有用ということなんですかね<br/><br/>このあたり、何か数学的・圏論的な背景もあったりしたら別途知ってみたいです :haskell:</div>
        </div>
      </div>
      <div class="message event" id="message-1539191111.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">yharuhi39</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539191111.000100">2018-10-11 02:05:11 +0900</a></div>
          </div>
          <div class="message__body description">端的に言うと、ソース読めやおらぁ？！（大汗）　ってことになるわけですが、 <code>(u, f) &lt;*&gt; (v, x) = (u &lt;&gt; v, f x)</code> というApplicativeインスタンスの宣言（一部抜粋）がなされてたので、タプルの左側の型の  <code>&lt;&gt;</code>  の仕方わかんないんだけど（怒り）　と言われてるのだと思います。</div>
        </div>
      </div>
      <div class="message event" id="message-1539196512.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">1to100pen</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539196512.000100">2018-10-11 03:35:12 +0900</a></div>
          </div>
          <div class="message__body description"><pre>(*) &lt;$&gt; (1, 1) &lt;*&gt; (2, 2) =&gt; (1, 2) となることを期待</pre><br/>とのことですがこの <code>(1, 2)</code> はどういう計算結果ですか。<br/>2 は 1*2 の結果かなと思うのですが 1 の方は第一要素の最初に出てきた 1？</div>
        </div>
      </div>
      <div class="message event" id="message-1539208918.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">mizunashi-mana</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539208918.000100">2018-10-11 07:01:58 +0900</a></div>
          </div>
          <div class="message__body description">少し補足なのですが，<br/><blockquote>第一要素を活かしてApplicativeとしての連鎖を許すなら、第一要素はMonoidとして連結していく方が自然かつ有用ということなんですかね</blockquote>というのは正しいのですが，<br/><pre>
(*) &lt;$&gt; (1, 1) &lt;*&gt; (2, 2) -- =&gt; (1, 2)
</pre><br/>という動作で実装されていないのはそもそもこういう動作をApplicativeにすることが困難だからです．<br/>理由は単純でApplicativeクラスのpureを実装できないからです．つまり，以下のような式において?の要素を埋められないからです．<br/><pre>
pure 2 :: (Int, Int) -- =&gt; (?, 2)
</pre><br/>デフォルト値として0を入れればいいのではないかという見方もできますが，デフォルト値というのは行いたい演算によって変わってくるので，Int型(や他の全ての型)でデフォルト値を一意に決めることは通常できません．<br/><br/>Monoidのインスタンスであればデフォルト値が決まりますし，apのための演算も提供できるというのがMonoidインスタンスで実装されている主な背景です(これは圏論でのApplicative functorの捉え方とも関連性はあるのですが，あまり安易な解説をしてる文献は知らないですね… 興味があれば， <a href='https://bartoszmilewski.com/2017/02/06/applicative-functors/'>https://bartoszmilewski.com/2017/02/06/applicative-functors/</a> とかを読んでみるといいかもしれません)<br/><br/>ところで，全ての型に強制的にデフォルト値を足して，演算として最初の要素をただ単に返すMonoidインスタンスを持つデータ型はFirst(<https://www.stackage.org/haddock/lts-12.12/base-4.11.1.0/Data-Monoid.html#t:First>)という名前で提供されていて，これを使えばおそらく最初に期待した動作は得られます．<br/><pre>
(*) &lt;$&gt; (First (Just 1), 1) &lt;*&gt; (First (Just 2), 2) == (First (Just 1), 1 * 2)
</pre></div>
        </div>
      </div>
      <div class="message event" id="message-1539237399.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">tkskzyk0925</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539237399.000100">2018-10-11 14:56:39 +0900</a></div>
          </div>
          <div class="message__body description">@mizunashi-mana <code>pure</code> が実装できないというのはすごく納得です！ありがとうございます :slightly_smiling_face:</div>
        </div>
      </div>
      <div class="message event" id="message-1539325107.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">fumieval</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539325107.000100">2018-10-12 15:18:27 +0900</a></div>
          </div>
          <div class="message__body description"><a href='http://www.tsurucapital.com/en/'>http://www.tsurucapital.com/en/</a> Tsuru Capitalはインターン(3ヶ月)の募集を再開しています。選考は難易度低めのコードサンプル(<http://www.tsurucapital.com/en/code-sample.html>)が主体で、正しい結果を出すのはもちろんですがコードの品質、速度なども評価されます。腕に自信のある方はぜひ</div>
        </div>
      </div>
      <div class="message event" id="message-1539354026.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">fumieval</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539354026.000100">2018-10-12 23:20:26 +0900</a></div>
          </div>
          <div class="message__body description">「腕に自信のある方は」は余計だったかもしれない。比較的簡単な問題の割に応募数も正答率も低いので狙い目ですよ</div>
        </div>
      </div>
      <div class="message event" id="message-1539380019.000200">
        <div class="content">
          <div class="summary">
            <div class="message__header user">ababjam61</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539380019.000200">2018-10-13 06:33:39 +0900</a></div>
          </div>
          <div class="message__body description">@ababjam61 has joined the channel</div>
        </div>
      </div>
      <div class="message event" id="message-1539460327.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539460327.000100">2018-10-14 04:52:07 +0900</a></div>
          </div>
          <div class="message__body description"><code>Language.Haskell.TH.Syntax</code> の <code>addDependentFile</code> をStackで使ってたら <code>package.yaml</code> の <code>extra-source-files</code> に該当ファイルを書いておかないと検知してくれないという罠にかかりました</div>
        </div>
      </div>
      <div class="message event" id="message-1539651008.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">kazu</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539651008.000100">2018-10-16 09:50:08 +0900</a></div>
          </div>
          <div class="message__body description">GHC のビルドシステムが Hardian になるみたい。</div>
        </div>
      </div>
      <div class="message event" id="message-1539651009.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">kazu</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539651009.000100">2018-10-16 09:50:09 +0900</a></div>
          </div>
          <div class="message__body description"><a href='https://github.com/snowleopard/hadrian'>https://github.com/snowleopard/hadrian</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539652583.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">junji.hashimoto</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539652583.000100">2018-10-16 10:16:23 +0900</a></div>
          </div>
          <div class="message__body description">すみません。<br/>リンク先をみてよくわからなかったのですが、これを使う目的・利点はどの辺に書いてありますか？<br/>また、GHC以外には使えない・使いにくい何かがあるのでしょうか。</div>
        </div>
      </div>
      <div class="message event" id="message-1539652780.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">junji.hashimoto</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539652780.000100">2018-10-16 10:19:40 +0900</a></div>
          </div>
          <div class="message__body description">Haskell Symposium 2016 paperですね。失礼しました。<br/><a href='https://dl.acm.org/authorize?N41275'>https://dl.acm.org/authorize?N41275</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539652933.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">hiroto.shioi</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539652933.000100">2018-10-16 10:22:13 +0900</a></div>
          </div>
          <div class="message__body description">約２０％の確率で来年の年明けにフィリップ・ワドラー氏が来日する可能性があります。実際にはもっと可能性が低いので小ネタ程度に捉えてください。。！</div>
        </div>
      </div>
      <div class="message event" id="message-1539661883.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">as_capabl</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539661883.000100">2018-10-16 12:51:23 +0900</a></div>
          </div>
          <div class="message__body description">＞数学的・圏論的な背景<br/>Applicativeは自己函手の圏でDay convolutionを積とした場合のモノイド対象で、MonoidはSet圏のモノイド対象である事がちょっと関係あったりするかもしれないなあと思いました（小並感）</div>
        </div>
      </div>
      <div class="message event" id="message-1539669000.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">cosmiafu</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539669000.000100">2018-10-16 14:50:00 +0900</a></div>
          </div>
          <div class="message__body description">その説はオーソドックスけど、個人的に、monoidal functor として解釈する方がわかりやすいと思う、Coendなどのことを要らなくなる</div>
        </div>
      </div>
      <div class="message event" id="message-1539677370.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539677370.000100">2018-10-16 17:09:30 +0900</a></div>
          </div>
          <div class="message__body description">GHC向けrbenv的なやつかな？stack使いたくなければこれを使え、と。<br/><a href='https://github.com/haskell/ghcup'>https://github.com/haskell/ghcup</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539678620.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">tkskzyk0925</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539678620.000100">2018-10-16 17:30:20 +0900</a></div>
          </div>
          <div class="message__body description">@cosmiafu そのあたりを調べるとあたりがつくんだろうなと考えて、 <a href='http://www.staff.city.ac.uk/~ross/papers/Applicative.pdf'>http://www.staff.city.ac.uk/~ross/papers/Applicative.pdf</a> を読んでいるのですが、2-Tuple Applicativeの実装として自然に上述のものが得られる根拠は <b>4. Monoids are phontom Applicative functors</b> に記述されているのかなと理解しました<br/>( <code>newtype Accy o a = Acc { acc :: o }</code> に対して、 <code>a</code> を無視しない適切な構成を考えると2-Tuple Applicativeの実装になるかなと)</div>
        </div>
      </div>
      <div class="message event" id="message-1539692070.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">takenobu.hs</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539692070.000100">2018-10-16 21:14:30 +0900</a></div>
          </div>
          <div class="message__body description">ちなみに、ghc8.6やmasterブランチでも、hadrianでのビルドが可能です。<br/>（マシンによってはビルドが速くなります。）<br/><br/>以下もGHC用の関連リンクです。<br/><a href='https://ghc.haskell.org/trac/ghc/wiki/Building/Hadrian/QuickStart'>https://ghc.haskell.org/trac/ghc/wiki/Building/Hadrian/QuickStart</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539738956.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539738956.000100">2018-10-17 10:15:56 +0900</a></div>
          </div>
          <div class="message__body description"><a href='https://ryota-ka.hatenablog.com/entry/2018/10/17/103000'>https://ryota-ka.hatenablog.com/entry/2018/10/17/103000</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539774662.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">mizunashi-mana</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539774662.000100">2018-10-17 20:11:02 +0900</a></div>
          </div>
          <div class="message__body description">僕が想定していたのは，monoidal functorから導き出すものですね． <@UDC1LV887> さんが上げているPDFにある通り，Applicativeは(Strong) monoidal functorと一致します．<br/><br/>monoidal functor同士の積はmonoidal functorになります．(m, -) ~ Const m * Identityで，<br/>instance Monoidal Identity where<br/>  unit = Identity ()<br/>  Identity x * Identity y = Identity (x, y)<br/>と書けますから，後はConst mからmonoidal functorが作れれば自明な(m, -)のmonoidal functorが導出できます．Const m上ではfmapは意味を為さないので，ここから算出されるmonoidal functorはHaskでは唯一で，それが 4. Monoids are phontom Applicative functors に記述されている Accy ですね．<br/><br/>この(m, -)の実装は一般にはWriter Monadと呼ばれています．</div>
        </div>
      </div>
      <div class="message event" id="message-1539775041.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">tkskzyk0925</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539775041.000100">2018-10-17 20:17:21 +0900</a></div>
          </div>
          <div class="message__body description"><@U57D08Z9U><br/>Const m * Identity が 2-Tuple Applicativeになるよねというふわっとした理解がより補強されました、ありがとうございます！(唯一であることも気になっていたので、完全にすっきりしました :haskell: )</div>
        </div>
      </div>
      <div class="message event" id="message-1539843537.000200">
        <div class="content">
          <div class="summary">
            <div class="message__header user">jonathan.s</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539843537.000200">2018-10-18 15:18:57 +0900</a></div>
          </div>
          <div class="message__body description">@jonathan.s has joined the channel</div>
        </div>
      </div>
      <div class="message event" id="message-1539858512.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539858512.000100">2018-10-18 19:28:32 +0900</a></div>
          </div>
          <div class="message__body description">ちょろっとやってみました：HaskellでDhallをExtensibleのレコードとして読み込めるようにする - Qiita - <a href='https://qiita.com/A_kirisaki/items/a72cb21be08c6dd7cf92'>https://qiita.com/A_kirisaki/items/a72cb21be08c6dd7cf92</a></div>
        </div>
      </div>
      <div class="message event" id="message-1539874698.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">as_capabl</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539874698.000100">2018-10-18 23:58:18 +0900</a></div>
          </div>
          <div class="message__body description">自分のやつも少し詳しく考えてみました。<br/><br/>関手(a,)から(b,)への自然変換は `forall x. (a, x) -&gt; (b, x)` ですが、これは関数 `a-&gt;b` と同型です。<br/>したがってこの自然変換を射とする圏、すなわちHask^Haskの関手圏の部分圏 (*,) と、関数を射とするHask圏は圏同値になります。<br/>a-&gt;bを上記の自然変換にマップする関数を以下の通り定義しておきます。<br/><br/>```<br/>iso1 :: (a-&gt;b) -&gt; (a, x) -&gt; (b, x)<br/>iso1 f = \(a, x) -&gt; (f a, x)<br/>```</div>
        </div>
      </div>
      <div class="message event" id="message-1539874737.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">as_capabl</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539874737.000100">2018-10-18 23:58:57 +0900</a></div>
          </div>
          <div class="message__body description">さらに、Data.Functor.Day (<http://hackage.haskell.org/package/kan-extensions-5.2/docs/Data-Functor-Day.html>) で定義されるDayについて、<br/><br/><pre>
Day (a,) (b,) x = forall p q. Day (a, p) (b, q) (p -&gt; q -&gt; x)
&lt;-&gt; ((a, b) (forall p q. (p, q, p -&gt; q -&gt; x))
&lt;-&gt; ((a, b), x)
</pre><br/><br/>という同型を考えられますが、これは前述の圏同値でHaskの <code>(a, b)</code> に対応する対象になります。つまり、圏同値によって(,)はDay convolution(の同型)に対応します。<br/><code>Day (a,) (b,) x</code> を <code>((a,b), x)</code> にマップする関数を以下のように定義しておきます。<br/><br/><pre>
iso2 :: Day (a,) (b,) x -&gt; ((a, b), x)
iso2 (Day (a, p) (b, q) f) = ((a, b), f p q)
</pre></div>
        </div>
      </div>
      <div class="message event" id="message-1539874777.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">as_capabl</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539874777.000100">2018-10-18 23:59:37 +0900</a></div>
          </div>
          <div class="message__body description">以上より圏同値によって、(,)をモノイド積としたHaskのモノイド対象Monoidは、Day convolutionを積とした(*,)のモノイド対象Applicativeと一対一関係になります。<br/><br/>実際、(*,) の `&lt;*&gt;` は `\x y -&gt; iso1 (uncurry (&lt;&gt;)) . iso2 $ day x y` によって作られます。</div>
        </div>
      </div>
      <div class="message event" id="message-1539874946.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">as_capabl</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539874946.000100">2018-10-19 00:02:26 +0900</a></div>
          </div>
          <div class="message__body description">確かに、Dayという概念を理解するためにEndの概念が必要で(私もあまりちゃんとは理解できてないと思います)、 @cosmiafu さんが仰るように直観性に欠けるとは思います。</div>
        </div>
      </div>
      <div class="message event" id="message-1539906157.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539906157.000100">2018-10-19 08:42:37 +0900</a></div>
          </div>
          <div class="message__body description">Haskell Community Priorities for GHCについてのsurveyだそうです。<br/><a href='https://docs.google.com/forms/d/e/1FAIpQLSdh7sf2MqHoEmjt38r1cxCF-tV76OFCJqU6VabGzlOUKYqo-w/viewform'>https://docs.google.com/forms/d/e/1FAIpQLSdh7sf2MqHoEmjt38r1cxCF-tV76OFCJqU6VabGzlOUKYqo-w/viewform</a><br/>GHC本体に6カ月間コミットしてくれる人がいたとして、何をして欲しいのか、具体的に書いて欲しいとのこと。<br/>HIWでも似たような議論をしたので、それをさらに広くとる試みのようです。</div>
        </div>
      </div>
      <div class="message event" id="message-1539926071.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">kameoka.ryota</div>
            <div class="message__timestamp date"><a class="date" href="#message-1539926071.000100">2018-10-19 14:14:31 +0900</a></div>
          </div>
          <div class="message__body description">:point_up: に対応した dhall-haskell の新しいバージョンもリリースされましたね :tada:<br/><a href='https://github.com/dhall-lang/dhall-haskell/releases/tag/1.18.0'>https://github.com/dhall-lang/dhall-haskell/releases/tag/1.18.0</a></div>
        </div>
      </div>
      <div class="message event" id="message-1540205000.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540205000.000100">2018-10-22 19:43:20 +0900</a></div>
          </div>
          <div class="message__body description">ByteStringで失敗した話：[HaskellでのQuickCheckとData\.ByteString\.Char8の罠 \- Qiita](<https://qiita.com/A_kirisaki/items/ae8ac60ead2e17a87bad>)</div>
        </div>
      </div>
      <div class="message event" id="message-1540213801.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">as_capabl</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540213801.000100">2018-10-22 22:10:01 +0900</a></div>
          </div>
          <div class="message__body description">似た原因のバグを踏んだことがあります... <a href='https://github.com/syucream/hastodon/issues/4'>https://github.com/syucream/hastodon/issues/4</a> Char8.packはdeprecateした方がいい予感</div>
        </div>
      </div>
      <div class="message event" id="message-1540214588.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540214588.000100">2018-10-22 22:23:08 +0900</a></div>
          </div>
          <div class="message__body description">というかChar8使わず <code>Data.Word8</code> 使うべきなのかもしれませんね</div>
        </div>
      </div>
      <div class="message event" id="message-1540250601.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540250601.000100">2018-10-23 08:23:21 +0900</a></div>
          </div>
          <div class="message__body description"><code>OverloadedStrings</code> 使ってるときも同じ理由で良くハマるんですよね... :disappointed:<br/>cassavaみたいな、テキストファイルを扱うけど入力はByteStringなライブラリーがあって、そいつを使ったテストを書く際に入力を日本語が混ざった文字列リテラルで渡すと... :scream:</div>
        </div>
      </div>
      <div class="message event" id="message-1540268705.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">fumieval</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540268705.000100">2018-10-23 13:25:05 +0900</a></div>
          </div>
          <div class="message__body description">私もOverloadedStringsでやられました。今更インスタンスを消すわけにはいかないので、encodeUTF8 . Data.Text.packにしてもよいような…</div>
        </div>
      </div>
      <div class="message event" id="message-1540270048.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540270048.000100">2018-10-23 13:47:28 +0900</a></div>
          </div>
          <div class="message__body description">:open_mouth: <a href='https://www.tweag.io/posts/2018-10-04-capability.html'>https://www.tweag.io/posts/2018-10-04-capability.html</a> やっと読めたんですけど、これすごいっすね。<br/>これで速度に問題がなければ事実上の標準になるのでは。</div>
        </div>
      </div>
      <div class="message event" id="message-1540272546.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">cosmiafu</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540272546.000100">2018-10-23 14:29:06 +0900</a></div>
          </div>
          <div class="message__body description">HList-like indexed transformer?</div>
        </div>
      </div>
      <div class="message event" id="message-1540282051.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540282051.000100">2018-10-23 17:07:31 +0900</a></div>
          </div>
          <div class="message__body description">QuickChekが <code>ByteString</code> に <code>Arbitary</code> のインスタンスを作っていてくれればこんなことには……</div>
        </div>
      </div>
      <div class="message event" id="message-1540282239.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">igrep</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540282239.000100">2018-10-23 17:10:39 +0900</a></div>
          </div>
          <div class="message__body description">それは <a href='http://hackage.haskell.org/package/quickcheck-instances'>http://hackage.haskell.org/package/quickcheck-instances</a> を使え、ということになるのでは。quickcheckとしては依存関係を絞りたいんでしょう。（もちろん <code>[Word8]</code> から簡単に作れちゃう、というのもありますし）</div>
        </div>
      </div>
      <div class="message event" id="message-1540283727.000100">
        <div class="content">
          <div class="summary">
            <div class="message__header user">a_kirisaki</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540283727.000100">2018-10-23 17:35:27 +0900</a></div>
          </div>
          <div class="message__body description">アッこんなライブラリが！ありがとうございます</div>
        </div>
      </div>
      <div class="message event" id="message-1540419420.000200">
        <div class="content">
          <div class="summary">
            <div class="message__header user">boomehlang</div>
            <div class="message__timestamp date"><a class="date" href="#message-1540419420.000200">2018-10-25 07:17:00 +0900</a></div>
          </div>
          <div class="message__body description">@boomehlang has joined the channel</div>
        </div>
      </div>
    </div>
    <div class="pager ui pagination menu">
      <a href="../../html/C4M4TT8JJ/24.html" class="pager__previous item">Previous</a>
      <a href="../../" class="pager__top item">Top</a>
      <a href="../../html/C4M4TT8JJ/26.html" class="pager__next item">Next</a>
    </div>
  </div>
</body>
</html>
