<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #19</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #19</h1>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/18.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1637817370.043200">
        <div class="content">
          <div class="summary">
            <div class="user">mail741</div>
            <div class="date"><a class="date" href="#message-1637817370.043200">2021-11-25 14:16:10 +0900</a></div>
          </div>
          <div class="description"><code>Bifunctor</code>  って第一引数を固定すると <code>Functor</code>  になると思うんですが，そういうインスタンス定義は提供されてないみたいなので，<br/><pre>instance Bifunctor f =&gt; Functor (f a) where
  fmap = second</pre><br/>と書いてみるとこれはコンパイル通りません．エラーメッセージは<br/><pre>[1 of 1] Compiling Main             ( adv.hs, interpreted )

adv.hs:70:25: error:
    • Illegal instance declaration for 'Functor (f a)'
        (All instance types must be of the form (T a1 ... an)
         where a1 ... an are *distinct type variables*,
         and each type variable appears at most once in the instance head.
         Use FlexibleInstances if you want to disable this.)
    • In the instance declaration for 'Functor (f a)'
   |
70 | instance Bifunctor f =&gt; Functor (f a) where
   |                         ^^^^^^^^^^^^^
Failed, no modules loaded.</pre><br/>で，指示通り <code>{-# LANGUAGE FlexibleInstances #-}</code> をつけるとコンパイルは通りますが，デフォルトだとなんでこんな制約があるんでしょう？</div>
          <a class="link-to-replies" href="19/1637817370.043200.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1638018727.046600">
        <div class="content">
          <div class="summary">
            <div class="user">muratomo.0205</div>
            <div class="date"><a class="date" href="#message-1638018727.046600">2021-11-27 22:12:07 +0900</a></div>
          </div>
          <div class="description">質問失礼します．<br/>RPELで<br/><pre>hoge 0 = 0
hoge 1 = 1
hoge x = hoge (x-1) + hoge (x-2)</pre><br/>を定義する方法はありますか?caseを使うしかないのでしょうか?<br/>このように定義すると，単に関数の定義を上書きしているとみなされてしまいます．</div>
          <a class="link-to-replies" href="19/1638018727.046600.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1638020585.048800">
        <div class="content">
          <div class="summary">
            <div class="user">muratomo.0205</div>
            <div class="date"><a class="date" href="#message-1638020585.048800">2021-11-27 22:43:05 +0900</a></div>
          </div>
          <div class="description">質問連投すみません．<br/>こちらをMain.hsに入力しました：<br/><pre>hoge 0 = 0
hoge 1 = 1
hoge x = hoge (x-1) + hoge (x-2)</pre><br/>REPLを起動してロードしても，定義されていないことになっており，行き詰まってしまいました．．．<br/><pre>Resolving dependencies...
Build profile: -w ghc-8.10.4 -O1
In order, the following will be built (use -v for more details):
 - fake-package-0 (lib) (first run)
Configuring library for fake-package-0..
Preprocessing library for fake-package-0..
Warning: No exposed modules
GHCi, version 8.10.4: <https://www.haskell.org/ghc/>  :? for help
Loaded GHCi configuration from /var/folders/xq/fpvgsjwd3ms24_w3lwl_4d780000gn/T/cabal-repl.-18964/setcwd.ghci
Prelude&gt; :l Main
[1 of 1] Compiling Main             ( Main.hs, interpreted )
Ok, one module loaded.
Prelude&gt; hoge 5

&lt;interactive&gt;:2:1: error: Variable not in scope: hoge :: t0 -&gt; t
Prelude&gt; </pre><br/></div>
          <a class="link-to-replies" href="19/1638020585.048800.html">... Replies ...</a>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/18.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
  </div>
</body>
</html>
