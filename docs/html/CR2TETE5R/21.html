<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #21</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #21</h1>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/20.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1653569189.154239">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1653569189.154239">2022-05-26 21:46:29 +0900</a></div>
          </div>
          <div class="description">→ コードテストでは失敗、提出すると AC でした。<br/>(たぶん) アルゴ式側の問題のようなので (運営の方に) 質問してみます m(_ _)m</div>
          <a class="link-to-replies" href="21/1653569189.154239.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1653570372.113199">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1653570372.113199">2022-05-26 22:06:12 +0900</a></div>
          </div>
          <div class="description">入力が空欄でした…… ありがとうございます！</div>
        </div>
      </div>
      <div class="event" id="message-1653615213.762739">
        <div class="content">
          <div class="summary">
            <div class="user">fet</div>
            <div class="date"><a class="date" href="#message-1653615213.762739">2022-05-27 10:33:33 +0900</a></div>
          </div>
          <div class="description">@fet has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1653782439.713629">
        <div class="content">
          <div class="summary">
            <div class="user">宮入徹也</div>
            <div class="date"><a class="date" href="#message-1653782439.713629">2022-05-29 09:00:39 +0900</a></div>
          </div>
          <div class="description">現在haskell で gmail の新着を imap で取得し、tmux のステータスバーに表示するプログラムを常用しております。oauth2.0 認証に変更したいのですが、参考にすべきサンプルコード等を探しています。参考情報等ご教示いただけると助かります。</div>
          <a class="link-to-replies" href="21/1653782439.713629.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1654040068.422199">
        <div class="content">
          <div class="summary">
            <div class="user">shinya sakae</div>
            <div class="date"><a class="date" href="#message-1654040068.422199">2022-06-01 08:34:28 +0900</a></div>
          </div>
          <div class="description">@shinya sakae has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654090171.846919">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1654090171.846919">2022-06-01 22:29:31 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654090171.846919">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1654090171.846919">2022-06-01 22:29:31 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654687788.136419">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1654687788.136419">2022-06-08 20:29:48 +0900</a></div>
          </div>
          <div class="description">コマンドラインで関数定義を引くことはできますか？<br/>たとえば  <code>print</code> で検索したら <code>print = putStrLn . show</code> みたいなものが一発で出てくると嬉しいです。</div>
        </div>
      </div>
      <div class="event" id="message-1654687913.448859">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1654687913.448859">2022-06-08 20:31:53 +0900</a></div>
          </div>
          <div class="description"><code>hoogle</code> で検索すれば型は出て来ますが、定義は出せないのでしょうか</div>
          <a class="link-to-replies" href="21/1654687913.448859.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1654768614.223659">
        <div class="content">
          <div class="summary">
            <div class="user">hirofumikubo</div>
            <div class="date"><a class="date" href="#message-1654768614.223659">2022-06-09 18:56:54 +0900</a></div>
          </div>
          <div class="description">@hirofumikubo has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654858454.407139">
        <div class="content">
          <div class="summary">
            <div class="user">Nakamin7</div>
            <div class="date"><a class="date" href="#message-1654858454.407139">2022-06-10 19:54:14 +0900</a></div>
          </div>
          <div class="description">@Nakamin7 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654959014.318599">
        <div class="content">
          <div class="summary">
            <div class="user">osada</div>
            <div class="date"><a class="date" href="#message-1654959014.318599">2022-06-11 23:50:14 +0900</a></div>
          </div>
          <div class="description">@osada has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654994068.188869">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1654994068.188869">2022-06-12 09:34:28 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1654994068.188869">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1654994068.188869">2022-06-12 09:34:28 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1655103639.443429">
        <div class="content">
          <div class="summary">
            <div class="user">liveinwood</div>
            <div class="date"><a class="date" href="#message-1655103639.443429">2022-06-13 16:00:39 +0900</a></div>
          </div>
          <div class="description">yesod のクイックスタートガイド（<https://www.yesodweb.com/page/quickstart>）に従って<br/>コマンド`stack install yesod-bin --install-ghc` を実行すると下記エラーになってしまいます。<br/><pre>ghc: panic! (the 'impossible' happened)
  (GHC version 8.8.4 for x86_64-unknown-linux):
        Prelude.chr: bad argument: 1526726659

Please report this as a GHC bug:  <https://www.haskell.org/ghc/reportabug>


--  While building simple Setup.hs (scroll up to its section to see the error) using:
      /home/morizumi/.stack/programs/x86_64-linux/ghc-tinfo6-8.8.4/bin/ghc-8.8.4 -rtsopts -threaded -clear-package-db -global-package-db -hide-all-packages -package base -main-is StackSetupShim.mainOverride -package Cabal-3.0.1.0 /home/morizumi/.stack/setup-exe-src/setup-mPHDZzAJ.hs /home/morizumi/.stack/setup-exe-src/setup-shim-mPHDZzAJ.hs -o /home/morizumi/.stack/setup-exe-cache/x86_64-linux-tinfo6/tmp-Cabal-simple_mPHDZzAJ_3.0.1.0_ghc-8.8.4
    Process exited with code: ExitFailure 1</pre><br/>このエラーを無視して`stack build` しても同じエラーになります。<br/>エラーの修正方法などありましたら、教えていただけると助かります。</div>
          <a class="link-to-replies" href="21/1655103639.443429.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1655126132.185639">
        <div class="content">
          <div class="summary">
            <div class="user">sanao</div>
            <div class="date"><a class="date" href="#message-1655126132.185639">2022-06-13 22:15:32 +0900</a></div>
          </div>
          <div class="description">こんにちは。<br/>詰まったところがあるので質問させてください。<br/>戻り値の型が IO Boolの solve i j 関数があり、内包表記の中で以下のコードのように使おうと思っております。[Bool]のリストを得たいと思ったのですが、solve i j の戻り値の型が IO Boolであることから、IOが邪魔で困っています([IO Bool]になってしまうので)。どうにかならないでしょうか。unsafePerfomIOは使いたくないと思っています。<br/><pre>print[solve i j | i &lt;- [0 .. n-2], j &lt;- [i+1 .. n-1]]</pre></div>
          <a class="link-to-replies" href="21/1655126132.185639.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1655195431.725849">
        <div class="content">
          <div class="summary">
            <div class="user">あびしゃい後円墳</div>
            <div class="date"><a class="date" href="#message-1655195431.725849">2022-06-14 17:30:31 +0900</a></div>
          </div>
          <div class="description">@あびしゃい後円墳 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1655215674.852489">
        <div class="content">
          <div class="summary">
            <div class="user">sanao</div>
            <div class="date"><a class="date" href="#message-1655215674.852489">2022-06-14 23:07:54 +0900</a></div>
          </div>
          <div class="description">liftM2とliftA2という関数について質問です。<br/>liftM2とliftA2の定義は以下のようになっており<br/><pre>liftA2 :: (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
liftM2 :: Monad m =&gt; (a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r</pre><br/>Applicativeに包まれているかMonadに包まれているかが違いとなる印象を受けますが、liftA2で動くがliftM2では動かない、またはliftM2では動くがliftA2では動かない簡単な具体例はありますでしょうか？（ApplicativeではあるがMonadではない例とも言える？）<br/>ふと気になり質問させていただきました。ご回答お待ちしております。</div>
          <a class="link-to-replies" href="21/1655215674.852489.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1655612121.930569">
        <div class="content">
          <div class="summary">
            <div class="user">Hiromasa Sakata</div>
            <div class="date"><a class="date" href="#message-1655612121.930569">2022-06-19 13:15:21 +0900</a></div>
          </div>
          <div class="description">@Hiromasa Sakata has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1655816541.358789">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1655816541.358789">2022-06-21 22:02:21 +0900</a></div>
          </div>
          <div class="description">こんばんは。 AtCoder で固定長配列を使いたいですが、何かお勧めがあれば教えてください。 (ただ当面リストを使うつもりです)<br/>- <code>Array</code>: ヒープに配置される気がします<br/>- <code>Data.Vector.Fixed</code>: LTS 16.11 の vector にはありませんでした<br/>- タプル: 使えそうですが、使い勝手は悪そうです<br/>- <code>repa</code>: いつか確認したいです</div>
          <a class="link-to-replies" href="21/1655816541.358789.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1655816541.358789">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1655816541.358789">2022-06-21 22:02:21 +0900</a></div>
          </div>
          <div class="description">こんばんは。 AtCoder で固定長配列を使いたいですが、何かお勧めがあれば教えてください。 (ただ当面リストを使うつもりです)<br/>- <code>Array</code>: ヒープに配置される気がします<br/>- <code>Data.Vector.Fixed</code>: LTS 16.11 の vector にはありませんでした<br/>- タプル: 使えそうですが、使い勝手は悪そうです<br/>- <code>repa</code>: いつか確認したいです</div>
          <a class="link-to-replies" href="21/1655816541.358789.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1656050692.881009">
        <div class="content">
          <div class="summary">
            <div class="user">Smearble</div>
            <div class="date"><a class="date" href="#message-1656050692.881009">2022-06-24 15:04:52 +0900</a></div>
          </div>
          <div class="description">@Smearble has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1656219045.405679">
        <div class="content">
          <div class="summary">
            <div class="user">尾﨑嘉彦</div>
            <div class="date"><a class="date" href="#message-1656219045.405679">2022-06-26 13:50:45 +0900</a></div>
          </div>
          <div class="description">@尾﨑嘉彦 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1656998102.383149">
        <div class="content">
          <div class="summary">
            <div class="user">有田翔梧</div>
            <div class="date"><a class="date" href="#message-1656998102.383149">2022-07-05 14:15:02 +0900</a></div>
          </div>
          <div class="description">@有田翔梧 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1658037789.424679">
        <div class="content">
          <div class="summary">
            <div class="user">tuft</div>
            <div class="date"><a class="date" href="#message-1658037789.424679">2022-07-17 15:03:09 +0900</a></div>
          </div>
          <div class="description">GHCオプションの警告や例外処理について教えてください。<br/>GHCのバージョンは8.10.7です。<br/><br/>下記コードのpt1を実行すると「user error (Pattern match failure in do expression」というような例外が、pt2を実行すると「Non-exhaustive patterns in lambda」というような例外が起きてプログラムが落ちてしまうのですが、どのようにすべきなのでしょうか?<br/><br/>-WallオプションはOnにしてみたのですが、コンパイル時にエラーになってくれません。<br/>-Wall以外に何か指定すべきでしょうか?<br/><br/>catchを使うと落ちることはなくなりました。<br/>main関数のすぐ下にcatchを書いてすべて包むべきものなのでしょうか?<br/><br/>よろしくお願いします。<br/><br/><pre>func1 :: IO (Maybe Int, Maybe Int)
func1 = do
  return (Nothing, Nothing)

-- user error (Pattern match failure in do expression
pt1 :: IO ()
pt1 = do
  (_, Just var2) &lt;- func1
  print var2
  return ()

-- Non-exhaustive patterns in lambda
pt2 :: IO ()
pt2 = do
  bracket
    func1
    (\_ -&gt; print ("cleanup" :: String))
    ( \(_, Just var2) -&gt;
        print var2
    )</pre></div>
        </div>
      </div>
      <div class="event" id="message-1658047636.580869">
        <div class="content">
          <div class="summary">
            <div class="user">nobsun</div>
            <div class="date"><a class="date" href="#message-1658047636.580869">2022-07-17 17:47:16 +0900</a></div>
          </div>
          <div class="description">パターン照合は、すべての場合を網羅するよう(exhaustive)に書くことをお勧めします。〈パターン〉&lt;- 〈式〉のような構文ではパターン並記ができないので、多段に構える必要があります。たとえば、<br/><pre>pt1 :: IO ()
pt1 = do
  (_, q) &lt;- func1
  case q of
    Nothing -&gt; error "no data"
    Just v  -&gt; print v</pre><br/>1つめのパターン  <code>(_, q)</code> が <code>(Maybe Int, Maybe Int)</code>  型の値すべてを網羅していることに注目してください。`case` 式では2つパターンを書いて Maybe Int 型の値のすべてを網羅しています。<br/>実行時エラーでプログラムを止めたくなければ、`error "no data"` の代りにたとえば、 <code>putStr "no data"</code> とするか、適当な例外を投げて、`pt1` を呼び出した側で <code>catch</code> して例外処理するようにします。<br/><br/><code>pt2</code> の場合のように、λ抽象式の   \〈パターン〉-&gt;〈式〉もパターン並記ができませんが、こちらは、言語拡張 <code>LambdaCase</code> を指定すると<br/><pre>(\ case
   パターン1 -&gt; 式1
   ...
   パターンn -&gt; 式n
)</pre><br/>のように書くこともできます。<br/><br/>また、パターンマッチを使わずに書くこともできます。`Data.Maybe` で定義されている <code>maybe :: b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b</code> を使います。<br/><pre>pt1 = maybe (error "no data") print . snd =&lt;&lt; func1</pre></div>
        </div>
      </div>
      <div class="event" id="message-1658062508.826259">
        <div class="content">
          <div class="summary">
            <div class="user">tuft</div>
            <div class="date"><a class="date" href="#message-1658062508.826259">2022-07-17 21:55:08 +0900</a></div>
          </div>
          <div class="description">多段に構える、LamdaCase、maybe関数を使う、3つのパターンと回答ありがとうございます。<br/><br/>LamdaCaseだと警告が出てくれるんですね。<br/>maybeは慣れるまでなかなかぱっと出てこなさそうです。<br/><br/>pt1のように書いてしまった場合、GHCオプションで警告やエラーにするオプションはありますでしょうか?</div>
          <a class="link-to-replies" href="21/1658062508.826259.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1658247261.191509">
        <div class="content">
          <div class="summary">
            <div class="user">千吉川</div>
            <div class="date"><a class="date" href="#message-1658247261.191509">2022-07-20 01:14:21 +0900</a></div>
          </div>
          <div class="description">今 sdl2 のライブラリを stack でインストールしようとしているのですが、<br/><pre> sdl2&gt; configure
 sdl2&gt; Configuring sdl2-2.5.3.0...
 sdl2&gt; Cabal-simple_Z6RU0evB_3.4.1.0_ghc-9.0.2.exe: The pkg-config package 'sdl2'
 sdl2&gt; version &gt;=2.0.6 is required but it could not be found.
</pre><br/>こんな具合に止まってしまいます。<br/>どうしたものでしょうか。</div>
          <a class="link-to-replies" href="21/1658247261.191509.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1658361603.258829">
        <div class="content">
          <div class="summary">
            <div class="user">Slackbot</div>
            <div class="date"><a class="date" href="#message-1658361603.258829">2022-07-21 09:00:03 +0900</a></div>
          </div>
          <div class="description">Reminder: beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。 Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。  beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。 • それはくだらない質問だ → くだらない質問など無い • その質問は以前にもあった → 質問者はそんなこと知らない • Google検索せよ → 検索できないから質問している  beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。 • <code>:</code> とは何のことですか。 • タプルとは何ですか。 </div>
        </div>
      </div>
      <div class="event" id="message-1658526015.580989">
        <div class="content">
          <div class="summary">
            <div class="user">sirkerf</div>
            <div class="date"><a class="date" href="#message-1658526015.580989">2022-07-23 06:40:15 +0900</a></div>
          </div>
          <div class="description"><a href='#C7Y71415W'>math</a> に投げるか迷ったのですがこちらで。<br/>Hask圏が圏にならないという話をうけて、それでは代わりになる圏は今のところ考えられているのでしょうか？</div>
        </div>
      </div>
      <div class="event" id="message-1659404414.636799">
        <div class="content">
          <div class="summary">
            <div class="user">hiratara</div>
            <div class="date"><a class="date" href="#message-1659404414.636799">2022-08-02 10:40:14 +0900</a></div>
          </div>
          <div class="description">@hiratara has joined the channel</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/20.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
  </div>
</body>
</html>
