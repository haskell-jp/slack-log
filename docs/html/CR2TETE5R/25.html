<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #25</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #25</h1>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/24.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1714668598.747919">
        <div class="content">
          <div class="summary">
            <div class="user">匿名希望S</div>
            <div class="date"><a class="date" href="#message-1714668598.747919">2024-05-03 01:49:58 +0900</a></div>
          </div>
          <div class="description">@匿名希望S has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1715238502.949729">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1715238502.949729">2024-05-09 16:08:22 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1715240089.559099">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1715240089.559099">2024-05-09 16:34:49 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1715792526.025839">
        <div class="content">
          <div class="summary">
            <div class="user">hkmzk</div>
            <div class="date"><a class="date" href="#message-1715792526.025839">2024-05-16 02:02:06 +0900</a></div>
          </div>
          <div class="description">@hkmzk has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1716270577.865469">
        <div class="content">
          <div class="summary">
            <div class="user">Zac Z</div>
            <div class="date"><a class="date" href="#message-1716270577.865469">2024-05-21 14:49:37 +0900</a></div>
          </div>
          <div class="description">@Zac Z has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1716422423.477339">
        <div class="content">
          <div class="summary">
            <div class="user">Slackbot</div>
            <div class="date"><a class="date" href="#message-1716422423.477339">2024-05-23 09:00:23 +0900</a></div>
          </div>
          <div class="description">Reminder: beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。 Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。  beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。 • それはくだらない質問だ → くだらない質問など無い • その質問は以前にもあった → 質問者はそんなこと知らない • Google検索せよ → 検索できないから質問している  beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。 • <code>:</code> とは何のことですか。 • タプルとは何ですか。 </div>
        </div>
      </div>
      <div class="event" id="message-1716455471.802139">
        <div class="content">
          <div class="summary">
            <div class="user">fg</div>
            <div class="date"><a class="date" href="#message-1716455471.802139">2024-05-23 18:11:11 +0900</a></div>
          </div>
          <div class="description">@fg has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1716462569.700859">
        <div class="content">
          <div class="summary">
            <div class="user">fg</div>
            <div class="date"><a class="date" href="#message-1716462569.700859">2024-05-23 20:09:29 +0900</a></div>
          </div>
          <div class="description">はじめまして、モナドという単語のカッコよさにあこがれて、すごいHaskell本を読んで、楽しくなってきたので、<br/>プログラミングHaskell第2版を現在読んでいます。どうぞよろしくお願いします</div>
        </div>
      </div>
      <div class="event" id="message-1716994771.472169">
        <div class="content">
          <div class="summary">
            <div class="user">てぴか</div>
            <div class="date"><a class="date" href="#message-1716994771.472169">2024-05-29 23:59:31 +0900</a></div>
          </div>
          <div class="description">@てぴか has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1716995417.495329">
        <div class="content">
          <div class="summary">
            <div class="user">てぴか</div>
            <div class="date"><a class="date" href="#message-1716995417.495329">2024-05-30 00:10:17 +0900</a></div>
          </div>
          <div class="description">夜分遅くに失礼します。<br/>初めまして、最近Haskellに興味を持ったてぴかと申します。<br/>Haskellを独学で学んでいるのですが、個人の学習となると、<br/>どうしても詰まってしまう点が多いので、Haskellの仲間が欲しいと思い参加することにしました。<br/><br/>Haskellに関することで、もし分からないことがありましたら、<br/>今後このSlackで質問することがあるかもしれません。<br/>その時はまた宜しくお願いします。</div>
        </div>
      </div>
      <div class="event" id="message-1717302958.545539">
        <div class="content">
          <div class="summary">
            <div class="user">てぴか</div>
            <div class="date"><a class="date" href="#message-1717302958.545539">2024-06-02 13:35:58 +0900</a></div>
          </div>
          <div class="description">早速相談したいことが出たので、質問させて下さい:bow:<br/><code>stack new stack240529</code>というコマンドで新規プロジェクトを作成したのですが、<br/>新規作成したコードをVSCodeで開いたところ、<br/><code>./app/Main.hs</code>の3行目でimportエラーがでてしまっています。<br/>こちらの件、何か解決方法とかあるのでしょうか？<br/><br/>参考までに`stack`と`hls`はghcupというツールを使ってインストールしました。</div>
          <a class="link-to-replies" href="25/1717302958.545539.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1717305670.779729">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1717305670.779729">2024-06-02 14:21:10 +0900</a></div>
          </div>
          <div class="description">うーん、単純にビルドができてないからだと思いましたが（私自身似たような経験があったので）、違う、と。分かりませんなぁ</div>
        </div>
      </div>
      <div class="event" id="message-1717312619.119179">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1717312619.119179">2024-06-02 16:16:59 +0900</a></div>
          </div>
          <div class="description">恐らく、ghcupがインストールしたGHC（ <code>PATH</code> に入っている方のGHC）とstackがインストールしたGHC両方があるせいで混乱しちゃってますね（関連: <a href='https://docs.haskellstack.org/en/stable/Stack_and_VS_Code/'>https://docs.haskellstack.org/en/stable/Stack_and_VS_Code/</a> ）。<br/>VS CodeがGHCupのGHCを使おうとして、stackはstackのGHCを使おうとしているせいで結果が食い違っているのではないかと思います。<br/>取りあえずの解決策としては、 <code>stack path --global-config</code> を実行するとstackの設定ファイルへのパスが出てくるので、そのファイルを編集して、<br/><pre>install-ghc: false
system-ghc: true</pre><br/>と付け加えてください。</div>
        </div>
      </div>
      <div class="event" id="message-1717754417.334319">
        <div class="content">
          <div class="summary">
            <div class="user">mn</div>
            <div class="date"><a class="date" href="#message-1717754417.334319">2024-06-07 19:00:17 +0900</a></div>
          </div>
          <div class="description">@mn has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1718419805.505479">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1718419805.505479">2024-06-15 11:50:05 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1718420231.272899">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1718420231.272899">2024-06-15 11:57:11 +0900</a></div>
          </div>
          <div class="description">こんにちは。このコミュニティに参加できて光栄です。2週間ほど日本を訪れています。初めて日本に来ました。<br/><br/>Hello. Honored to join this community. Visiting Japan for a couple of weeks. First time here.</div>
          <a class="link-to-replies" href="25/1718420231.272899.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1718436158.204969">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1718436158.204969">2024-06-15 16:22:38 +0900</a></div>
          </div>
          <div class="description">:information_source: @here 急な通知すみません。<br/>*TL;DR 6/23 午後に Yeoh Kim Eeさんを招いて小さな勉強会を開催しようと考えています。若干名の参加者と、場所を募集しています。*<br/><br/>Yeoh Kim Ee さんは Lambda Indonesia <https://www.meetup.com/ja-JP/lambda-indonesia/> という勉強会の主催で、今年の ICFP Tutorials にて Haskell についてのワークショップを開催される予定です。<br/><br/> :point_up: の通りこの度日本に2週間滞在される予定です。良い機会なので日本のHaskellerに会いたいということで、急ではありますが、現状次のようなプランで小さな勉強会を開催しようと思います。<br/><br/>• :house: *場所*（候補）: Tatami Works <https://tatami-works.com/>（1人2000円の使用料がかかる見込みですが、比較的安価で、知る限り土日で複数人でも空いている見込みがあるため。ただ、これから（人数が大まかに決まり次第）予約の相談をするため、利用できない場合などに備えて*他の候補*をご提案頂けるとありがたいです。とりあえず長年 Haskell-jp もくもく会でお世話になっていた朝日ネットさんにも声を掛けようと思います。<br/>• :walking: *参加者:* 若干名募集します。Yeohさんは日本語は挨拶くらいしか通じないそうなので、（身振り手振り、ソースコードなどを駆使しつつ）英語 :gb: でやり取りできることが望ましいです。後、特に時間を切って発表枠などを設ける予定はないですが、何かしらHaskell関係で話したいネタがあると助かります。なければ多分私やYeohさんがやってきたこと共有しながら作業する、みたいな感じで進めることになるかと思います。</div>
        </div>
      </div>
      <div class="event" id="message-1718601971.307609">
        <div class="content">
          <div class="summary">
            <div class="user">Kota Mizushima</div>
            <div class="date"><a class="date" href="#message-1718601971.307609">2024-06-17 14:26:11 +0900</a></div>
          </div>
          <div class="description">@Kota Mizushima has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1719393466.846539">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1719393466.846539">2024-06-26 18:17:46 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1719979504.758639">
        <div class="content">
          <div class="summary">
            <div class="user">Nyankonen</div>
            <div class="date"><a class="date" href="#message-1719979504.758639">2024-07-03 13:05:04 +0900</a></div>
          </div>
          <div class="description">@Nyankonen has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1720116536.107089">
        <div class="content">
          <div class="summary">
            <div class="user">Ori Pe&#39;er</div>
            <div class="date"><a class="date" href="#message-1720116536.107089">2024-07-05 03:08:56 +0900</a></div>
          </div>
          <div class="description">@Ori Pe'er has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1720251126.003169">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1720251126.003169">2024-07-06 16:32:06 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1720759651.312119">
        <div class="content">
          <div class="summary">
            <div class="user">satler</div>
            <div class="date"><a class="date" href="#message-1720759651.312119">2024-07-12 13:47:31 +0900</a></div>
          </div>
          <div class="description">@satler has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1721482821.240169">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1721482821.240169">2024-07-20 22:40:21 +0900</a></div>
          </div>
          <div class="description">関数モナドについて調べてみたのですが、理解できなかったので質問させてください。<br/><br/><pre>instance Monad ((->) r) where
    return = const
    h >>= f = \w -> f (h w) w</pre><br/>これを使用したときに以下のようになると思います。<br/><pre>ghci> f = (+1) >>= \a -> (+2) >>= \b -> return (a+b)
f :: Num b => b -> b
ghci> f 1
5
it :: Num b => b</pre><br/>上記の場合 <code>h w</code> は <code>(+1) 1</code> に置き換えられると考えています。<br/>同様に、`f (h w) w` を単純に置き換えると <code>(+2) ((+1) 1) 1</code> になってしまいますが<br/>おかしいのは理解できています。<br/><br/>これはどのように考えたらよいのでしょうか ?</div>
          <a class="link-to-replies" href="25/1721482821.240169.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1721621462.260059">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1721621462.260059">2024-07-22 13:11:02 +0900</a></div>
          </div>
          <div class="description">モナドでの <code>&lt;-</code>  の挙動について質問させてください。<br/><br/>State s モナドを例にとります。<br/><pre>newtype State s a = State { runState :: s -&gt; (a,s) }

instance Monad (State s) where
    return a = State $ \s -&gt; (a, s)

    (State h) &gt;&gt;= f = State $ \s -&gt;
        let
            (a, newState) = h s
            (State g) = f a
        in
            g newState

pop = State $ (\(a:s) -&gt; (a,s))</pre><br/>上記の定義に対して以下のようなプログラムを実行します。<br/><pre>steps :: State [Int] Int
steps = do
    a &lt;- pop
    return a

f = runState steps [1..5]</pre><br/>結果は以下の通りです。(hugs)<br/><pre>Main&gt; :set +t
Main&gt; :l b.hs
Main&gt; f
(1,[2,3,4,5]) :: (Int,[Int])</pre><br/>動作自体は理解できたのですが、`a &lt;- pop` により値 (Int) が束縛される理由がわかりません。<br/><br/>Maybe モナドで考えて <code>a &lt;- Just a</code> の場合は <code>Just</code> が外れて <code>a</code> が取り出されている。と理解しやすいです。<br/>また、`(a, s) &lt;- pop` であった場合は <code>Monad (State s)</code> の定義と矛盾するような気がするので、違うのかと考えています。<br/><br/>モナド値 State s <code>a</code> の場合、`a` の位置にあるものが <code>&lt;-</code> により取り出される。<br/>のだと思いますが、そういうものと考えてしまって良いものでしょうか ?</div>
          <a class="link-to-replies" href="25/1721621462.260059.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1721807478.483769">
        <div class="content">
          <div class="summary">
            <div class="user">shingo</div>
            <div class="date"><a class="date" href="#message-1721807478.483769">2024-07-24 16:51:18 +0900</a></div>
          </div>
          <div class="description">@shingo has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1722411011.228429">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1722411011.228429">2024-07-31 16:30:11 +0900</a></div>
          </div>
          <div class="description">困っている。ということではないのですが、質問させてください。<br/><br/>関数に引数が適用され、展開されていく様子を見られるようなツールのようなものは存在しますか ?<br/>具体的には、以下のようなものがあったらと思っています。<br/><br/>[入力]<br/><pre>foldr (+) 0 [1..3]</pre><br/>[出力]<br/><pre>foldr ( (+) 1 0 ) 0 (2:3:[])
foldr ( (+) ((+) 1 0) 2 ) 0 (3:[])
foldr ( (+) ((+) ((+) 1 0) 2) 3 ) 0 ([])
foldr ( (+) ((+) 1 2) 3 ) 0 ([])
foldr ( (+) 3 3 ) 0 ([])

--&gt; 6</pre><br/></div>
          <a class="link-to-replies" href="25/1722411011.228429.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1722468607.789429">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1722468607.789429">2024-08-01 08:30:07 +0900</a></div>
          </div>
          <div class="description">これがあるのを思い出しました！<br/><a href='https://well-typed.com/blog/2017/09/visualize-cbn/'>https://well-typed.com/blog/2017/09/visualize-cbn/</a><br/>また私自身試してないもので恐縮ですが、実際のところHaskellのサブセットのようですが、十分目的は達成できるはずです。</div>
        </div>
      </div>
      <div class="event" id="message-1722474456.706769">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1722474456.706769">2024-08-01 10:07:36 +0900</a></div>
          </div>
          <div class="description">@igrep<br/>重ねてありがとうございます。<br/>こちらも、調べてみます。</div>
        </div>
      </div>
      <div class="event" id="message-1723043199.659059">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1723043199.659059">2024-08-08 00:06:39 +0900</a></div>
          </div>
          <div class="description">IOモナドの <code>&gt;&gt;=</code> について質問させてください<br/><br/><a href='https://wiki.haskell.org/99_questions/21_to_28'>https://wiki.haskell.org/99_questions/21_to_28</a> の "Problem 23" を参考に<br/>以下のようなコードを作成しました。<br/>("abcdefgh" の中からランダムに 3 文字表示するプログラム)<br/><br/>[コード1]<br/><pre>import System.Random

rnd_select :: [a] -&gt; Int -&gt; IO [a]

rnd_select xs n = do
    let l = length xs - 1
    ys &lt;- sequence . replicate n $ (randomRIO (0, l) :: IO Int)
    return $ map (xs !!) ys</pre><br/>これは想定通り動作しました。<br/><pre>ghci&gt; rnd_select "abcdefgh" 3 &gt;&gt;= putStrLn
efc
it :: ()</pre><br/>この関数を少し変えて、`&gt;&gt;=` を使用するように変更しました。<br/>[コード2]<br/><pre>rnd_select xs n = f &gt;&gt;= return . map (xs !!)
    where
        l = length xs - 1
        f = sequence . replicate n $ (randomRIO (0, l) :: IO Int)</pre><br/>この場合も問題ありません。<br/><br/>さらに、上記の <code>f</code> の部分を (where 句ではなく) 直接書いて以下のように変更しました。<br/>[コード3]<br/><pre>rnd_select xs n = sequence . replicate n $ (randomRIO (0, l) :: IO Int) &gt;&gt;= return . map (xs !!)
    where
        l = length xs - 1</pre><br/>すると、以下のようにエラーとなります。<br/><pre>ghci&gt; :l d
[1 of 2] Compiling Main             ( d.hs, interpreted )

d.hs:5:86: error: [GHC-83865]
    • Couldn't match type '[Int]' with 'Int'
      Expected: Int -&gt; a
        Actual: [Int] -&gt; [a]
    • In the second argument of '(.)', namely 'map (xs !!)'
      In the second argument of '(&gt;&gt;=)', namely 'return . map (xs !!)'
      In the second argument of '($)', namely
        '(randomRIO (0, l) :: IO Int) &gt;&gt;= return . map (xs !!)'
  |
5 | rnd_select xs n = sequence . replicate n $ (randomRIO (0, l) :: IO Int) &gt;&gt;= return . map (xs !!)
  |                                                                                      ^^^^^^^^^^^
Failed, no modules loaded.</pre><br/>メッセージから考えて <code>[Int]</code> ではなく <code>Int</code> が要求されているようだったので、以下のように変更したところ<br/>問題なく動作しました。<br/>[コード4]<br/><pre>rnd_select xs n = sequence . replicate n $ (randomRIO (0, l) :: IO Int) &gt;&gt;= return . (xs !!)
    where
        l = length xs - 1</pre><br/>説明が長くなってしまい恐縮ですが、`[コード3]` と <code>[コード4]</code> のような違いが出る理由が理解できませんでした。</div>
          <a class="link-to-replies" href="25/1723043199.659059.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1723191142.554709">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1723191142.554709">2024-08-09 17:12:22 +0900</a></div>
          </div>
          <div class="description">Haskell プログラムらしい書き方について質問させてください<br/><br/><pre>import Control.Exception
import Control.Monad
import System.Directory
import System.Posix.Files
import System.Posix.Types

lessThan :: FileOffset -> FilePath -> IO Bool
lessThan threshold path = do
    s <- getFileStatus path
    return $ and [isRegularFile s, fileSize s < threshold]

smallFiles :: FileOffset -> FilePath -> IO (Either String [FilePath])
smallFiles threshold dir = do
    ei <- try (listDirectory dir)

    case ei of
        Left (e::SomeException) -> return $ Left (displayException e)

        Right contents -> do
            paths <- filterM (lessThan threshold) contents
            return $ Right paths</pre><br/>引数で指定したディレクトリから、閾値以下のサイズのファイル・パスを取得する関数を書きました。<br/><br/><pre>ghci> smallFiles 100 "."
Right ["retry.hs",".gitignore","oop.hs"]
it :: Either String [FilePath]</pre><br/>想定通りに動作することを確認しました。<br/><br/>上記のコードでは、`try (listDirectory dir)` が Either a b を戻すため、それを case で判定して<br/>また Left や Right でくるむような形になっています。<br/><br/>これをスマートに記述する方法はあるのでしょうか ?<br/><br/>(怒られないので、調子に乗って質問ばかりさせていただいていますが、これがマナー違反であればご指摘ください)</div>
          <a class="link-to-replies" href="25/1723191142.554709.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1723195449.277199">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1723195449.277199">2024-08-09 18:24:09 +0900</a></div>
          </div>
          <div class="description">読んでいて勉強になりました。どんどん質問して盛り上げて欲しいです :raised_hands: </div>
        </div>
      </div>
      <div class="event" id="message-1723604741.629259">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1723604741.629259">2024-08-14 12:05:41 +0900</a></div>
          </div>
          <div class="description">ポイントフリーにより書かれたコードを、わかりやすいように展開するようなツールなどはありますか ?<br/><br/>以前 こちらで質問させていただき、ポイントフリー化するツールを教えていただきました<br/><pre><https://pointfree.io/></pre><br/>これの逆を行う様なツールは存在しますか ?<br/><pre>ghci&gt; f = ((+1) .) . (+)
f :: Num c =&gt; c -&gt; c -&gt; c
ghci&gt; f 1 2
4
it :: Num c =&gt; c</pre><br/>このとき、f が <code>f a b = (+1) $ (+) a b</code> のように展開されるようなイメージになります。<br/><pre>ghci&gt; f a b = (+1) $ (+) a b
f :: Num a =&gt; a -&gt; a -&gt; a
ghci&gt; f 1 2
4
it :: Num a =&gt; a</pre><br/></div>
          <a class="link-to-replies" href="25/1723604741.629259.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1723680030.778189">
        <div class="content">
          <div class="summary">
            <div class="user">Slackbot</div>
            <div class="date"><a class="date" href="#message-1723680030.778189">2024-08-15 09:00:30 +0900</a></div>
          </div>
          <div class="description">Reminder: beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。 Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。  beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。 • それはくだらない質問だ → くだらない質問など無い • その質問は以前にもあった → 質問者はそんなこと知らない • Google検索せよ → 検索できないから質問している  beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。 • <code>:</code> とは何のことですか。 • タプルとは何ですか。 </div>
        </div>
      </div>
      <div class="event" id="message-1723870199.257579">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1723870199.257579">2024-08-17 13:49:59 +0900</a></div>
          </div>
          <div class="description">関数従属性について質問させてください<br/><br/>MonadState の定義を見て <code>| m -&gt; s</code> が気になりました。<br/><pre>class (Monad m) =&gt; MonadState s m | m -&gt; s where
	get :: m s
	put :: s -&gt; m ()</pre><br/>調べてみたところ、以下のように説明がありました。<br/><blockquote>"-&gt;" の左側にある型によって右側の型が一意に決定される</blockquote>それ以外にも説明のあるところもあったのですが、納得したといえるほど理解できませんでした。<br/><br/>例)<br/><pre>read "123" :: Int</pre><br/><code>:: Int</code> がないと "123" がなんの型かわからないよね。<br/><br/>と、いう程度に簡単に理解できるような例はありますか ?<br/>(例えがわかりにくかったら無視してください)</div>
          <a class="link-to-replies" href="25/1723870199.257579.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1724189171.943589">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1724189171.943589">2024-08-21 06:26:11 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1724382191.158669">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1724382191.158669">2024-08-23 12:03:11 +0900</a></div>
          </div>
          <div class="description">曖昧な質問となってしまい申し訳ありませんが<br/><br/><a href='https://zenn.dev/osio/articles/2022-advent-calendar'>https://zenn.dev/osio/articles/2022-advent-calendar</a><br/>に、以下のようなものがありました。<br/><pre>import Control.Monad (join)
f = join
f (*) 5 --&gt; 25 = 5 * 5</pre><br/>Hoogle で join を調べ以下のような定義ということがわかりました。<br/><pre>join              :: (Monad m) =&gt; m (m a) -&gt; m a
join x            =  x &gt;&gt;= id</pre><br/>これらをまとめると、以下になると思います。<br/><pre>join (*) = (*) &gt;&gt;= id</pre><br/>しばらく考えて、なんとなく関数モナドかなと思い、定義に当てはめて<br/><pre>h &gt;&gt;= f = \w -&gt; id ((*) w) w</pre><br/>ここに引数を与えて、最終的に<br/><pre>id ((*) 5) 5 ==&gt; (*) 5 5</pre><br/>と、ここまできてようやく納得できました。<br/><br/>前置きが長くなりましたが、`(*)` が関数であるため関数モナドに決まってるでしょ。<br/><br/>と、言われてしまえばそれまでなのですが、`(*) <blockquote><blockquote>= id` のようなものを見て、それが関数モナド ((-&gt;) r) であると導き出すのは経験しかないのでしょうか ?</blockquote></blockquote></div>
          <a class="link-to-replies" href="25/1724382191.158669.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1724847889.936369">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1724847889.936369">2024-08-28 21:24:49 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1725332548.796509">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1725332548.796509">2024-09-03 12:02:28 +0900</a></div>
          </div>
          <div class="description">目的の関数などの定義を検索する方法について質問させてください。<br/><br/>いつも Hoogle を利用していますが、StateT の empty の定義を探すときには<br/><a href='https://hoogle.haskell.org/?hoogle=StateT'>https://hoogle.haskell.org/?hoogle=StateT</a><br/><br/>上記の一覧からたどり、以下のソースを表示し<br/><a href='https://hackage.haskell.org/package/transformers-0.6.1.1/docs/src/Control.Monad.Trans.State.Lazy.html#StateT'>https://hackage.haskell.org/package/transformers-0.6.1.1/docs/src/Control.Monad.Trans.State.Lazy.html#StateT</a><br/><br/>ここから、ブラウザの検索機能で <code>empty</code> をテキスト検索で探しています。<br/><br/>目的自体は達成できていますが、もう少し探しやすい方法があればと思って質問させていただきました。</div>
          <a class="link-to-replies" href="25/1725332548.796509.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1726476579.566739">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1726476579.566739">2024-09-16 17:49:39 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1726802382.494229">
        <div class="content">
          <div class="summary">
            <div class="user">絹宮紀仁</div>
            <div class="date"><a class="date" href="#message-1726802382.494229">2024-09-20 12:19:42 +0900</a></div>
          </div>
          <div class="description">@絹宮紀仁 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1726908202.015919">
        <div class="content">
          <div class="summary">
            <div class="user">ai-ou</div>
            <div class="date"><a class="date" href="#message-1726908202.015919">2024-09-21 17:43:22 +0900</a></div>
          </div>
          <div class="description">アプリカティブ・スタイルについて質問させてください<br/><br/><pre>data Ehdr = Ehdr {
    e_entry :: !Word64
    ,e_phoff :: !Word64
    ,e_shoff :: !Word64
    ,e_ehsize :: !Word16
    ,e_phentsize :: !Word16
    ,e_phnum :: !Word16
    ,e_shentsize :: !Word16
    ,e_shnum :: !Word16
    ,e_shstrndx :: !Word16
    } deriving Show

getEhdr :: Get Ehdr
getEhdr = do
    ... 省略 ...

    Ehdr e_entry e_phoff e_shoff &lt;$&gt;
        getWord16host &lt;*&gt; getWord16host &lt;*&gt; getWord16host &lt;*&gt;
        getWord16host &lt;*&gt; getWord16host &lt;*&gt; getWord16host</pre><br/>上記のようなコードがあり、これは想定通りに動作しています。<br/><br/>この中で、getWord16host &lt;*&gt; getWord16host ... という部分が複数出てきてしまっています。<br/>これを replicate 6 getWord16host のような形にできないかといろいろと試しましたがうまくいきませんでした。<br/><br/>なにか良い書き方はありますか ?</div>
          <a class="link-to-replies" href="25/1726908202.015919.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1727537562.804209">
        <div class="content">
          <div class="summary">
            <div class="user">mitsuo</div>
            <div class="date"><a class="date" href="#message-1727537562.804209">2024-09-29 00:32:42 +0900</a></div>
          </div>
          <div class="description">@mitsuo has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1728101307.948679">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1728101307.948679">2024-10-05 13:08:27 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/24.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
  </div>
</body>
</html>
