<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #22 at 2022-11-30 21:55:50 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #22 at 2022-11-30 21:55:50 +0900</h1>
    <div class="ui pagination menu">
      <a href="../22.html" class="item">Back to beginners #22</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1669812950.225089">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1669812950.225089">2022-11-30 21:55:50 +0900</a></div>
          </div>
          <div class="description">こんばんは。 <code>State</code> モナドの質問です。 <code>mapAccumL</code> を <code>mapM</code> と <code>State</code> モナドで作り直してみました。<br/>このとき <code>mapM</code> で <a href='https://gist.github.com/toyboot4e/6f6c0464c1a941b28d3690a43f608d55#file-mapaccuml-hs-L12'>使用した無名関数</a> が長くて気になりました。もしも`\acc x -&gt; .. (acc', x')` のような純粋な関数を <code>State</code> モナドに？変換できたら、 <code>mapM (変換 $ \acc x -&gt; .. (acc', x')) ..</code> のように書けて便利だと思います。この <code>変換</code> のような関数はありますか？　よろしくお願いします。</div>
        </div>
      </div>
      <div class="event" id="message-1669813577.309439">
        <div class="content">
          <div class="summary">
            <div class="user">Viktor Kronvall</div>
            <div class="date"><a class="date" href="#message-1669813577.309439">2022-11-30 22:06:17 +0900</a></div>
          </div>
          <div class="description"><code>state</code>って関数見ましたか？多分簡単に使えるかと思います。<br/><br/>ただ、`Vector`で使うのなら`State`がLazy度ありすぎてパフォーマンスに良くないかも知れませんよ。</div>
        </div>
      </div>
      <div class="event" id="message-1669813800.075119">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1669813800.075119">2022-11-30 22:10:00 +0900</a></div>
          </div>
          <div class="description">2 冊入門書を読んでも <code>State</code> モナドが理解できなかったのですが、今繋がってきました</div>
        </div>
      </div>
      <div class="event" id="message-1669815214.757689">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1669815214.757689">2022-11-30 22:33:34 +0900</a></div>
          </div>
          <div class="description">なんとか動きました！<br/><pre>-- (6, [1,2,3])
print $ runState (mapM (\x -&gt; state $ \acc -&gt; (x, x + acc)) [1, 2, 3]) (0 :: Int)</pre></div>
        </div>
      </div>
      <div class="event" id="message-1669815711.841069">
        <div class="content">
          <div class="summary">
            <div class="user">toyboot4e</div>
            <div class="date"><a class="date" href="#message-1669815711.841069">2022-11-30 22:41:51 +0900</a></div>
          </div>
          <div class="description"><code>State</code> の <code>mapM</code> は <code>State</code> 同士を繋いでくれる……？　入門書に帰ってみます！ (`mapM = sequence . fmap` ?)<br/>初めてまともに <code>State</code> モナドが使えました。ありがとうございます！　パフォーマンスが問題になったらまた質問させてください。</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../22.html" class="item">Back to beginners #22</a>
    </div>
  </div>
</body>
</html>
