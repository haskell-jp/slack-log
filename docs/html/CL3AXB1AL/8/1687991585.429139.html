<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / atcoder-lang-updates #8 at 2023-06-29 07:33:05 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / atcoder-lang-updates #8 at 2023-06-29 07:33:05 +0900</h1>
    <div class="ui pagination menu">
      <a href="../8.html" class="item">Back to atcoder-lang-updates #8</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1687991585.429139">
        <div class="content">
          <div class="summary">
            <div class="user">gksato</div>
            <div class="date"><a class="date" href="#message-1687991585.429139">2023-06-29 07:33:05 +0900</a></div>
          </div>
          <div class="description">フィードバック #119 を見てて思ったのですが，インストールの最後に<br/><pre>rm -rf ~/.ghcup/bin/ghcup ~/.ghcup/cache ~/.ghcup/logs ~/.ghcup/tmp ~/.cabal/logs</pre><br/>あたり実行した方が良いのでしょうか？<br/><br/><br/>フィードバック #119 の引用:<br/><a href='https://docs.google.com/spreadsheets/d/1HXyOXt5bKwhKWXruzUvfMFHQtBxfZQ0047W7VVObnXI/edit#gid=1835616968&amp;range=123:123'>https://docs.google.com/spreadsheets/d/1HXyOXt5bKwhKWXruzUvfMFHQtBxfZQ0047W7VVObnXI/edit#gid=1835616968&amp;range=123:123</a><br/><blockquote>Q:「インストール時に一時的に使用するファイルは/tmpに置くようにしてもらえると実行環境からは除かれるので“助かります“」とありますが、<br/>インストールからコンパイル、コンパイルから実行への転送量がジャッジの負荷やコストに結構影響するのでしょうか？<br/>例えば、インストールで使った git を apt-get remove &amp;&amp; apt-get autoremove したり、<br/>コンパイル後にコンパイラとライブラリを消したほうがいいですか？<br/><br/>A: インストールに際して一時的に使用されるもののみ/tmpに置く、ないしはインストールの最後に削除していただくとジャッジを複数台立てるときにそのコピーするデータ量が減るためありがたいということです<br/>例えばコンパイラ本体を含む圧縮ファイルや、バイナリインストールのためにダウンロードしてきたソースコードなどは実行環境上には不要なものであるはずなので、それらは基本的に/tmpで作業をしてもらえるとインストールコマンドをすべて実行し終わったあとに削除され、コンパイル/実行環境からは消えた状態となります<br/><br/>コンパイル時に行った各種操作による後片付けはしなくても大丈夫です<br/>逆に下手にコンパイル時に後片付けを行うと<br/>- 実行時に必要なファイルまで間違えて消してしまう可能性がある<br/>- 後片付けもコンパイル時間に含まれ、コンパイル時間は一定時間で制限されているためこの制限時間を超えてしまう可能性がある<br/>といった点からおすすめはしません</blockquote></div>
        </div>
      </div>
      <div class="event" id="message-1688212069.527559">
        <div class="content">
          <div class="summary">
            <div class="user">gksato</div>
            <div class="date"><a class="date" href="#message-1688212069.527559">2023-07-01 20:47:49 +0900</a></div>
          </div>
          <div class="description">明日昼にテストをした上で，24:00を目処に <code>~/.ghcup/trash</code>  を加えて<br/><br/><pre>rm -rf ~/.ghcup/bin/ghcup ~/.ghcup/cache ~/.ghcup/logs ~/.ghcup/tmp ~/.ghcup/trash ~/.cabal/logs</pre><br/>を最後に実行するように変更しようかと思います．ご意見があればお願いします．</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../8.html" class="item">Back to atcoder-lang-updates #8</a>
    </div>
  </div>
</body>
</html>
