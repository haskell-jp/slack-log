<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / questions #7</title><link rel="stylesheet" href="/messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / questions #7</h1><div class="pager"><a href="/html/C5666B6BB/6.html" class="pager__previous">Previous</a><a href="/" class="pager__top">Top</a><a href="/html/C5666B6BB/8.html" class="pager__next">Next</a></div><div class="message_list"><div class="message" id="message-1513162443.000255"><div class="message__timestamp">2017-12-13<br/>19:54:03 +0900</div><div class="message__header">masa.kad81000</div><div class="message__body">@masa.kad81000 has joined the channel</div></div><div class="message" id="message-1513232451.000110"><div class="message__timestamp">2017-12-14<br/>15:20:51 +0900</div><div class="message__header">kazu</div><div class="message__body">Windowsユーザのみなさん、networkパッケージのメインテナーとしての質問です。<br/>cygwinってもうサポートしなくていいですかね？<br/>MSYSしかサポートしてないと宣言してもよいですか？</div></div><div class="message" id="message-1513232934.000149"><div class="message__timestamp">2017-12-14<br/>15:28:54 +0900</div><div class="message__header">igrep</div><div class="message__body">私はGHC 7.8ぐらい（stackがサポートしている最も古いGHC）からWindowsで使い始めたので、それより前をサポートしないのであればいいと思います。<br/>stackは必ずMSYS版GHCを自動でインストールするので。</div></div><div class="message" id="message-1513233510.000076"><div class="message__timestamp">2017-12-14<br/>15:38:30 +0900</div><div class="message__header">kazu</div><div class="message__body">情報ありがとう！</div></div><div class="message" id="message-1513304413.000032"><div class="message__timestamp">2017-12-15<br/>11:20:13 +0900</div><div class="message__header">mitsui</div><div class="message__body">@mitsui has joined the channel</div></div><div class="message" id="message-1513309250.000122"><div class="message__timestamp">2017-12-15<br/>12:40:50 +0900</div><div class="message__header">kazu</div><div class="message__body">Windowsで、`__OpenBSD__`というCのマクロをチェックしたら、エラーになってしまうんですけど、どうしてなんでしょうか？<br/><br/><https://ci.appveyor.com/project/eborden/network/build/1.0.182/job/g8lchejtxp4eg120></div></div><div class="message" id="message-1513311185.000116"><div class="message__timestamp">2017-12-15<br/>13:13:05 +0900</div><div class="message__header">notogawa</div><div class="message__body">355行目のディレクティブ，elseifじゃなくてelifじゃないですか？</div></div><div class="message" id="message-1513312046.000053"><div class="message__timestamp">2017-12-15<br/>13:27:26 +0900</div><div class="message__header">kazu</div><div class="message__body">Bingo!</div></div><div class="message" id="message-1513312047.000046"><div class="message__timestamp">2017-12-15<br/>13:27:27 +0900</div><div class="message__header">kazu</div><div class="message__body"><a href='https://ci.appveyor.com/project/eborden/network/build/1.0.183/job/l39qvaovwb3gf7ch'>https://ci.appveyor.com/project/eborden/network/build/1.0.183/job/l39qvaovwb3gf7ch</a></div></div><div class="message" id="message-1513312063.000013"><div class="message__timestamp">2017-12-15<br/>13:27:43 +0900</div><div class="message__header">notogawa</div><div class="message__body">やったぜ</div></div><div class="message" id="message-1513312071.000099"><div class="message__timestamp">2017-12-15<br/>13:27:51 +0900</div><div class="message__header">kazu</div><div class="message__body">ありがとうございます！<br/>ありがとうございます！！<br/>ありがとうございます！！！</div></div><div class="message" id="message-1513480246.000028"><div class="message__timestamp">2017-12-17<br/>12:10:46 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">Emacsを使われてる方、教えて下さい。 （急ぎではありません。 かつ返信は遅くなります:bow:）<br/>Emacsでは、Haskellコードのsyntax highlightに、主に、どういうツールが使われていますか？<br/>（syntax highlightを修正しようとしています。）</div></div><div class="message" id="message-1513520824.000018"><div class="message__timestamp">2017-12-17<br/>23:27:04 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">stack初心者の質問です。stackのバージョンを1.5.1から1.6.1にアップグレードしようとすると以下のメッセージが表示されます。<br/><pre>
WARNING: The "stack" executable found on the PATH environment variable is /usr/local/bin/stack, and not the version that was just installed.
This means that "stack" calls on the command line will not use this version.
New stack executable available at /Users/shioihiroto/.local/bin/stack
</pre><br/>これの解決方法はありますか。</div></div><div class="message" id="message-1513521084.000028"><div class="message__timestamp">2017-12-17<br/>23:31:24 +0900</div><div class="message__header">wado</div><div class="message__body">たぶん <code>curl</code> でインストールする方法だと思いますが、最近その警告が出るようになりました。<br/><br/>古い <code>stack</code> が <code>/usr/local/bin</code>  に残っていると出たような気がしますが、どうでしょうか？</div></div><div class="message" id="message-1513521165.000077"><div class="message__timestamp">2017-12-17<br/>23:32:45 +0900</div><div class="message__header">matsubara0507</div><div class="message__body"><code>stack upgrade</code> は <code>/Users/shioihiroto/.local/bin/stack</code> に新しいバージョンの <code>stack</code> をインストールしたけど、パスは <code>/usr/local/bin/stack</code> に通ってるんだけどいいの？<br/>って感じだから、 <code>/Users/shioihiroto/.local/bin/stack</code> のパスを <code>/usr/local/bin/stack</code> より優先度上げればいいんじゃない？</div></div><div class="message" id="message-1513523529.000003"><div class="message__timestamp">2017-12-18<br/>00:12:09 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">@wado /usr/local/binにあったstackファイルを削除したら直りました！<br/>@matsubara0507 パスの優先度の上げ方がわかりませんでした。。！</div></div><div class="message" id="message-1513523800.000060"><div class="message__timestamp">2017-12-18<br/>00:16:40 +0900</div><div class="message__header">wado</div><div class="message__body"><code>stack</code> のバージョンが古すぎると <code>stack upgrade</code> した時にバイナリが落ちてこない (最新の <code>stack</code> をソースコードからコンパイルしだす) ので <code>/usr/local/bin/stack</code> を削除します。<br/><br/>逆に新しめの <code>stack</code> であれば <code>stack upgrade</code> してしまって <code>export PATH=~/.local/bin:$PATH</code> を <code>.bashrc</code> などに追記しておくと良いと思います。<br/><br/>逆に <code>export PATH=$PATH:~/.local/bin</code> にすると常にシステムの <code>stack</code> を参照するのではまります。<br/><br/>最新の <code>stack</code> の <code>changelog</code> を見ると、この問題に対処したように思うのですが、試してないので良くわかってないです。</div></div><div class="message" id="message-1513523975.000060"><div class="message__timestamp">2017-12-18<br/>00:19:35 +0900</div><div class="message__header">as_capabl</div><div class="message__body">昔、インデントをカスタマイズできないかと思ってhaskell-modeの中を見てみたのですが、かなりモノリシックなelispで変えるの無理やんって思った覚えがあります（役に立てず申し訳ない）</div></div><div class="message" id="message-1513572069.000086"><div class="message__timestamp">2017-12-18<br/>13:41:09 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">もう1つ質問です。haskell-jpにて求人募集を出すことはできますか。出す場合にはどのチャンネルが適切でしょうか。（仕事はもちろんhaskellを用いた開発です）。</div></div><div class="message" id="message-1513573852.000111"><div class="message__timestamp">2017-12-18<br/>14:10:52 +0900</div><div class="message__header">igrep</div><div class="message__body">前例がなく、現状数が増える見込みもないので、<br/><a href='https://www.reddit.com/r/haskell_jp/'>https://www.reddit.com/r/haskell_jp/</a> か <a href='#C4M4TT8JJ'>random</a> か、Haskell-jp Blog <a href='https://haskell.jp/blog/'>https://haskell.jp/blog/</a> に投稿するという形でいかがでしょうか。 <br/>頻度が高くなるようであれば、（Slackにこだわらず）別のチャンネルを検討します。</div></div><div class="message" id="message-1513574646.000210"><div class="message__timestamp">2017-12-18<br/>14:24:06 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">了解です！ありがとうございます！</div></div><div class="message" id="message-1513582716.000309"><div class="message__timestamp">2017-12-18<br/>16:38:36 +0900</div><div class="message__header">remotenonsense</div><div class="message__body">@remotenonsense has joined the channel</div></div><div class="message" id="message-1513587850.000329"><div class="message__timestamp">2017-12-18<br/>18:04:10 +0900</div><div class="message__header">ttaakkee</div><div class="message__body">@ttaakkee has joined the channel</div></div><div class="message" id="message-1513600533.000013"><div class="message__timestamp">2017-12-18<br/>21:35:33 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">haskell-mode が、emacsでのsyntax highlightに使われているものなのですね、有難うございます！ <br/>助かりました、この中を見ていきます:+1:</div></div><div class="message" id="message-1513605910.000075"><div class="message__timestamp">2017-12-18<br/>23:05:10 +0900</div><div class="message__header">ttaakkee</div><div class="message__body"><a href='https://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Type-Equality.html'>https://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Type-Equality.html</a> の <code>:~:</code> って何に使うのでしょうか?どうやって使うのでしょうか?¿ :sob::innocent::sob::oden:</div></div><div class="message" id="message-1513607081.000289"><div class="message__timestamp">2017-12-18<br/>23:24:41 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">通常のHaskellプログラミングの範囲ではあまり使用する用途はないと思います．この定義自体はとても単純なので <code>GADTs</code> が分かっていれば <a href='https://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Type-Equality.html#t::-126-'>https://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Type-Equality.html#t::-126-</a>: の定義そのままの意味を持ちます(つまり， <code>Refl :: a ~ b =&gt; a :~: b</code> という唯一のコンストラクタを持ちます)． 単純に考えると， <code>a :~: b</code> という型を持つ値があるならば(ボトムを考えなければ) <code>a ~ b</code> という命題が真にになります．</div></div><div class="message" id="message-1513607398.000346"><div class="message__timestamp">2017-12-18<br/>23:29:58 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">2つの型が等しいという情報から何らかの実行時リフレクションをしたい場合や型レベルのプログラミングをしたい場合などに役に立ちます(等しいかどうかという情報は非常に重要なので標準の範囲に用意されていますが，型制約についてより汎用的なリフレクションを行いたいなら <a href='https://hackage.haskell.org/package/constraints-0.9.1/docs/Data-Constraint.html#t:Dict'>https://hackage.haskell.org/package/constraints-0.9.1/docs/Data-Constraint.html#t:Dict</a> などもあるのでそれを使うと良いと思います． <code>a :~: b</code> は <code>Dict (a ~ b)</code> と同じです)</div></div><div class="message" id="message-1513607551.000539"><div class="message__timestamp">2017-12-18<br/>23:32:31 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">なお，1つの主な用途としては，下の方にある <a href='https://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Type-Equality.html#t:TestEquality'>https://hackage.haskell.org/package/base-4.10.1.0/docs/Data-Type-Equality.html#t:TestEquality</a> があり，実行時表現の同値性を使用したリフレクションなどがあります(2つの値があった場合に同じ表現(型)として扱っていいかを実行時に判断する)</div></div><div class="message" id="message-1513609365.000637"><div class="message__timestamp">2017-12-19<br/>00:02:45 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">ついでに，GHCの内部よりの話としての詳細は <a href='https://github.com/ghc/ghc/blob/fe6848f544c2a14086bcef388c46f4070c22d287/compiler/prelude/TysPrim.hs#L581'>https://github.com/ghc/ghc/blob/fe6848f544c2a14086bcef388c46f4070c22d287/compiler/prelude/TysPrim.hs#L581</a><br/>に載っているので，もしリフレクションなどの応用的な話ではなく，GHCの内部的な話に興味があるのでしたら，こちらを読んでみるのがいいと思います．</div></div><div class="message" id="message-1513612041.000819"><div class="message__timestamp">2017-12-19<br/>00:47:21 +0900</div><div class="message__header">as_capabl</div><div class="message__body">そのものではないのですが、同じ形の型 <code>Is</code> がmachinesパッケージで定義されていて、ストリームの入力を指定する手段として使用されています <a href='https://hackage.haskell.org/package/machines-0.6.3/docs/Data-Machine-Process.html'>https://hackage.haskell.org/package/machines-0.6.3/docs/Data-Machine-Process.html</a></div></div><div class="message" id="message-1513669138.000252"><div class="message__timestamp">2017-12-19<br/>16:38:58 +0900</div><div class="message__header">ttaakkee</div><div class="message__body">ありがとうございます:sob::sob:<br/>まだあまりよくわかっていないのですが、GHCiで <code>:t Refl</code> とやると <code>Refl :: a :~: a</code> と出てくるのですが、 <code>Refl :: a ~ b =&gt; a :~: b</code> はどうしてわかるのでしょうか?:scream_cat:</div></div><div class="message" id="message-1513671215.000201"><div class="message__timestamp">2017-12-19<br/>17:13:35 +0900</div><div class="message__header">kazu</div><div class="message__body">FFI を Haskell 2010 で使うときは ForeignFunctionInterface プラグマを指定する必要はなくなったんでしたっけ？</div></div><div class="message" id="message-1513671253.000051"><div class="message__timestamp">2017-12-19<br/>17:14:13 +0900</div><div class="message__header">kazu</div><div class="message__body">Haskell 98 には FFI の話はなく、Haskell 2010 では FFI が記載されてますね。</div></div><div class="message" id="message-1513671305.000235"><div class="message__timestamp">2017-12-19<br/>17:15:05 +0900</div><div class="message__header">kazu</div><div class="message__body">ちなみに、Haskell 2010のサポートはGHC 7.0.1から。</div></div><div class="message" id="message-1513671995.000009"><div class="message__timestamp">2017-12-19<br/>17:26:35 +0900</div><div class="message__header">ttaakkee</div><div class="message__body">あ!GADTsが全くわかってませんでした:sob::scream_cat:<br/>勉強してみます:sob::writing_hand:</div></div><div class="message" id="message-1513675928.000219"><div class="message__timestamp">2017-12-19<br/>18:32:08 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">GADTsに関しては、 <a href='http://dev.stephendiehl.com/hask/#gadts-1'>http://dev.stephendiehl.com/hask/#gadts-1</a> が良い導入になっていると思います</div></div><div class="message" id="message-1513676234.000072"><div class="message__timestamp">2017-12-19<br/>18:37:14 +0900</div><div class="message__header">naohaq</div><div class="message__body">とりあえずGHCは 7.2.1 から ForeignFunctionInterface が enabled by default になっているようです <a href='https://downloads.haskell.org/~ghc/7.2.1/docs/html/users_guide/ffi.html'>https://downloads.haskell.org/~ghc/7.2.1/docs/html/users_guide/ffi.html</a></div></div><div class="message" id="message-1513695974.000693"><div class="message__timestamp">2017-12-20<br/>00:06:14 +0900</div><div class="message__header">ttaakkee</div><div class="message__body">おおーありがとうございます:heart_eyes::sob:</div></div><div class="message" id="message-1513761620.000026"><div class="message__timestamp">2017-12-20<br/>18:20:20 +0900</div><div class="message__header">ttaakkee</div><div class="message__body">Refl は reflexivity の略ですか?symやtrans はどのように使うの関数なのでしょうか?:oden:</div></div><div class="message" id="message-1513786759.000076"><div class="message__timestamp">2017-12-21<br/>01:19:19 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">これですね<br/><a href='https://ja.wikipedia.org/wiki/%E5%90%8C%E5%80%A4%E9%96%A2%E4%BF%82#.E5.AE.9A.E7.BE.A9'>https://ja.wikipedia.org/wiki/%E5%90%8C%E5%80%A4%E9%96%A2%E4%BF%82#.E5.AE.9A.E7.BE.A9</a><br/>それぞれ Refl(反射律/reflexivity)，sym(対称律/symmetric)，trans(推移律/transitive)を表しています．つまり，同値関係の基本的な公理となる関数ですね．</div></div><div class="message" id="message-1513788568.000754"><div class="message__timestamp">2017-12-21<br/>01:49:28 +0900</div><div class="message__header">slacknowledge</div><div class="message__body">@slacknowledge has joined the channel</div></div><div class="message" id="message-1513788569.000134"><div class="message__timestamp">2017-12-21<br/>01:49:29 +0900</div><div class="message__header">slacknowledge</div><div class="message__body">Hello. I am slacknowledge bot.<br/>When a thread is added a :memo: (memo) reaction, I will save it.<br/>Everyone can view the saved thread at <a href='https://slacknowledge.pig-brewing.com'>https://slacknowledge.pig-brewing.com</a> .</div></div><div class="message" id="message-1513789565.000144"><div class="message__timestamp">2017-12-21<br/>02:06:05 +0900</div><div class="message__header">lotz</div><div class="message__body">質問です :raising_hand: <br/>[0, 1, 1, 0, 0, 1, 0, … みたいな0と1のリスト（もしくは Array Word32 Word8 とか） があった時にこれをビット列とみなしてByteStringに変換する簡単な方法 or 便利な関数ってありませんか？<br/>8個ずつchunksして2のn乗を掛けて足してWord8にしてpackするのは思いついたんですが…</div></div><div class="message" id="message-1513790463.000041"><div class="message__timestamp">2017-12-21<br/>02:21:03 +0900</div><div class="message__header">nakaji-dayo</div><div class="message__body">このチャンネルでの知見を漁るのが結構大変だなと思い、slack上で行われたQ&amp;Aを保存して検索しやすくするためのbotを作ってみました。<br/>:memo: が付けられたスレッドを保存します。<br/>もしよければ使ってみて下さい:grinning:<br/><br/>このbotに関する問題などあれば私に教えて下さい:bow:</div></div><div class="message" id="message-1513807811.000452"><div class="message__timestamp">2017-12-21<br/>07:10:11 +0900</div><div class="message__header">kazu</div><div class="message__body">おー、ありがとうございます。</div></div><div class="message" id="message-1513807924.000304"><div class="message__timestamp">2017-12-21<br/>07:12:04 +0900</div><div class="message__header">kazu</div><div class="message__body">Bool の Array って、ワードでなく、ちゃんとビットで表現されてませんでしたっけ？</div></div><div class="message" id="message-1513807967.000061"><div class="message__timestamp">2017-12-21<br/>07:12:47 +0900</div><div class="message__header">kazu</div><div class="message__body">Windowsの質問ですが、Cのヘッダで32ビットか64ビットか判断する方法はありませんか？</div></div><div class="message" id="message-1513816444.000164"><div class="message__timestamp">2017-12-21<br/>09:34:04 +0900</div><div class="message__header">notogawa</div><div class="message__body"><code>_WIN64</code>とか <code>_WIN32</code>とかのcompiler predefinedマクロに頼らずにってことですか？</div></div><div class="message" id="message-1513816531.000068"><div class="message__timestamp">2017-12-21<br/>09:35:31 +0900</div><div class="message__header">kazu</div><div class="message__body">あ、`_WIN64` ってあるんですね。やってみます。</div></div><div class="message" id="message-1513817093.000132"><div class="message__timestamp">2017-12-21<br/>09:44:53 +0900</div><div class="message__header">kazu</div><div class="message__body">うぉー。できた。ありがとうございます！</div></div></div><div class="pager"><a href="/html/C5666B6BB/6.html" class="pager__previous">Previous</a><a href="/" class="pager__top">Top</a><a href="/html/C5666B6BB/8.html" class="pager__next">Next</a></div></body></html>