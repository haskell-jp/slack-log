<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / beginners #3</title><link rel="stylesheet" href="../../messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / beginners #3</h1><div class="pager"><a href="../../html/CR2TETE5R/2.html" class="pager__previous">Previous</a><a href="../../" class="pager__top">Top</a></div><div class="message_list"><div class="message" id="message-1577004105.017200"><div class="message__timestamp">2019-12-22<br/>17:41:45 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">初心者ですが<br/>はじめテキトーに書いてコンパイラが怒ってくれるのを導きに修正していくという書き方ができるので<br/>楽だし、すごく楽しいですね<br/>あまりに嬉しいので投稿しました</div></div><div class="message" id="message-1577006526.017900"><div class="message__timestamp">2019-12-22<br/>18:22:06 +0900</div><div class="message__header">ymdpharm</div><div class="message__body">@ymdpharm has joined the channel</div></div><div class="message" id="message-1577038606.022200"><div class="message__timestamp">2019-12-23<br/>03:16:46 +0900</div><div class="message__header">kai.tenyatendon</div><div class="message__body">すごいH本にMonoidの章があると思いますが、Monoidは実際のプログラムでどのように役立つのでしょうか？<br/>すごいH本には色々なデータ構造に対して畳み込みができる！みたいな例を出していましたが、他の例も知りたいです！</div></div><div class="message" id="message-1577055940.022700"><div class="message__timestamp">2019-12-23<br/>08:05:40 +0900</div><div class="message__header">igrep</div><div class="message__body">Monoidの結合則を利用した応用方法として <a href='https://chrispenner.ca/posts/wc'>https://chrispenner.ca/posts/wc</a> を挙げておきます。<br/>ざっくり言うと、Monoidの重要な法則である結合則は「どんな順番で結合（ <code>&lt;&gt;</code> を適用）しても、各演算の左辺と右辺さえ変わっていなければ結果は変わらない」という性質なので、この記事では、単語や行を数える問題をMonoid則を満たすように分割することで、並列処理してバラバラに実行しても、結合するときは正しく計算されるようにした、という例です。</div></div><div class="message" id="message-1577058883.023000"><div class="message__timestamp">2019-12-23<br/>08:54:43 +0900</div><div class="message__header">kai.tenyatendon</div><div class="message__body">なるほど！とても面白そうな使い方で驚きました<br/>ありがとうございます！！</div></div><div class="message" id="message-1577062829.023500"><div class="message__timestamp">2019-12-23<br/>10:00:29 +0900</div><div class="message__header">qryxip</div><div class="message__body">@qryxip has joined the channel</div></div><div class="message" id="message-1577079597.023700"><div class="message__timestamp">2019-12-23<br/>14:39:57 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body"><code>Non-exhaustive patterns</code>はコンパイル通ることがあるのですね、気をつけなければ</div></div><div class="message" id="message-1577079767.023900"><div class="message__timestamp">2019-12-23<br/>14:42:47 +0900</div><div class="message__header">igrep</div><div class="message__body">GHCに <code>-Werror</code> と <code>-Wall</code> オプションを付ければエラーにすることができます。<br/><code>stack build --pedantic</code> はそのショートカットです。</div></div><div class="message" id="message-1577079828.024200"><div class="message__timestamp">2019-12-23<br/>14:43:48 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">ありがとうございます！</div></div><div class="message" id="message-1577259274.024900"><div class="message__timestamp">2019-12-25<br/>16:34:34 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">Persistent で <code>Integer</code> 型のフィールドを定義する方法はあるのでしょうか<br/>テーブル定義で Integer とすると、そんなものはないと言われるので仕方なく Int にしています<br/>PostgreSQLの場合、内部的には bigint で扱ってくれているようです<br/>ところがHaskell側にもってくると、やはり正体は Int です<br/>20億は超えてくる可能性があるので、Integer で定義したいのですが...</div></div><div class="message" id="message-1577259395.025100"><div class="message__timestamp">2019-12-25<br/>16:36:35 +0900</div><div class="message__header">igrep</div><div class="message__body">persistentは全く使ったことがないので伺いたいのですが、<br/><blockquote>そんなものはないと言われる</blockquote>というのはどんなエラーですか？</div></div><div class="message" id="message-1577259424.025300"><div class="message__timestamp">2019-12-25<br/>16:37:04 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">はい、少々お待ち下さい</div></div><div class="message" id="message-1577259564.025500"><div class="message__timestamp">2019-12-25<br/>16:39:24 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">おまたせしました、そのまま貼ります</div></div><div class="message" id="message-1577259622.025900"><div class="message__timestamp">2019-12-25<br/>16:40:22 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body"><code>Int64</code> もありそうでないのです</div></div><div class="message" id="message-1577259733.026200"><div class="message__timestamp">2019-12-25<br/>16:42:13 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">terminal というのはフィールド名です</div></div><div class="message" id="message-1577260093.026400"><div class="message__timestamp">2019-12-25<br/>16:48:13 +0900</div><div class="message__header">igrep</div><div class="message__body"><code>No instance for (persistent-2.9.2:Database.Persist.Sql.Class.PersistFieldSql Integer</code><br/>これはやはり <code>Integer</code> を <code>persistent</code> パッケージの <code>Database.Persist.Sql.Class.PersistFieldSql</code> のインスタンスにするのが正解、ってことなんでしょうね。ただ、一般にRDBがサポートする整数型に多倍長のもの（最大値が無限のもの）はないため、自明なインスタンス定義がない、ということなんでしょう。</div></div><div class="message" id="message-1577260122.026600"><div class="message__timestamp">2019-12-25<br/>16:48:42 +0900</div><div class="message__header">igrep</div><div class="message__body">でも、 <code>Int64</code> については <a href='https://hackage.haskell.org/package/persistent-2.10.4/docs/Database-Persist-Sql.html#t:PersistFieldSql'>https://hackage.haskell.org/package/persistent-2.10.4/docs/Database-Persist-Sql.html#t:PersistFieldSql</a> を読む限り定義されている、ような...？ :thinking_face:</div></div><div class="message" id="message-1577260229.026800"><div class="message__timestamp">2019-12-25<br/>16:50:29 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">そうなのです<br/><code>Int64</code> とするとまた別の短いメッセージがあります</div></div><div class="message" id="message-1577260340.027300"><div class="message__timestamp">2019-12-25<br/>16:52:20 +0900</div><div class="message__header">igrep</div><div class="message__body"><code>import <http://Data.Int|Data.Int></code> が必要ですね。<br/><code>Int64</code> は <code>Prelude</code> にありません...</div></div><div class="message" id="message-1577260589.027700"><div class="message__timestamp">2019-12-25<br/>16:56:29 +0900</div><div class="message__header">shunkichi.sato</div><div class="message__body">定義できたみたいです、ありがとうございます</div></div><div class="message" id="message-1577260892.027900"><div class="message__timestamp">2019-12-25<br/>17:01:32 +0900</div><div class="message__header">wado</div><div class="message__body">Haskell の型との対応表はこの辺にまとまってるので参考にどうぞ.<br/><a href='https://github.com/yesodweb/persistent/blob/master/docs/Persistent-entity-syntax.md#conversion-table-migrations'>https://github.com/yesodweb/persistent/blob/master/docs/Persistent-entity-syntax.md#conversion-table-migrations</a></div></div><div class="message" id="message-1577260948.028200"><div class="message__timestamp">2019-12-25<br/>17:02:28 +0900</div><div class="message__header">igrep</div><div class="message__body">一つ忘れてた。<br/><code>Int</code> は64bitな環境であればちゃんと64bitになります... まぁ、精度を明示するのはいい作戦だと思いますが。</div></div><div class="message" id="message-1577329229.029100"><div class="message__timestamp">2019-12-26<br/>12:00:29 +0900</div><div class="message__header">9647142</div><div class="message__body">@9647142 has joined the channel</div></div><div class="message" id="message-1577343366.029300"><div class="message__timestamp">2019-12-26<br/>15:56:06 +0900</div><div class="message__header">ringo1625</div><div class="message__body">@ringo1625 has joined the channel</div></div><div class="message" id="message-1577343366.029300"><div class="message__timestamp">2019-12-26<br/>15:56:06 +0900</div><div class="message__header">ringo1625</div><div class="message__body">@ringo1625 has joined the channel</div></div><div class="message" id="message-1577442188.029600"><div class="message__timestamp">2019-12-27<br/>19:23:08 +0900</div><div class="message__header">lostcav1140</div><div class="message__body">@lostcav1140 has joined the channel</div></div><div class="message" id="message-1577517404.030300"><div class="message__timestamp">2019-12-28<br/>16:16:44 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">ghciを起動すると、`Prelude&gt;`  と表示されます。これはどういう意味・意図ですか？   [連載QA]</div></div><div class="message" id="message-1577517510.030400"><div class="message__timestamp">2019-12-28<br/>16:18:30 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">これは、ghciが現在読み込んでいるモジュール（importしているモジュール）を表しています。<br/>つまり現在、"Prelude"モジュールが、importされていることを示しています。<br/>ghciは起動時に暗黙的・自動的に、"Prelude"モジュールをimportするため、それが表示されています。<br/><br/>例えば、次のように、"Data.List"モジュールを追加でimportすると、それらがプロンプトに追加されます。<br/><pre>Prelude&gt; import Data.List

Prelude Data.List&gt; </pre><br/>なお、次のように、`set prompt`コマンドにより、プロンプトを変更することが出来ます。<br/><pre>Prelude&gt; :set prompt "ghci&gt; "

ghci&gt; </pre><br/>また、`~/.ghci` ファイルを作り、次のように設定を書いておくと、ghciのデフォルトのプロンプトを変えることが出来ます。<br/><pre>:set prompt "ghci&gt; "</pre></div></div><div class="message" id="message-1577533253.030700"><div class="message__timestamp">2019-12-28<br/>20:40:53 +0900</div><div class="message__header">i_am_d3</div><div class="message__body">@i_am_d3 has joined the channel</div></div><div class="message" id="message-1577547656.031000"><div class="message__timestamp">2019-12-29<br/>00:40:56 +0900</div><div class="message__header">umtk.ngx</div><div class="message__body">@umtk.ngx has joined the channel</div></div><div class="message" id="message-1577702977.031200"><div class="message__timestamp">2019-12-30<br/>19:49:37 +0900</div><div class="message__header">ktsubota</div><div class="message__body">@ktsubota has joined the channel</div></div><div class="message" id="message-1577847629.031300"><div class="message__timestamp">2020-01-01<br/>12:00:29 +0900</div><div class="message__header">slackbot</div><div class="message__body">Reminder: <br/>beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。<br/>Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。<br/><br/>beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。<br/>• それはくだらない質問だ → くだらない質問など無い<br/>• その質問は以前にもあった → 質問者はそんなこと知らない<br/>• Google検索せよ → 検索できないから質問している<br/>beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。<br/>• <code>:</code> とは何のことですか。<br/>• タプルとは何ですか。<br/></div></div><div class="message" id="message-1577968732.031500"><div class="message__timestamp">2020-01-02<br/>21:38:52 +0900</div><div class="message__header">mitsubosh</div><div class="message__body">@mitsubosh has joined the channel</div></div><div class="message" id="message-1578193202.031700"><div class="message__timestamp">2020-01-05<br/>12:00:02 +0900</div><div class="message__header">kuwanakb</div><div class="message__body">@kuwanakb has joined the channel</div></div></div><div class="pager"><a href="../../html/CR2TETE5R/2.html" class="pager__previous">Previous</a><a href="../../" class="pager__top">Top</a></div></body></html>