<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #17 at 2021-07-18 15:55:22 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #17 at 2021-07-18 15:55:22 +0900</h1>
    <div class="ui pagination menu">
      <a href="../17.html" class="item">Back to beginners #17</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1626591322.147600">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1626591322.147600">2021-07-18 15:55:22 +0900</a></div>
          </div>
          <div class="description">初歩的な質問ですが、<br/>あるHaskellファイルFoo.hsで、そこからの相対パスがMydir/Bar.hsのファイルをimportしたいのですが、<br/>Bar.hsの内部のモジュール名をMydir.Barに書き換えずにBarのままImport方法はありますでしょうか？</div>
        </div>
      </div>
      <div class="event" id="message-1626591943.148000">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1626591943.148000">2021-07-18 16:05:43 +0900</a></div>
          </div>
          <div class="description"><strike>残念ながらできません。</strike></div>
        </div>
      </div>
      <div class="event" id="message-1626592393.148500">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1626592393.148500">2021-07-18 16:13:13 +0900</a></div>
          </div>
          <div class="description">ありがとうございます。<br/><br/>一応、なぜこのようなことをしたいかというと、<br/>Mydir/Bar.hsは実は自動生成されたプログラムで、内部を書き換えたくないのです。かといって、手書きしたFoo.hsと同じディレクトリに置くのも紛らわしいので、Generatedディレクトリに置いておきたかったというのが本音でした。</div>
        </div>
      </div>
      <div class="event" id="message-1626594079.148700">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1626594079.148700">2021-07-18 16:41:19 +0900</a></div>
          </div>
          <div class="description">自動生成する側でモジュール名を工夫することは出来ないのでしょうか。<br/>あとできないと言った後ですみません。少々面倒になるものの、パッケージを分けてcabal.projectなりstack.yamlなりで参照するという形なら一応可能です。</div>
        </div>
      </div>
      <div class="event" id="message-1626659526.149900">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1626659526.149900">2021-07-19 10:52:06 +0900</a></div>
          </div>
          <div class="description">遅くなってすみません。<br/>できなくはないと思いますが、ちょっと面倒なのと、<br/>単にHaskell側でパスを通すだけで参照できたりしないのかなと思っただけです。</div>
        </div>
      </div>
      <div class="event" id="message-1626661764.150300">
        <div class="content">
          <div class="summary">
            <div class="user">mod_poppo</div>
            <div class="date"><a class="date" href="#message-1626661764.150300">2021-07-19 11:29:24 +0900</a></div>
          </div>
          <div class="description">.cabalの <code>hs-source-dirs</code> （package.yamlの場合は <code>source-dirs</code>）には複数のディレクトリを指定できます。そこで <code>hs-source-dirs: src src/Mydir</code> という風に指定すれば良いです。</div>
        </div>
      </div>
      <div class="event" id="message-1626662023.150600">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1626662023.150600">2021-07-19 11:33:43 +0900</a></div>
          </div>
          <div class="description">おっ、すみません、誤解しておりました！ :man-bowing: :man-bowing: :man-bowing:</div>
        </div>
      </div>
      <div class="event" id="message-1626668863.150900">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1626668863.150900">2021-07-19 13:27:43 +0900</a></div>
          </div>
          <div class="description">:man-bowing: すみません、 <a href='https://haskell-jp.slack.com/archives/CR2TETE5R/p1626661764150300?thread_ts=1626591322.147600&amp;cid=CR2TETE5R'>https://haskell-jp.slack.com/archives/CR2TETE5R/p1626661764150300?thread_ts=1626591322.147600&amp;cid=CR2TETE5R</a> のとおり、スレッド冒頭の回答は間違いでした。<br/>よく考えたらGHCのコマンドラインオプションでも <code>-i</code> を使えば複数指定できますし、それをcabalから使えないのもおかしな話ですよね... :pray:</div>
        </div>
      </div>
      <div class="event" id="message-1626745133.158200">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1626745133.158200">2021-07-20 10:38:53 +0900</a></div>
          </div>
          <div class="description">遅くなりました。<br/>ありがとうございます！<br/>package.yamlを変更する方法で試してみたのですが、src/Mydirに置いてしまうと、cabalファイルのexposed-modules欄にBarとMydir.Barの両方が登録されてしまって、Mydir.Barの方でエラーが出てしまうので、srcの外に置くようにしたらコンパイルが通りました。</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../17.html" class="item">Back to beginners #17</a>
    </div>
  </div>
</body>
</html>
