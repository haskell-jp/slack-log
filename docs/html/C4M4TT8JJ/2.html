<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / random #2</title><link rel="stylesheet" href="../../messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / random #2</h1><div class="pager"><a href="../../html/C4M4TT8JJ/1.html" class="pager__previous">Previous</a><a href="../../" class="pager__top">Top</a><a href="../../html/C4M4TT8JJ/3.html" class="pager__next">Next</a></div><div class="message_list"><div class="message" id="message-1511166909.000391"><div class="message__timestamp">2017-11-20<br/>17:35:09 +0900</div><div class="message__header">kazu</div><div class="message__body">GHC 8.4 はこんな感じ：</div></div><div class="message" id="message-1511166910.000277"><div class="message__timestamp">2017-11-20<br/>17:35:10 +0900</div><div class="message__header">kazu</div><div class="message__body"><a href='https://ghc.haskell.org/trac/ghc/wiki/Status/GHC-8.4.1'>https://ghc.haskell.org/trac/ghc/wiki/Status/GHC-8.4.1</a></div></div><div class="message" id="message-1511166920.000047"><div class="message__timestamp">2017-11-20<br/>17:35:20 +0900</div><div class="message__header">kazu</div><div class="message__body">DependentHaskell は入らないみたい。</div></div><div class="message" id="message-1511166949.000168"><div class="message__timestamp">2017-11-20<br/>17:35:49 +0900</div><div class="message__header">kazu</div><div class="message__body">hadrian は入る。</div></div><div class="message" id="message-1511167124.000204"><div class="message__timestamp">2017-11-20<br/>17:38:44 +0900</div><div class="message__header">kazu</div><div class="message__body">GHCが Haskell コードをコンパイルする速度が上がるみたいだけど、どれくらい速くなるのかなぁ。</div></div><div class="message" id="message-1511314597.000198"><div class="message__timestamp">2017-11-22<br/>10:36:37 +0900</div><div class="message__header">kakkun61</div><div class="message__body">『本物のプログラマは Haskell を使う』今の情報に更新して本の形にまとまってほしい<br/><a href='http://itpro.nikkeibp.co.jp/article/COLUMN/20060915/248215/'>http://itpro.nikkeibp.co.jp/article/COLUMN/20060915/248215/</a></div></div><div class="message" id="message-1511315247.000245"><div class="message__timestamp">2017-11-22<br/>10:47:27 +0900</div><div class="message__header">kazu</div><div class="message__body">著者が音信不通で、みんな心配しています。</div></div><div class="message" id="message-1511315329.000060"><div class="message__timestamp">2017-11-22<br/>10:48:49 +0900</div><div class="message__header">kakkun61</div><div class="message__body">あら、そうなのですね</div></div><div class="message" id="message-1511317171.000023"><div class="message__timestamp">2017-11-22<br/>11:19:31 +0900</div><div class="message__header">kazu</div><div class="message__body">GHC 7.6 以降、Data.ByteString が IsString のインスタンスを export していたのか！</div></div><div class="message" id="message-1511317174.000075"><div class="message__timestamp">2017-11-22<br/>11:19:34 +0900</div><div class="message__header">kazu</div><div class="message__body">知らなかった。。。</div></div><div class="message" id="message-1511317188.000091"><div class="message__timestamp">2017-11-22<br/>11:19:48 +0900</div><div class="message__header">kazu</div><div class="message__body">import Data.ByteString.Char8() しまくりだった。</div></div><div class="message" id="message-1511325934.000143"><div class="message__timestamp">2017-11-22<br/>13:45:34 +0900</div><div class="message__header">kazu</div><div class="message__body">Data.MonoidやControl.Applicativeのimport関係で、GHCのバージョンによって警告が出たり出なかったりする問題ですが、この度 #ifdef を使わない画期的な解決方法が発見されました。</div></div><div class="message" id="message-1511325963.000037"><div class="message__timestamp">2017-11-22<br/>13:46:03 +0900</div><div class="message__header">kazu</div><div class="message__body">こんなモジュールを作成し、必要なら import すれば OK です。</div></div><div class="message" id="message-1511325964.000064"><div class="message__timestamp">2017-11-22<br/>13:46:04 +0900</div><div class="message__header">kazu</div><div class="message__body"><a href='https://github.com/kazu-yamamoto/dns/blob/master/Network/DNS/Imports.hs'>https://github.com/kazu-yamamoto/dns/blob/master/Network/DNS/Imports.hs</a></div></div><div class="message" id="message-1511326034.000038"><div class="message__timestamp">2017-11-22<br/>13:47:14 +0900</div><div class="message__header">kazu</div><div class="message__body">魔法のようです。素晴らしいです。</div></div><div class="message" id="message-1511337278.000066"><div class="message__timestamp">2017-11-22<br/>16:54:38 +0900</div><div class="message__header">kazu</div><div class="message__body">hlint がまた強力になっていて、昔出さなかった suggestion を出すようになっています。</div></div><div class="message" id="message-1511337303.000053"><div class="message__timestamp">2017-11-22<br/>16:55:03 +0900</div><div class="message__header">kazu</div><div class="message__body">unsafePerformIO を NOINLINE してないことも指摘されました。</div></div><div class="message" id="message-1511337341.000139"><div class="message__timestamp">2017-11-22<br/>16:55:41 +0900</div><div class="message__header">kazu</div><div class="message__body">x == Nothing も isNothing を使えと言われるんですが、== だと辞書渡しになるから遅いんですかね？</div></div><div class="message" id="message-1511341418.000349"><div class="message__timestamp">2017-11-22<br/>18:03:38 +0900</div><div class="message__header">myuon_myon</div><div class="message__body">少なくとも前者はxが <code>Eq a =&gt; Maybe a</code> でないといけないので後者の方が汎用的なコードではありますね(パフォーマンスのことは知りません)</div></div><div class="message" id="message-1511355826.000505"><div class="message__timestamp">2017-11-22<br/>22:03:46 +0900</div><div class="message__header">maoe</div><div class="message__body">bytestring-0.9.0.4からみたいですね。ByteString型はData.ByteStringとData.ByteString.Char8で同じで、かつインスタンスはモジュールではなく型に紐付く物なので、 <code>import Data.ByteString.Char8 ()</code> は不要ではないかと思いました。</div></div><div class="message" id="message-1511356046.000171"><div class="message__timestamp">2017-11-22<br/>22:07:26 +0900</div><div class="message__header">maoe</div><div class="message__body">これAMPが実装されたときによく見た物だと思います。たいていの場合 <code>import Prelude</code> を最後に置くとCPPなしで警告を避けられます。<br/>参考: <a href='https://ghc.haskell.org/trac/ghc/wiki/Migration/7.10#GHCsaysTheimportof...isredundant'>https://ghc.haskell.org/trac/ghc/wiki/Migration/7.10#GHCsaysTheimportof...isredundant</a></div></div><div class="message" id="message-1511356432.000022"><div class="message__timestamp">2017-11-22<br/>22:13:52 +0900</div><div class="message__header">maoe</div><div class="message__body">Coreを見ると少なくとも8.2.1では同じコードにコンパイルされるようです。unfoldingは少し違いますが。</div></div><div class="message" id="message-1511356487.000320"><div class="message__timestamp">2017-11-22<br/>22:14:47 +0900</div><div class="message__header">maoe</div><div class="message__body"><pre>
isNothing                                                          
  = \ (@ a_a217) (ds_d21I :: Maybe a_a217) -&gt;
      case ds_d21I of {
        Nothing -&gt; GHC.Types.True;                         
        Just ipv_s21X -&gt; GHC.Types.False
      }
               
isNothing'     
  = \ (@ a_a210) _ [Occ=Dead] (x_a1TR :: Maybe a_a210) -&gt;
      case x_a1TR of {                                        
        Nothing -&gt; GHC.Types.True;                                  
        Just a1_a22b -&gt; GHC.Types.False                      
      }
</pre><br/>isNothingがパターンマッチ、isNothing'が(==)です。</div></div><div class="message" id="message-1511426979.000124"><div class="message__timestamp">2017-11-23<br/>17:49:39 +0900</div><div class="message__header">not.hot.red.pepper</div><div class="message__body">@not.hot.red.pepper has joined the channel</div></div><div class="message" id="message-1511427200.000132"><div class="message__timestamp">2017-11-23<br/>17:53:20 +0900</div><div class="message__header">hexirp</div><div class="message__body">投稿することが出来るようになりました。TravisCIのcron機能を使って実行し続ければOKだと思います。<br/><a href='https://github.com/Hexirp/github-trends'>https://github.com/Hexirp/github-trends</a></div></div><div class="message" id="message-1511427530.000242"><div class="message__timestamp">2017-11-23<br/>17:58:50 +0900</div><div class="message__header">hexirp</div><div class="message__body">気になっていることは連携できるサービスの数の制限を回避するために古いタイプのトークンを使っていること、そのトークンは自分で取得するか代表者に取得してもらうかどっちがいいのか、どのチャンネルに投稿するようにしたらいいのか、このリポジトリは公式ユーザー <a href='https://github.com/haskell-jp'>https://github.com/haskell-jp</a> に送るべきか、といったことです。</div></div><div class="message" id="message-1511479286.000062"><div class="message__timestamp">2017-11-24<br/>08:21:26 +0900</div><div class="message__header">igrep</div><div class="message__body">了解です。ちょっと詳細観て検討しますね。</div></div><div class="message" id="message-1511480634.000099"><div class="message__timestamp">2017-11-24<br/>08:43:54 +0900</div><div class="message__header">igrep</div><div class="message__body">@hexirp <br/>(1) 差し支えなければ @hexirp に取得・設定までお任せしたいのですが、何か懸念点はありますか？<br/>(2) チャンネルは適当に作ってしまってください。作った後のアナウンスも <a href='#C4LFB6DE0'>general</a> にやっていただけると助かります。<br/>(3) 差し支えなければ <a href='https://github.com/haskell-jp'>https://github.com/haskell-jp</a> をownerにさせていただきたいです。</div></div><div class="message" id="message-1511487192.000024"><div class="message__timestamp">2017-11-24<br/>10:33:12 +0900</div><div class="message__header">igrep</div><div class="message__body">Stackage NightlyへのGHC 8.2.2の導入も順調なようですね！<br/><a href='https://github.com/fpco/stackage/issues/3037'>https://github.com/fpco/stackage/issues/3037</a><br/>:sweat: .oO(LTSにはいつ入るのか...)</div></div><div class="message" id="message-1511492787.000028"><div class="message__timestamp">2017-11-24<br/>12:06:27 +0900</div><div class="message__header">wado</div><div class="message__body">通常通りであれば約半年に1回のペースで <code>LTS</code> のメジャーバージョンがアップデートされるので12月か1月ぐらいですかね？:thinking_face:</div></div><div class="message" id="message-1511494992.000036"><div class="message__timestamp">2017-11-24<br/>12:43:12 +0900</div><div class="message__header">kazu</div><div class="message__body">Haskellコードのcyclomatic complexityを測るツールとして、Argonとかhomplexityがあるみたいなんですが、使っている人がいたら、使い物になるか教えてください。</div></div><div class="message" id="message-1511502110.000128"><div class="message__timestamp">2017-11-24<br/>14:41:50 +0900</div><div class="message__header">ruicc</div><div class="message__body">あれ、LinearTypesもまだですね..</div></div><div class="message" id="message-1511509595.000128"><div class="message__timestamp">2017-11-24<br/>16:46:35 +0900</div><div class="message__header">kazu</div><div class="message__body">両方とも保守されてない感じだ。。。</div></div><div class="message" id="message-1511529898.000352"><div class="message__timestamp">2017-11-24<br/>22:24:58 +0900</div><div class="message__header">kakkun61</div><div class="message__body">@lotz さんの Servant 入門記事と @matsubara0507 さんの Elm との連携記事を読んだから土日やっていくぞ<br/><a href='https://qiita.com/lotz/items/883b41fa79f060e59efa'>https://qiita.com/lotz/items/883b41fa79f060e59efa</a><br/><a href='https://matsubara0507.github.io/posts/2017-09-17-create-haskell-and-elm.html'>https://matsubara0507.github.io/posts/2017-09-17-create-haskell-and-elm.html</a></div></div><div class="message" id="message-1511529942.000373"><div class="message__timestamp">2017-11-24<br/>22:25:42 +0900</div><div class="message__header">kakkun61</div><div class="message__body">拡張可能レコードは別の機会に</div></div><div class="message" id="message-1511559653.000083"><div class="message__timestamp">2017-11-25<br/>06:40:53 +0900</div><div class="message__header">memos</div><div class="message__body">@memos has joined the channel</div></div><div class="message" id="message-1511612253.000056"><div class="message__timestamp">2017-11-25<br/>21:17:33 +0900</div><div class="message__header">hexirp</div><div class="message__body">1&amp;2&gt;そうします。<br/>3&gt;実行時に使うslackのトークンはTravisCIの機能で暗号化しないといけないのですが、暗号化したものは暗号化した人のリポジトリでしか復号できない仕様になっています。そのため私がslackのトークンを設定/暗号化するのであれば譲渡はできないかと思います。あと、今使っている古いタイプのトークンはできる範囲が多すぎるため余り他人に渡したくないというのもあります。もしこれらを解決する良い方法が見つかったらその時でも譲渡は可能だと思いますので、とりあえず今は実際に動かしてみます。</div></div><div class="message" id="message-1511612576.000072"><div class="message__timestamp">2017-11-25<br/>21:22:56 +0900</div><div class="message__header">igrep</div><div class="message__body">了解です。ではリポジトリーのownerは hexirp さんのままでよろしくお願いします。<br/>ほかに必要なことがあればなんなりといってください！</div></div><div class="message" id="message-1511671574.000026"><div class="message__timestamp">2017-11-26<br/>13:46:14 +0900</div><div class="message__header">kk4649</div><div class="message__body">@kk4649 has joined the channel</div></div><div class="message" id="message-1511673295.000011"><div class="message__timestamp">2017-11-26<br/>14:14:55 +0900</div><div class="message__header">becausethespiderspied</div><div class="message__body">@becausethespiderspied has joined the channel</div></div><div class="message" id="message-1511748339.000099"><div class="message__timestamp">2017-11-27<br/>11:05:39 +0900</div><div class="message__header">naohaq</div><div class="message__body">hlint をはじめて使ってみましたが、 <code>foldr (+) 0</code> は <code>sum</code> にしろとか、 <code>map (...) $ map (...)</code> は1個のmapにまとめろとか、なかなかアグレッシブな？指摘をしてくれますね</div></div><div class="message" id="message-1511833228.000139"><div class="message__timestamp">2017-11-28<br/>10:40:28 +0900</div><div class="message__header">kazu</div><div class="message__body"><code>hlint --ignore="Eta reduce"</code> とかで、ルールを排除できますよ。</div></div><div class="message" id="message-1511833245.000230"><div class="message__timestamp">2017-11-28<br/>10:40:45 +0900</div><div class="message__header">kazu</div><div class="message__body">警告の前の文字列をコピペするだけです。</div></div><div class="message" id="message-1511868159.000090"><div class="message__timestamp">2017-11-28<br/>20:22:39 +0900</div><div class="message__header">naohaq</div><div class="message__body">実際、警告に従って運算していったらEta reduceで引数なくせるだろ、と言われて微妙な気分になりました^^;</div></div><div class="message" id="message-1511999839.000143"><div class="message__timestamp">2017-11-30<br/>08:57:19 +0900</div><div class="message__header">taketarou2</div><div class="message__body">@taketarou2 has joined the channel</div></div><div class="message" id="message-1512035579.000186"><div class="message__timestamp">2017-11-30<br/>18:52:59 +0900</div><div class="message__header">tomo426.sakura1281m</div><div class="message__body">@tomo426.sakura1281m has joined the channel</div></div><div class="message" id="message-1512055255.000364"><div class="message__timestamp">2017-12-01<br/>00:20:55 +0900</div><div class="message__header">ah</div><div class="message__body">@ah has joined the channel</div></div><div class="message" id="message-1512089740.000043"><div class="message__timestamp">2017-12-01<br/>09:55:40 +0900</div><div class="message__header">lotz</div><div class="message__body">Haskell Advent Calendar 始まりましたね :tada:<br/>アドベントカレンダーのRSSを購読する #advent-calendar チャネル作っちゃってもいいですか？<br/><a href='https://qiita.com/advent-calendar/2017/haskell'>https://qiita.com/advent-calendar/2017/haskell</a><br/><a href='https://qiita.com/advent-calendar/2017/haskell2'>https://qiita.com/advent-calendar/2017/haskell2</a><br/><a href='https://qiita.com/advent-calendar/2017/haskell3'>https://qiita.com/advent-calendar/2017/haskell3</a></div></div><div class="message" id="message-1512090685.000173"><div class="message__timestamp">2017-12-01<br/>10:11:25 +0900</div><div class="message__header">igrep</div><div class="message__body">@lotz Nice idea! やっちゃってください！ :pray:</div></div><div class="message" id="message-1512090877.000104"><div class="message__timestamp">2017-12-01<br/>10:14:37 +0900</div><div class="message__header">lotz</div><div class="message__body">ありがとうございます！さっそく <a href='#C89028A6S'>advent-calendar</a> 作りました〜</div></div></div><div class="pager"><a href="../../html/C4M4TT8JJ/1.html" class="pager__previous">Previous</a><a href="../../" class="pager__top">Top</a><a href="../../html/C4M4TT8JJ/3.html" class="pager__next">Next</a></div></body></html>