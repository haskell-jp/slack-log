<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / general #1</title><link rel="stylesheet" href="/messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / general #1</h1><div class="pager"><a href="/" class="pager__top">Top</a><a href="/html/C4LFB6DE0/2.html" class="pager__next">Next</a></div><div class="message_list"><div class="message" id="message-1509361120.000261"><div class="message__timestamp">2017-10-30<br/>19:58:40 +0900</div><div class="message__header">kakkun61</div><div class="message__body"><a href='#C7RQKT49H'>haskell-org-status</a> に <a href='https://status.haskell.org/'>https://status.haskell.org/</a> の RSS を流すようにしてみました</div></div><div class="message" id="message-1509525001.000103"><div class="message__timestamp">2017-11-01<br/>17:30:01 +0900</div><div class="message__header">takano32</div><div class="message__body">@takano32 has joined the channel</div></div><div class="message" id="message-1509892035.000042"><div class="message__timestamp">2017-11-05<br/>23:27:15 +0900</div><div class="message__header">falsandtru</div><div class="message__body">@falsandtru has joined the channel</div></div><div class="message" id="message-1509926532.000113"><div class="message__timestamp">2017-11-06<br/>09:02:12 +0900</div><div class="message__header">kr784nsyta</div><div class="message__body">@kr784nsyta has joined the channel</div></div><div class="message" id="message-1509944602.000112"><div class="message__timestamp">2017-11-06<br/>14:03:22 +0900</div><div class="message__header">yohei920</div><div class="message__body">@yohei920 has joined the channel</div></div><div class="message" id="message-1509945665.000129"><div class="message__timestamp">2017-11-06<br/>14:21:05 +0900</div><div class="message__header">vis.nt.rstd</div><div class="message__body">@vis.nt.rstd has joined the channel</div></div><div class="message" id="message-1510060441.000533"><div class="message__timestamp">2017-11-07<br/>22:14:01 +0900</div><div class="message__header">cantimerny.g</div><div class="message__body">@cantimerny.g has joined the channel</div></div><div class="message" id="message-1510113695.000051"><div class="message__timestamp">2017-11-08<br/>13:01:35 +0900</div><div class="message__header">ryym.64</div><div class="message__body">@ryym.64 has joined the channel</div></div><div class="message" id="message-1510216762.000439"><div class="message__timestamp">2017-11-09<br/>17:39:22 +0900</div><div class="message__header">ryo.furutani</div><div class="message__body">@ryo.furutani has joined the channel</div></div><div class="message" id="message-1510219739.000360"><div class="message__timestamp">2017-11-09<br/>18:28:59 +0900</div><div class="message__header">being.paperlefthand</div><div class="message__body">@being.paperlefthand has joined the channel</div></div><div class="message" id="message-1510278661.000088"><div class="message__timestamp">2017-11-10<br/>10:51:01 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">@hiroto.shioi has joined the channel</div></div><div class="message" id="message-1510379434.000003"><div class="message__timestamp">2017-11-11<br/>14:50:34 +0900</div><div class="message__header">legokichi</div><div class="message__body">@legokichi has joined the channel</div></div><div class="message" id="message-1510397422.000028"><div class="message__timestamp">2017-11-11<br/>19:50:22 +0900</div><div class="message__header">takatheshi</div><div class="message__body">@takatheshi has joined the channel</div></div><div class="message" id="message-1510452914.000071"><div class="message__timestamp">2017-11-12<br/>11:15:14 +0900</div><div class="message__header">junkjunctions</div><div class="message__body">@junkjunctions has joined the channel</div></div><div class="message" id="message-1510454639.000063"><div class="message__timestamp">2017-11-12<br/>11:43:59 +0900</div><div class="message__header">igrep</div><div class="message__body"><a href='!everyone'>!everyone</a> Haskellそのものからちょっと外れた、関連する数学の話題を話すためのチャンネル <a href='#C7Y71415W'>math</a> を作りました。<br/>圏論などの数学諸分野はHaskellの重要な基礎となってはいますが（そもそもコンピュータが数学の賜ですしね）<br/>Haskell自体は数学が分からなくても十分に使用できるものです。<br/>しかしながらHaskellをやっていて圏論を始め数学に関心を持った人はたくさんいるので、そうした人が自由に数学の話をできる場はあった方がいいだろうと思ったため作りました。</div></div><div class="message" id="message-1510476749.000035"><div class="message__timestamp">2017-11-12<br/>17:52:29 +0900</div><div class="message__header">ayu.mushi2015</div><div class="message__body">@ayu.mushi2015 has joined the channel</div></div><div class="message" id="message-1510531287.000034"><div class="message__timestamp">2017-11-13<br/>09:01:27 +0900</div><div class="message__header">igrep</div><div class="message__body">またメンバーが増えた &amp; 上に流れてしまったまま忘れてた ので再掲します。<br/><a href='https://haskell-jp.slack.com/archives/C4LFB6DE0/p1500870616095473'>https://haskell-jp.slack.com/archives/C4LFB6DE0/p1500870616095473</a></div></div><div class="message" id="message-1510724048.000024"><div class="message__timestamp">2017-11-15<br/>14:34:08 +0900</div><div class="message__header">egisatoshi</div><div class="message__body">@egisatoshi has joined the channel</div></div><div class="message" id="message-1510813069.000214"><div class="message__timestamp">2017-11-16<br/>15:17:49 +0900</div><div class="message__header">heikichi3</div><div class="message__body">@heikichi3 has joined the channel</div></div><div class="message" id="message-1511086743.000051"><div class="message__timestamp">2017-11-19<br/>19:19:03 +0900</div><div class="message__header">legokichi</div><div class="message__body"><pre>
data (Show a) =&gt; Color a = Red | Green | Blue | Rgb {r :: a, g :: a, b :: a} deriving (Show)
</pre><br/>ないし<br/><pre>
data (Show a) =&gt; Color a where
  Red :: Color
  Green :: Color
  Blue :: Color
  Rgb :: {r ::a, g :: a, b :: a} -&gt; Color
  deriving (Show)
</pre><br/>という制約はどう書いたら良いでしょうか？</div></div><div class="message" id="message-1511086919.000023"><div class="message__timestamp">2017-11-19<br/>19:21:59 +0900</div><div class="message__header">igrep</div><div class="message__body"><pre>
data Color a where
  Red :: Color
  Green :: Color
  Blue :: Color
  Rgb :: (Show a) =&gt; {r ::a, g :: a, b :: a} -&gt; Color
  deriving (Show)
</pre><br/>でどうでしょうか？</div></div><div class="message" id="message-1511087026.000069"><div class="message__timestamp">2017-11-19<br/>19:23:46 +0900</div><div class="message__header">igrep</div><div class="message__body"><a href='https://haskell-jp.slack.com/archives/C5666B6BB/p1507884910000527'>https://haskell-jp.slack.com/archives/C5666B6BB/p1507884910000527</a> でも触れてますね。</div></div><div class="message" id="message-1511087292.000005"><div class="message__timestamp">2017-11-19<br/>19:28:12 +0900</div><div class="message__header">legokichi</div><div class="message__body"><pre>
{-# LANGUAGE GADTs #-}
data Color a where
  Red :: Color
  Green :: Color
  Blue :: Color
  Rgb :: (Show a) =&gt; {r ::a, g :: a, b :: a} -&gt; Color
  deriving (Show)
main = print (Red :: (Color Integer))
</pre><br/>とすると<br/><pre>
prog.hs:3:10: error:
    • Expecting one more argument to ‘Color’
      Expected a type, but ‘Color’ has kind ‘k0 -&gt; *’
    • In the type ‘Color’
      In the definition of data constructor ‘Red’
      In the data declaration for ‘Color’
  |
3 |   Red :: Color
  |          ^^^^^
</pre><br/>となります。注釈はどうつければよいでしょうか？</div></div><div class="message" id="message-1511087350.000002"><div class="message__timestamp">2017-11-19<br/>19:29:10 +0900</div><div class="message__header">igrep</div><div class="message__body">おお、すみません、よく見てませんでした。<br/><br/><pre>
data Color a where
  Red :: Color a
  Green :: Color a
  Blue :: Color a
  Rgb :: (Show a) =&gt; {r ::a, g :: a, b :: a} -&gt; Color a
  deriving (Show)
main = print (Red :: (Color Integer))
</pre><br/>ではないかと。</div></div><div class="message" id="message-1511087615.000039"><div class="message__timestamp">2017-11-19<br/>19:33:35 +0900</div><div class="message__header">legokichi</div><div class="message__body"><pre>

prog.hs:7:13: error:
    • Can't make a derived instance of ‘Show (Color a)’:
        Constructor ‘Rgb’ has constraints in its type
        Possible fix: use a standalone deriving declaration instead
    • In the data declaration for ‘Color’
  |
7 |   deriving (Show)
  |    
</pre><br/><br/>となるので<br/><br/><pre>
{-# LANGUAGE GADTs #-}
data (Show a) =&gt; Color a where
  Red :: Color a
  Green :: Color a
  Blue :: Color a
  Rgb :: {r ::a, g :: a, b :: a} -&gt; Color a
  deriving (Show)
main = print (Red :: (Color Integer))
</pre><br/><br/>相当の書き方が必要になると思います</div></div><div class="message" id="message-1511087740.000084"><div class="message__timestamp">2017-11-19<br/>19:35:40 +0900</div><div class="message__header">legokichi</div><div class="message__body"><pre>
{-# LANGUAGE GADTs #-}
data Color a where
  Red :: (Show a) =&gt; Color a
  Green :: (Show a) =&gt; Color a
  Blue :: (Show a) =&gt; Color a
  Rgb :: (Show a) =&gt; {r ::a, g :: a, b :: a} -&gt; Color a
  deriving (Show)
main = print (Red :: (Color Integer))
</pre><br/>も<br/><pre>
prog.hs:7:13: error:
    • Can't make a derived instance of ‘Show (Color a)’:
        Constructor ‘Red’ has constraints in its type
        Constructor ‘Green’ has constraints in its type
        Constructor ‘Blue’ has constraints in its type
        Constructor ‘Rgb’ has constraints in its type
        Possible fix: use a standalone deriving declaration instead
    • In the data declaration for ‘Color’
  |
7 |   deriving (Show)
  |             ^^^^
</pre><br/>のようになり、導出できないようです</div></div><div class="message" id="message-1511087880.000036"><div class="message__timestamp">2017-11-19<br/>19:38:00 +0900</div><div class="message__header">igrep</div><div class="message__body">自分で <code>Show</code> インスタンスを定義するか、どうしてもやりたければ <a href='https://haskell-jp.slack.com/archives/C5666B6BB/p1507884910000527'>https://haskell-jp.slack.com/archives/C5666B6BB/p1507884910000527</a> でも触れているとおり <code>DatatypeContexts</code> を使えばよいのではないかと。<br/>ちなみに、それなんで必要なんですか？</div></div><div class="message" id="message-1511088001.000060"><div class="message__timestamp">2017-11-19<br/>19:40:01 +0900</div><div class="message__header">legokichi</div><div class="message__body">ふと<br/><pre>
data Color a = Red | Green | Blue | Rgb {r :: a, g :: a, b :: a}　deriving (Show)
</pre><br/>をGADTで書いてみようとしたら思いのほかややこしかったという事象です</div></div><div class="message" id="message-1511089152.000032"><div class="message__timestamp">2017-11-19<br/>19:59:12 +0900</div><div class="message__header">legokichi</div><div class="message__body">上の警告文の通り StandaloneDeriving をつけたらいけました<br/><pre>
{-# LANGUAGE GADTs, StandaloneDeriving #-}

data Color a where
  Red :: (Show a) =&gt; Color a
  Green :: (Show a) =&gt; Color a
  Blue :: (Show a) =&gt; Color a
  Rgb :: (Show a) =&gt; {r ::a, g :: a, b :: a} -&gt; Color a

deriving instance Show (Color a)

main = print (Red :: (Color Integer))
</pre></div></div><div class="message" id="message-1511101388.000013"><div class="message__timestamp">2017-11-19<br/>23:23:08 +0900</div><div class="message__header">krdlab</div><div class="message__body">@krdlab has joined the channel</div></div><div class="message" id="message-1511426979.000124"><div class="message__timestamp">2017-11-23<br/>17:49:39 +0900</div><div class="message__header">not.hot.red.pepper</div><div class="message__body">@not.hot.red.pepper has joined the channel</div></div><div class="message" id="message-1511559653.000095"><div class="message__timestamp">2017-11-25<br/>06:40:53 +0900</div><div class="message__header">memos</div><div class="message__body">@memos has joined the channel</div></div><div class="message" id="message-1511671574.000016"><div class="message__timestamp">2017-11-26<br/>13:46:14 +0900</div><div class="message__header">kk4649</div><div class="message__body">@kk4649 has joined the channel</div></div><div class="message" id="message-1511673295.000018"><div class="message__timestamp">2017-11-26<br/>14:14:55 +0900</div><div class="message__header">becausethespiderspied</div><div class="message__body">@becausethespiderspied has joined the channel</div></div><div class="message" id="message-1511999839.000235"><div class="message__timestamp">2017-11-30<br/>08:57:19 +0900</div><div class="message__header">taketarou2</div><div class="message__body">@taketarou2 has joined the channel</div></div><div class="message" id="message-1512035579.000276"><div class="message__timestamp">2017-11-30<br/>18:52:59 +0900</div><div class="message__header">tomo426.sakura1281m</div><div class="message__body">@tomo426.sakura1281m has joined the channel</div></div><div class="message" id="message-1512041683.000265"><div class="message__timestamp">2017-11-30<br/>20:34:43 +0900</div><div class="message__header">hexirp</div><div class="message__body"><a href='#C4M4TT8JJ'>random</a> で以前から話していた件が実現しました。 <a href='#C85U8HH0V'>github-trends</a> でGitHubのトレンドをslackで購読することが出来るようになりました。</div></div><div class="message" id="message-1512055255.000499"><div class="message__timestamp">2017-12-01<br/>00:20:55 +0900</div><div class="message__header">ah</div><div class="message__body">@ah has joined the channel</div></div><div class="message" id="message-1512056118.000798"><div class="message__timestamp">2017-12-01<br/>00:35:18 +0900</div><div class="message__header">ah</div><div class="message__body">仕事でも趣味でもHaskell書いてます。<br/>Etaという言語を知り、そこから<@U4M4XHKB8> さんのSlideShareに行き着き、Haskell-jpを知りました。<br/>よろしくお願いします。</div></div><div class="message" id="message-1512056182.000311"><div class="message__timestamp">2017-12-01<br/>00:36:22 +0900</div><div class="message__header">ah</div><div class="message__body">Etaの質問を <a href='#C5666B6BB'>questions</a> に投げるのはありですか？</div></div><div class="message" id="message-1512082895.000001"><div class="message__timestamp">2017-12-01<br/>08:01:35 +0900</div><div class="message__header">igrep</div><div class="message__body">実質Haskellなんでありだと思います！<br/>ただ、Etaの場合Eta自身のバグにハマる可能性が高いので、 <a href='https://gitter.im/typelead/eta'>https://gitter.im/typelead/eta</a> で聞かないと分からないものもあるかも知れません。。。</div></div><div class="message" id="message-1512219817.000047"><div class="message__timestamp">2017-12-02<br/>22:03:37 +0900</div><div class="message__header">yoshida</div><div class="message__body">@yoshida has joined the channel</div></div><div class="message" id="message-1512263042.000060"><div class="message__timestamp">2017-12-03<br/>10:04:02 +0900</div><div class="message__header">y_taka_23</div><div class="message__body">名古屋で行われたイベントで、Liquid Haskell の LT をやってきました。もしよかったらご笑覧ください。</div></div><div class="message" id="message-1512263044.000054"><div class="message__timestamp">2017-12-03<br/>10:04:04 +0900</div><div class="message__header">y_taka_23</div><div class="message__body"><a href='https://www.slideshare.net/y_taka_23/liquid-haskell-ngk2017b-83162127'>https://www.slideshare.net/y_taka_23/liquid-haskell-ngk2017b-83162127</a></div></div><div class="message" id="message-1512294025.000059"><div class="message__timestamp">2017-12-03<br/>18:40:25 +0900</div><div class="message__header">jp.takumi.ueda</div><div class="message__body">@jp.takumi.ueda has joined the channel</div></div><div class="message" id="message-1512534643.000109"><div class="message__timestamp">2017-12-06<br/>13:30:43 +0900</div><div class="message__header">dante071dante</div><div class="message__body">@dante071dante has joined the channel</div></div><div class="message" id="message-1512534909.000108"><div class="message__timestamp">2017-12-06<br/>13:35:09 +0900</div><div class="message__header">dante071dante</div><div class="message__body">Hello everyone, nice to talk to you.　どうぞよろしくお願いします。</div></div><div class="message" id="message-1512540624.000088"><div class="message__timestamp">2017-12-06<br/>15:10:24 +0900</div><div class="message__header">igrep</div><div class="message__body">[不定期] またメンバーが増えた &amp; 上に流れてしまったまま忘れてた ので再掲します。<br/><a href='https://haskell-jp.slack.com/archives/C4LFB6DE0/p1500870616095473'>https://haskell-jp.slack.com/archives/C4LFB6DE0/p1500870616095473</a></div></div><div class="message" id="message-1512625329.000179"><div class="message__timestamp">2017-12-07<br/>14:42:09 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">Hello, I started learning Haskell this month. Nice to meet you!</div></div><div class="message" id="message-1512633463.000032"><div class="message__timestamp">2017-12-07<br/>16:57:43 +0900</div><div class="message__header">daniel.friedman</div><div class="message__body">@daniel.friedman has joined the channel</div></div></div><div class="pager"><a href="/" class="pager__top">Top</a><a href="/html/C4LFB6DE0/2.html" class="pager__next">Next</a></div></body></html>