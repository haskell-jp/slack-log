[
    {
        "ts": "1637317607.124900",
        "text": "まだリリースされてないバージョンを依存の上限に指定するの、意味あるのかなあ（と思いながらがっつり削除する PR 作った\n<https://github.com/Deewiant/glob/pull/44>",
        "user": "U4L0B71L1",
        "type": "message"
    },
    {
        "ts": "1637318402.125200",
        "text": "リリースされた瞬間ビルドエラーになるのを防ぐためではなく？",
        "user": "U56L7EVNY",
        "type": "message"
    },
    {
        "ts": "1637318867.128600",
        "text": "Hackageってリビジョン機能があるんで、依存可能バージョンの拡張はbreaking changeではないけど依存可能バージョンの縮小はbreaking changeであると言うことを考慮して先にPVPでbreaking changeが導入されうるmajor versionは念のために排除しておくという慣習だと思っていました",
        "user": "UL1HFJATE",
        "type": "message"
    },
    {
        "ts": "1637318943.129200",
        "text": "が、違うのでしょうか？",
        "user": "UL1HFJATE",
        "type": "message"
    },
    {
        "ts": "1637319634.134900",
        "text": "合っていると思います。\nパッケージPがパッケージAに上限を設定せず依存しているとき、Aに非互換な変更が入ると当然Pは壊れます。P側で修正して新しいリリースをしてもcabalのdependency solverが古いパッケージを選択すれば壊れるので、非互換かつ上限を指定していないすべてのPのバージョンに対して新しいリビジョンでAのバージョンの上限を指定していく必要があります。",
        "user": "U4M9NJ7QE",
        "type": "message"
    },
    {
        "ts": "1637319809.135200",
        "text": "ここら辺が昔、バージョン指定したくないstack陣営と、正確なバージョン指定をしたいcabal陣営で意見が割れていた元凶でもあります",
        "user": "U4M9NJ7QE",
        "type": "message"
    },
    {
        "ts": "1637319870.135400",
        "text": "またhackage trusteesの人たちの仕事の一部でもあります",
        "user": "U4M9NJ7QE",
        "type": "message"
    },
    {
        "ts": "1637358194.135800",
        "text": "&gt; パッケージPがパッケージAに上限を設定せず依存しているとき、Aに非互換な変更が入ると当然Pは壊れます。P側で修正して新しいリリースをしてもcabalのdependency solverが古いパッケージを選択すれば壊れるので、非互換かつ上限を指定していないすべてのPのバージョンに対して新しいリビジョンでAのバージョンの上限を指定していく必要があります。\n&gt; \nなるほど！\na.b.c のバージョンをリリースしたらそれより古い a.b.d のバージョンをメンテナンスする意識がなかったですね\n互換性があるのだから a.b.x の x は最新を使えばいいという認識でした\n自分がバージョン上限を撤廃したい理由としては、ほとんどの PR が上限撤廃の依頼で、手離れが悪いと思ったからですね\n自分がライブラリー使う側だと 上限撤廃依頼への反応の悪いメンテナーにやきもきするというのもあります\n（反応がないときは trustee に依頼すればよい？\nstack 陣営 cabal 陣営で意見の対立があったのですか～",
        "user": "U4L0B71L1",
        "type": "message"
    },
    {
        "ts": "1637380107.139300",
        "text": "Trusteesはビルドが壊れていないかをなんらかの方法で見張っていて、影響が大きくかつメタデータの修正のみで直せるものは適宜リビジョンで対応してくれるという認識です。",
        "user": "U4M9NJ7QE",
        "type": "message"
    },
    {
        "ts": "1638505644.168000",
        "text": "最近この件で気づいたんですけど、依存パッケージの上限をつけないままアップロードしていると、Hackageでドキュメントが生成されない原因になるみたいで悩ましいですね。\n（例えば <https://hackage.haskell.org/package/autodocodec> の<https://hackage.haskell.org/package/autodocodec-0.0.0.0/reports/2|build log>を見るとaeson 2.0に対応できてないために失敗している）\nもういっそCargoやnpmみたいに半自動で上限つけてほしい...（そうするとまた更新が面倒という問題に戻るんでしょうけど...",
        "user": "U4LGTMTMK",
        "type": "message"
    }
]