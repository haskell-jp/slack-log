<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #26</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #26</h1>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/25.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1731761595.699489">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1731761595.699489">2024-11-16 21:53:15 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1731815771.340229">
        <div class="content">
          <div class="summary">
            <div class="user">川頭信之</div>
            <div class="date"><a class="date" href="#message-1731815771.340229">2024-11-17 12:56:11 +0900</a></div>
          </div>
          <div class="description">@川頭信之 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1731998015.450979">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1731998015.450979">2024-11-19 15:33:35 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1732624066.705299">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1732624066.705299">2024-11-26 21:27:46 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1732755444.437759">
        <div class="content">
          <div class="summary">
            <div class="user">T N</div>
            <div class="date"><a class="date" href="#message-1732755444.437759">2024-11-28 09:57:24 +0900</a></div>
          </div>
          <div class="description">@T N has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1733049991.605819">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1733049991.605819">2024-12-01 19:46:31 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1733266926.434859">
        <div class="content">
          <div class="summary">
            <div class="user">たぬきうどん</div>
            <div class="date"><a class="date" href="#message-1733266926.434859">2024-12-04 08:02:06 +0900</a></div>
          </div>
          <div class="description">@たぬきうどん has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1733269639.986039">
        <div class="content">
          <div class="summary">
            <div class="user">たぬきうどん</div>
            <div class="date"><a class="date" href="#message-1733269639.986039">2024-12-04 08:47:19 +0900</a></div>
          </div>
          <div class="description">Array についての質問です。<br/>10×10の行列が与えられ、(1,1)成分から右か下に向かって成分を足しながら進んでいくとき、(i,j)成分へ至る道のうち最も和が小さいものを求めるという問題があります。<br/>この問題に対して以下のようなコードを書きました。<br/><pre>import Data.Array

main :: IO ()
main = do
    let m = listArray ((1,1),(10,10)) [i+j |i&lt;-[1..10], j&lt;-[1..10]]
    print $ minPath m ! (8,8)

minPath :: Array (Int,Int) Int -&gt; Array (Int,Int) Int
minPath mat = listArray ((1,1),(10,10)) $ [ f i j | i&lt;-[1..10], j&lt;-[1..10]]
    where   f 1 1 = mat ! (1,1)
            f 1 j = mat ! (1,j) + minPath mat ! (1,j-1)
            f i 1 = mat ! (i,1) + minPath mat ! (i-1,1)
            f i j = if minPath mat ! (i-1,j) &gt; minPath mat ! (i,j-1) 
                        then minPath mat ! (i,j-1) + mat ! (i,j) 
                        else minPath mat ! (i-1,j) + mat ! (i,j)</pre><br/>これをrunghcで実行すると私の環境 (CPU: Ryzen 5 3600, RAM: 16GB) では40秒程度かかります。<br/>Arrayは要素へのアクセスがO(1)なので、リストのリストよりも要素へのアクセスが速いはずです。<br/>この理解が正しければボトルネックとなっているのは要素へのアクセスではないと思うのですが、それではどこにこんなに時間がかかるのかわかりません。<br/>1. なぜこんなに時間がかかるのでしょうか？ <br/>2. どのように改善すればよいのでしょうか？</div>
          <a class="link-to-replies" href="26/1733269639.986039.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1733898257.805919">
        <div class="content">
          <div class="summary">
            <div class="user">漆崎英一</div>
            <div class="date"><a class="date" href="#message-1733898257.805919">2024-12-11 15:24:17 +0900</a></div>
          </div>
          <div class="description">@漆崎英一 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1735208270.918609">
        <div class="content">
          <div class="summary">
            <div class="user">Masakai</div>
            <div class="date"><a class="date" href="#message-1735208270.918609">2024-12-26 19:17:50 +0900</a></div>
          </div>
          <div class="description">@Masakai has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1735389238.389119">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1735389238.389119">2024-12-28 21:33:58 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1735494641.122519">
        <div class="content">
          <div class="summary">
            <div class="user">maki tsurumaki</div>
            <div class="date"><a class="date" href="#message-1735494641.122519">2024-12-30 02:50:41 +0900</a></div>
          </div>
          <div class="description">@maki tsurumaki has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1735495331.934659">
        <div class="content">
          <div class="summary">
            <div class="user">maki tsurumaki</div>
            <div class="date"><a class="date" href="#message-1735495331.934659">2024-12-30 03:02:11 +0900</a></div>
          </div>
          <div class="description">Haskellのドキュメントは何処にあるんですか？<br/><br/>haskell orgのDocumentationは資料集みたいな感じでしたし…</div>
          <a class="link-to-replies" href="26/1735495331.934659.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1735823522.215499">
        <div class="content">
          <div class="summary">
            <div class="user">小林ほげ</div>
            <div class="date"><a class="date" href="#message-1735823522.215499">2025-01-02 22:12:02 +0900</a></div>
          </div>
          <div class="description">@小林ほげ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1736628723.443679">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1736628723.443679">2025-01-12 05:52:03 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1736644694.763249">
        <div class="content">
          <div class="summary">
            <div class="user">econ econ</div>
            <div class="date"><a class="date" href="#message-1736644694.763249">2025-01-12 10:18:14 +0900</a></div>
          </div>
          <div class="description">@econ econ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1737414484.159419">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1737414484.159419">2025-01-21 08:08:04 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1738055816.754449">
        <div class="content">
          <div class="summary">
            <div class="user">Takashi Suwa</div>
            <div class="date"><a class="date" href="#message-1738055816.754449">2025-01-28 18:16:56 +0900</a></div>
          </div>
          <div class="description">@Takashi Suwa has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1738195211.058939">
        <div class="content">
          <div class="summary">
            <div class="user">Slackbot</div>
            <div class="date"><a class="date" href="#message-1738195211.058939">2025-01-30 09:00:11 +0900</a></div>
          </div>
          <div class="description">Reminder: beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。 Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。  beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。 • それはくだらない質問だ → くだらない質問など無い • その質問は以前にもあった → 質問者はそんなこと知らない • Google検索せよ → 検索できないから質問している  beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。 • <code>:</code> とは何のことですか。 • タプルとは何ですか。 </div>
        </div>
      </div>
      <div class="event" id="message-1738334552.994059">
        <div class="content">
          <div class="summary">
            <div class="user">U08BKNDMKDF</div>
            <div class="date"><a class="date" href="#message-1738334552.994059">2025-01-31 23:42:32 +0900</a></div>
          </div>
          <div class="description">@U08BKNDMKDF has joined the channel</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../../html/CR2TETE5R/25.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
  </div>
</body>
</html>
