<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / random #58</title><link rel="stylesheet" href="../../messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / random #58</h1><div class="pager"><a href="../../html/C4M4TT8JJ/57.html" class="pager__previous">Previous</a><a href="../../" class="pager__top">Top</a><a href="../../html/C4M4TT8JJ/59.html" class="pager__next">Next</a></div><div class="message_list"><div class="message" id="message-1570879223.007700"><div class="message__timestamp">2019-10-12<br/>20:20:23 +0900</div><div class="message__header">wado</div><div class="message__body">ありがとうございます！<br/><br/>これですね:eyes:<br/><a href='https://gitlab.haskell.org/ghc/ghc/merge_requests/1934'>https://gitlab.haskell.org/ghc/ghc/merge_requests/1934</a></div></div><div class="message" id="message-1570879950.008000"><div class="message__timestamp">2019-10-12<br/>20:32:30 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">今月切られる予定の ghc-8.10のbranch には間に合わないので、ghc-8.12 くらいへの反映になります。<br/>それまでの当面は、 <code>~/.ghci</code> に、 <code>:def! k! (\e -&gt; return (":kind! " ++ e))</code> の<br/>ように書くと、 <code>k!</code> のエイリアスを作れます。<br/>（:def については、こちらです。 <a href='https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/ghci.html#ghci-cmd-:def'>https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/ghci.html#ghci-cmd-:def</a> ）</div></div><div class="message" id="message-1570892473.008400"><div class="message__timestamp">2019-10-13<br/>00:01:13 +0900</div><div class="message__header">kakkun61</div><div class="message__body">lts 指定した場合って /root/.stackとかキャッシュした方がいいのかな</div></div><div class="message" id="message-1571060497.009300"><div class="message__timestamp">2019-10-14<br/>22:41:37 +0900</div><div class="message__header">yatiwataru</div><div class="message__body">@yatiwataru has joined the channel</div></div><div class="message" id="message-1571073112.009800"><div class="message__timestamp">2019-10-15<br/>02:11:52 +0900</div><div class="message__header">watosar2113</div><div class="message__body">@watosar2113 has joined the channel</div></div><div class="message" id="message-1571139302.010900"><div class="message__timestamp">2019-10-15<br/>20:35:02 +0900</div><div class="message__header">matsubara0507</div><div class="message__body">Dhall、去年の Haskell Day の紹介から使い始めたんだけど、1年前からすごい変わっててびびった....<br/><a href='https://github.com/dhall-lang/dhall-haskell/blame/master/dhall/CHANGELOG.md'>https://github.com/dhall-lang/dhall-haskell/blame/master/dhall/CHANGELOG.md</a></div></div><div class="message" id="message-1571139349.011500"><div class="message__timestamp">2019-10-15<br/>20:35:49 +0900</div><div class="message__header">matsubara0507</div><div class="message__body">format が変だなって思ったらいつのまにか multiline let がついてるし（1年前）</div></div><div class="message" id="message-1571139585.011700"><div class="message__timestamp">2019-10-15<br/>20:39:45 +0900</div><div class="message__header">syocy</div><div class="message__body">Dhall standard も v10.0 を数え、去年とは別物になっているようですね（最近触ってない）</div></div><div class="message" id="message-1571141434.012300"><div class="message__timestamp">2019-10-15<br/>21:10:34 +0900</div><div class="message__header">matsubara0507</div><div class="message__body">そうなんですよね<br/>hackage での dhall は 1.26 なんですけど</div></div><div class="message" id="message-1571141502.012500"><div class="message__timestamp">2019-10-15<br/>21:11:42 +0900</div><div class="message__header">matsubara0507</div><div class="message__body">1.17 あたりから別に v1.0 に対応して、<br/>1.18 が v2.0、 1.19 が v2.0 という具合に別に言語のバージョンが振られてる</div></div><div class="message" id="message-1571141561.012700"><div class="message__timestamp">2019-10-15<br/>21:12:41 +0900</div><div class="message__header">kameoka.ryota</div><div class="message__body">language standard のバージョンと Haskell implementation のバージョンは別ですね．前者のバージョンアップに対して，後者が追従する形です．</div></div><div class="message" id="message-1571142018.013000"><div class="message__timestamp">2019-10-15<br/>21:20:18 +0900</div><div class="message__header">kakkun61</div><div class="message__body">language standard は言語仕様で Haskell implementation はリファレンス実装みたいな感じなんですかね？（よく分かってない</div></div><div class="message" id="message-1571142383.013200"><div class="message__timestamp">2019-10-15<br/>21:26:23 +0900</div><div class="message__header">kameoka.ryota</div><div class="message__body">以下私の記憶が正しければですが (どこで読んだか忘れた)，Closure とかも実装があって (<https://github.com/f-f/dhall-clj>) これも一級市民 (language standard に対する投票権的なのがある) だった気がします．<br/>Haskell の impl がリファレンス実装というわけではなくて，他の言語の impl と立場としては一緒なはずなんですが，事実上そうなっているという側面はありそうですね．</div></div><div class="message" id="message-1571142444.013500"><div class="message__timestamp">2019-10-15<br/>21:27:24 +0900</div><div class="message__header">kameoka.ryota</div><div class="message__body">出典ありました<br/><a href='https://github.com/dhall-lang/dhall-lang/blob/76494a43c48e6a5c3db6510918d138c27d055835/.github/CONTRIBUTING.md#how-do-changes-get-approved'>https://github.com/dhall-lang/dhall-lang/blob/76494a43c48e6a5c3db6510918d138c27d055835/.github/CONTRIBUTING.md#how-do-changes-get-approved</a></div></div><div class="message" id="message-1571142495.013800"><div class="message__timestamp">2019-10-15<br/>21:28:15 +0900</div><div class="message__header">matsubara0507</div><div class="message__body">へぇ、そういう関係だったんだ</div></div><div class="message" id="message-1571142512.014000"><div class="message__timestamp">2019-10-15<br/>21:28:32 +0900</div><div class="message__header">kameoka.ryota</div><div class="message__body">Haskell の implementation は Gabriel Gonzalez がメンテしてるので，結局一番早いし正確っていうｗ</div></div><div class="message" id="message-1571146221.014500"><div class="message__timestamp">2019-10-15<br/>22:30:21 +0900</div><div class="message__header">igrep</div><div class="message__body">Clojure?</div></div><div class="message" id="message-1571149351.014900"><div class="message__timestamp">2019-10-15<br/>23:22:31 +0900</div><div class="message__header">kameoka.ryota</div><div class="message__body">にわかが露呈してしまった :cold_sweat:</div></div><div class="message" id="message-1571184216.015300"><div class="message__timestamp">2019-10-16<br/>09:03:36 +0900</div><div class="message__header">as_capabl</div><div class="message__body">半年くらい前は、速度がとてもおそい（dhall-cabalの実行が1分くらいかかる）という問題があったんですけど、最近どうなってるんだろう</div></div><div class="message" id="message-1571194221.015700"><div class="message__timestamp">2019-10-16<br/>11:50:21 +0900</div><div class="message__header">developer</div><div class="message__body">@developer has joined the channel</div></div><div class="message" id="message-1571194430.016100"><div class="message__timestamp">2019-10-16<br/>11:53:50 +0900</div><div class="message__header">igrep</div><div class="message__body">:serval: すっごーい！ <a href='https://twitter.com/mr_konn/status/1184138224853114885'>https://twitter.com/mr_konn/status/1184138224853114885</a><br/><a href='https://chrispenner.ca/posts/wc'>https://chrispenner.ca/posts/wc</a></div></div><div class="message" id="message-1571259372.017100"><div class="message__timestamp">2019-10-17<br/>05:56:12 +0900</div><div class="message__header">inzembla</div><div class="message__body">@inzembla has joined the channel</div></div><div class="message" id="message-1571269181.018600"><div class="message__timestamp">2019-10-17<br/>08:39:41 +0900</div><div class="message__header">igrep</div><div class="message__body"><a href='http://hackage.haskell.org/package/ghc-datasize-0.2.2/docs/GHC-DataSize.html'>http://hackage.haskell.org/package/ghc-datasize-0.2.2/docs/GHC-DataSize.html</a><br/>任意の値がヒープを何バイト消費しているかを計算してくれる関数を提供するそうです。 :sugoi:</div></div><div class="message" id="message-1571283653.019200"><div class="message__timestamp">2019-10-17<br/>12:40:53 +0900</div><div class="message__header">kameoka.ryota</div><div class="message__body">実行が遅いの，だいたい <code>dhall freeze</code> してないことが原因な気がします．<br/>(`dhall freeze` しておくとローカルのキャッシュを見に行くはずなので．)</div></div><div class="message" id="message-1571318262.019800"><div class="message__timestamp">2019-10-17<br/>22:17:42 +0900</div><div class="message__header">haryu703</div><div class="message__body">@haryu703 has joined the channel</div></div><div class="message" id="message-1571404278.020300"><div class="message__timestamp">2019-10-18<br/>22:11:18 +0900</div><div class="message__header">momohatt10</div><div class="message__body">@momohatt10 has joined the channel</div></div><div class="message" id="message-1571571555.021300"><div class="message__timestamp">2019-10-20<br/>20:39:15 +0900</div><div class="message__header">yutaro.ngsw</div><div class="message__body">@yutaro.ngsw has joined the channel</div></div><div class="message" id="message-1571638639.022700"><div class="message__timestamp">2019-10-21<br/>15:17:19 +0900</div><div class="message__header">kakkun61</div><div class="message__body">どっちの結果になるかぱっと分からなかったやつ <a href='https://twitter.com/kakkun61/status/1186133897643352064'>https://twitter.com/kakkun61/status/1186133897643352064</a></div></div><div class="message" id="message-1571639428.023400"><div class="message__timestamp">2019-10-21<br/>15:30:28 +0900</div><div class="message__header">igrep</div><div class="message__body"><code>StateT IO</code> の落とし穴ですね... これが意図通りに動かないので <code>ReaderT</code> を使えと <a href='https://www.fpcomplete.com/blog/2017/06/readert-design-pattern'>https://www.fpcomplete.com/blog/2017/06/readert-design-pattern</a> でも書いてるやつだ。</div></div><div class="message" id="message-1571640428.023700"><div class="message__timestamp">2019-10-21<br/>15:47:08 +0900</div><div class="message__header">kakkun61</div><div class="message__body">SQL でいうところの ROLLBACK をしてると思えば自分は納得なので、意図通りじゃないかどうかは微妙ですね</div></div><div class="message" id="message-1571647116.024100"><div class="message__timestamp">2019-10-21<br/>17:38:36 +0900</div><div class="message__header">tempxla.public</div><div class="message__body">@tempxla.public has joined the channel</div></div><div class="message" id="message-1571722780.024800"><div class="message__timestamp">2019-10-22<br/>14:39:40 +0900</div><div class="message__header">fumieval</div><div class="message__body">トランザクショナルな処理を表現するのに中途半端な状態が出来てしまうと困るので、実は大事な性質ですね。lisztのインサート処理も内部で意図的にStateTを使っています</div></div><div class="message" id="message-1571735651.025200"><div class="message__timestamp">2019-10-22<br/>18:14:11 +0900</div><div class="message__header">yoshikit75</div><div class="message__body">@yoshikit75 has joined the channel</div></div><div class="message" id="message-1571797937.026700"><div class="message__timestamp">2019-10-23<br/>11:32:17 +0900</div><div class="message__header">kakkun61</div><div class="message__body">Eta のホームページ（トップページ）見たら猫耳の人載ってるんですね<br/><a href='https://eta-lang.org/'>https://eta-lang.org/</a></div></div><div class="message" id="message-1571830531.027600"><div class="message__timestamp">2019-10-23<br/>20:35:31 +0900</div><div class="message__header">kakkun61</div><div class="message__body">みんなの開発環境が知りたいぞ <a href='https://kakkun61.hatenablog.com/entry/2019/10/23/%E6%9C%80%E8%BF%91%E3%81%AE%E8%87%AA%E5%88%86%E3%81%AE_Haskell_%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%EF%BC%88Windows%EF%BC%89'>https://kakkun61.hatenablog.com/entry/2019/10/23/%E6%9C%80%E8%BF%91%E3%81%AE%E8%87%AA%E5%88%86%E3%81%AE_Haskell_%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%EF%BC%88Windows%EF%BC%89</a></div></div><div class="message" id="message-1571831082.028000"><div class="message__timestamp">2019-10-23<br/>20:44:42 +0900</div><div class="message__header">matsubara0507</div><div class="message__body">- もともと Win で、最近は Mac<br/>- build tool は stack (resolver は lts の最新)<br/>- editor は Atom に IDE-Haskell を雑に使ってるだけ (HIE は使ってない)<br/><br/>ぐらい？開発環境をカスタマイズするのが苦手なので基本いじってない。</div></div><div class="message" id="message-1571831341.028200"><div class="message__timestamp">2019-10-23<br/>20:49:01 +0900</div><div class="message__header">kakkun61</div><div class="message__body">自分もエディターのカスタマイズなんかは最小限に済ましたい<br/>後で分からなくなるから</div></div><div class="message" id="message-1571831625.028400"><div class="message__timestamp">2019-10-23<br/>20:53:45 +0900</div><div class="message__header">a_kirisaki</div><div class="message__body">- Linux<br/>- 実行するアプリはstack（resolverはltsをできるだけ上げていく）、ライブラリはcabal<br/>- SpacemacsのHaskell layerにhie<br/>みたいな感じですかね</div></div><div class="message" id="message-1571838289.029000"><div class="message__timestamp">2019-10-23<br/>22:44:49 +0900</div><div class="message__header">igrep</div><div class="message__body"><blockquote>（ghcup はなんで Haskell 製じゃないんだ？）</blockquote><br/><code>PATH</code> を書き換えたりする必要があるので必然的にシェルに依存せざるを得ないのではないかと。<br/>単にインストールするだけの為にツールを作るのも確かにありですけど。</div></div><div class="message" id="message-1571838804.029200"><div class="message__timestamp">2019-10-23<br/>22:53:24 +0900</div><div class="message__header">igrep</div><div class="message__body">ちなみに私はNeovim + languageclient-neovimを惰性で使ってます。<br/>が、HIEのGHC 8.8向けのビルドスクリプトがまだ提供されてないのでまだかなーと思いながら概ね筋力で書いてます。多分やろうと思えばビルドできるんだろうけどね</div></div><div class="message" id="message-1571839123.029500"><div class="message__timestamp">2019-10-23<br/>22:58:43 +0900</div><div class="message__header">as_capabl</div><div class="message__body">エディタは職場とLinux機でspacemacs、Win機では試しにvscodeですが、spacemacsでいいんじゃないかなって感じです。ide engineは一回セットアップしたけどバージョンアップで壊れて以来直してません</div></div><div class="message" id="message-1571839196.029700"><div class="message__timestamp">2019-10-23<br/>22:59:56 +0900</div><div class="message__header">igrep</div><div class="message__body">ビルド面倒くさくて結局惰性で書いちゃいますよねー</div></div><div class="message" id="message-1571842037.030000"><div class="message__timestamp">2019-10-23<br/>23:47:17 +0900</div><div class="message__header">kakkun61</div><div class="message__body">Spacemacs わりと人気</div></div><div class="message" id="message-1571873432.032200"><div class="message__timestamp">2019-10-24<br/>08:30:32 +0900</div><div class="message__header">hexirp</div><div class="message__body">Windows, Stack (lts-12.26 で固定), vim (フォーマッターなし)<br/><br/>Haskell をあまり使ってないので特殊なケースだと思います</div></div><div class="message" id="message-1571877706.032500"><div class="message__timestamp">2019-10-24<br/>09:41:46 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">OS: Linux<br/>ビルドツール: stack<br/>エディター: vscode<br/>ide: ghcid<br/>HIEは気に入ってたけど、パソコンの問題なのか、プロジェクトがある程度の規模になると壊れるので、使うのやめました。</div></div><div class="message" id="message-1571879809.033000"><div class="message__timestamp">2019-10-24<br/>10:16:49 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">Haskellとは関係ないけど、Slackでもついにダークモードが実装されました。<br/><a href='https://slackhq.com/intl-ja-jp-dark-mode-for-slack-desktop'>https://slackhq.com/intl-ja-jp-dark-mode-for-slack-desktop</a></div></div><div class="message" id="message-1571883251.033700"><div class="message__timestamp">2019-10-24<br/>11:14:11 +0900</div><div class="message__header">kakkun61</div><div class="message__body">HIE 小さいプロジェクトだと動くけど、大きくなるとなぜかあやしくなるんですよね……</div></div><div class="message" id="message-1571888064.034000"><div class="message__timestamp">2019-10-24<br/>12:34:24 +0900</div><div class="message__header">igrep</div><div class="message__body">頑張って改善してはいるらしいっすよ。大きさというよりコードの内容に依存するのかも。<br/>GHC本体のコードだとするとTHとか特殊なことはあまりしてないでしょうし。<br/><a href='https://github.com/haskell/haskell-ide-engine/issues/1357#issuecomment-520127513'>https://github.com/haskell/haskell-ide-engine/issues/1357#issuecomment-520127513</a></div></div><div class="message" id="message-1571897828.035200"><div class="message__timestamp">2019-10-24<br/>15:17:08 +0900</div><div class="message__header">kakkun61</div><div class="message__body">postgresql-pure リリースしました<br/><blockquote><blockquote><blockquote>Hello.</blockquote></blockquote>I published a library “postgresql-pure”, which is a PostgreSQL driver</blockquote>written in pure Haskell, a few days ago.<br/><br/>This library is developed to aim:<br/><br/>- to increase the performance on multi CPU core environments<br/>- to run on multi platform<br/>  - to build it easier especially on Windows to remove the dependency<br/>on libpq, which is made by C<br/>  - there is postgres-wire which is a fast implementation but it<br/>doesn't support Windows<br/><br/>I confirmed that:<br/><br/>- the performance was proportional to the number of cores<br/>- the performance on 12 cores were 28% better than postgres-wire, 300%<br/>better than postgresql-simple<br/><br/>Both test cases are simple constant value queries like “SELECT<br/>2147483647 :: int4, …” to decrease server's load.<br/><br/>I'm writing a report about this development and I will send email again.<br/><br/>Please try this and feel free to report issues.<br/><br/>Best,<br/>Kazuki Okamoto<br/><br/>Hackage: <a href='http://hackage.haskell.org/package/postgresql-pure'>http://hackage.haskell.org/package/postgresql-pure</a><br/>GitHub: <a href='https://github.com/iij-ii/postgresql-pure'>https://github.com/iij-ii/postgresql-pure</a><br/><br/><a href='https://mail.haskell.org/pipermail/haskell-cafe/2019-October/131609.html'>https://mail.haskell.org/pipermail/haskell-cafe/2019-October/131609.html</a></div></div><div class="message" id="message-1571898824.035900"><div class="message__timestamp">2019-10-24<br/>15:33:44 +0900</div><div class="message__header">kakkun61</div><div class="message__body">ちなみに HDBC インタフェースを提供しているので relational-record のバックエンドとして使える<br/><a href='https://github.com/iij-ii/postgresql-pure/blob/master/test-relational-record/Spec.hs'>https://github.com/iij-ii/postgresql-pure/blob/master/test-relational-record/Spec.hs</a></div></div></div><div class="pager"><a href="../../html/C4M4TT8JJ/57.html" class="pager__previous">Previous</a><a href="../../" class="pager__top">Top</a><a href="../../html/C4M4TT8JJ/59.html" class="pager__next">Next</a></div></body></html>