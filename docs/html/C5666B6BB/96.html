<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / questions #96</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / questions #96</h1>
    <div class="ui pagination menu">
      <a href="../../html/C5666B6BB/95.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
      <a href="../../html/C5666B6BB/97.html" class="item">Next</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1615540248.006100">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615540248.006100">2021-03-12 18:10:48 +0900</a></div>
          </div>
          <div class="description">@Kenta Inoue has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1615570535.006300">
        <div class="content">
          <div class="summary">
            <div class="user">sako</div>
            <div class="date"><a class="date" href="#message-1615570535.006300">2021-03-13 02:35:35 +0900</a></div>
          </div>
          <div class="description">@sako has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1615609238.006700">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615609238.006700">2021-03-13 13:20:38 +0900</a></div>
          </div>
          <div class="description">質問はこちらの方が良いでしょうかね？</div>
          <a class="link-to-replies" href="96/1615609238.006700.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1615610001.014200">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615610001.014200">2021-03-13 13:33:21 +0900</a></div>
          </div>
          <div class="description">まず、Haskellというよりももっと一般的な質問なのですが、<br/>webアプリのバックエンドって、フロントから呼び出されるたびに起動して、データベースを読み込んだりするものなのでしょうか？<br/><br/>何がいいたいかというと、バックエンドでフロントから送られてきたデータを使ってリストを作りたいのですが、このリストは毎回データベースに保存しなければならないのか、それともバックエンドのプログラム内に保持しておくことができるのか、という質問です。</div>
          <a class="link-to-replies" href="96/1615610001.014200.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1615610091.015600">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615610091.015600">2021-03-13 13:34:51 +0900</a></div>
          </div>
          <div class="description">しかもHaskellでデータを保持するとはどういうことなのか（参照等価なので）もよく分かっていないです。</div>
          <a class="link-to-replies" href="96/1615610091.015600.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1615610103.016000">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615610103.016000">2021-03-13 13:35:03 +0900</a></div>
          </div>
          <div class="description">すみません、あまりうまく説明できないです...</div>
        </div>
      </div>
      <div class="event" id="message-1615610558.016300">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615610558.016300">2021-03-13 13:42:38 +0900</a></div>
          </div>
          <div class="description">やりたいことは、関数型言語Elmみたいな構造をバックエンドでもやりたくて以下の構造を作ってみたのですが、<br/>'sが状態の型<br/>'iが入力の型<br/>'oが出力の型<br/>で、バックエンドでやりたいのは、<br/>初期状態がinit::'sと<br/>状態state::'sと入力input::'iに対して、次の状態と出力を返す関数update::'s -&gt; 'i -&gt; 's,'oで定義できるのではと考えて、型を実装してみました。<br/><br/>問題はこの構造から具体的にデータベースへアクセスしたりJSONなどに変換したりする実装をどうするかというところで止まっています。</div>
        </div>
      </div>
      <div class="event" id="message-1615610619.017400">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615610619.017400">2021-03-13 13:43:39 +0900</a></div>
          </div>
          <div class="description">ちなみにこのコードは、形式検証をするために定理証明支援系Coqと呼ばれるもので記述したコードをHaskellのコードに変換したものになっています。</div>
          <a class="link-to-replies" href="96/1615610619.017400.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1615612695.020100">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Inoue</div>
            <div class="date"><a class="date" href="#message-1615612695.020100">2021-03-13 14:18:15 +0900</a></div>
          </div>
          <div class="description">理想としては、Architecture型の引数をもらって、それに応じてデータベースのやりとりとJSONの入出力を行ってくれる関数を定義したい感じです。<br/><br/>データベースから's型の変数を作り、入力のJSONを'i型に変換し、updateを施した後、返り値の's型のデータをデータベースに保存し、'o型の返り値をJSONに変換して出力。</div>
          <a class="link-to-replies" href="96/1615612695.020100.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1615735084.022300">
        <div class="content">
          <div class="summary">
            <div class="user">yousuke</div>
            <div class="date"><a class="date" href="#message-1615735084.022300">2021-03-15 00:18:04 +0900</a></div>
          </div>
          <div class="description">@yousuke has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1615862877.000200">
        <div class="content">
          <div class="summary">
            <div class="user">pyar6329</div>
            <div class="date"><a class="date" href="#message-1615862877.000200">2021-03-16 11:47:57 +0900</a></div>
          </div>
          <div class="description">@pyar6329 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1616317363.001400">
        <div class="content">
          <div class="summary">
            <div class="user">matsubara0507</div>
            <div class="date"><a class="date" href="#message-1616317363.001400">2021-03-21 18:02:43 +0900</a></div>
          </div>
          <div class="description">persistent 関連のテストを書いてるんですけど、なんかいい感じに <strike>モック</strike> テスト用データを作ったりできるテストライブラリってあるんですかね？<br/>Ruby (Rails) とかだと <a href='https://github.com/thoughtbot/factory_bot'>factory_bot</a> とかを使うんですけど、パッと探した感じ、そういうの見つかりませんでした。</div>
          <a class="link-to-replies" href="96/1616317363.001400.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1616399255.005500">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1616399255.005500">2021-03-22 16:47:35 +0900</a></div>
          </div>
          <div class="description">CloudWatch logのJSON形式で良い感じにログを出力させるOSSって既にありますか?<br/>[amazonka-cloudwatch-logs: Amazon CloudWatch Logs SDK.](<https://hackage.haskell.org/package/amazonka-cloudwatch-logs>)<br/>は出力するのではなく逆に出力を解析する方みたいで不適に見えます<br/>ちゃんとフォーマットするかはともかく作ること自体は簡単そうですが、車輪の再発明はしたくないなと思ったのです<br/>無いなら作ります</div>
          <a class="link-to-replies" href="96/1616399255.005500.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1616430017.009000">
        <div class="content">
          <div class="summary">
            <div class="user">quarter</div>
            <div class="date"><a class="date" href="#message-1616430017.009000">2021-03-23 01:20:17 +0900</a></div>
          </div>
          <div class="description">@quarter has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1616568538.009300">
        <div class="content">
          <div class="summary">
            <div class="user">Kengo Tachibana</div>
            <div class="date"><a class="date" href="#message-1616568538.009300">2021-03-24 15:48:58 +0900</a></div>
          </div>
          <div class="description">@Kengo Tachibana has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1616580232.009900">
        <div class="content">
          <div class="summary">
            <div class="user">kakkun61</div>
            <div class="date"><a class="date" href="#message-1616580232.009900">2021-03-24 19:03:52 +0900</a></div>
          </div>
          <div class="description">stack における下記のようなものって cabal にありますか？<br/><pre>stack ide targets</pre></div>
        </div>
      </div>
      <div class="event" id="message-1616685563.010700">
        <div class="content">
          <div class="summary">
            <div class="user">wasabi</div>
            <div class="date"><a class="date" href="#message-1616685563.010700">2021-03-26 00:19:23 +0900</a></div>
          </div>
          <div class="description"><code>fused-effects</code>を用いて`callCC`をサポートするEffectを作ろうとしているのですが<br/>実装がうまく行きません. どうすれば実装できるか知りたいです. 質問の詳細はスレッドに<br/>続きます.</div>
          <a class="link-to-replies" href="96/1616685563.010700.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1617033943.018800">
        <div class="content">
          <div class="summary">
            <div class="user">金具</div>
            <div class="date"><a class="date" href="#message-1617033943.018800">2021-03-30 01:05:43 +0900</a></div>
          </div>
          <div class="description">@金具 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1617034812.019000">
        <div class="content">
          <div class="summary">
            <div class="user">さんたむ</div>
            <div class="date"><a class="date" href="#message-1617034812.019000">2021-03-30 01:20:12 +0900</a></div>
          </div>
          <div class="description">@さんたむ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1617262797.019600">
        <div class="content">
          <div class="summary">
            <div class="user">algas</div>
            <div class="date"><a class="date" href="#message-1617262797.019600">2021-04-01 16:39:57 +0900</a></div>
          </div>
          <div class="description">@algas has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1617520312.022700">
        <div class="content">
          <div class="summary">
            <div class="user">ペッパー君</div>
            <div class="date"><a class="date" href="#message-1617520312.022700">2021-04-04 16:11:52 +0900</a></div>
          </div>
          <div class="description">@ペッパー君 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1617945954.030600">
        <div class="content">
          <div class="summary">
            <div class="user">Tomo</div>
            <div class="date"><a class="date" href="#message-1617945954.030600">2021-04-09 14:25:54 +0900</a></div>
          </div>
          <div class="description">@Tomo has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1618213390.030800">
        <div class="content">
          <div class="summary">
            <div class="user">basashi</div>
            <div class="date"><a class="date" href="#message-1618213390.030800">2021-04-12 16:43:10 +0900</a></div>
          </div>
          <div class="description">@basashi has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1618213908.033500">
        <div class="content">
          <div class="summary">
            <div class="user">basashi</div>
            <div class="date"><a class="date" href="#message-1618213908.033500">2021-04-12 16:51:48 +0900</a></div>
          </div>
          <div class="description">はじめまして，本日参加させていただきました．いきなりですが質問失礼します．<br/>こちらと同じ機能をcaseを使って書くことはできるのでしょうか?</div>
          <a class="link-to-replies" href="96/1618213908.033500.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1618213973.033600">
        <div class="content">
          <div class="summary">
            <div class="user">basashi</div>
            <div class="date"><a class="date" href="#message-1618213973.033600">2021-04-12 16:52:53 +0900</a></div>
          </div>
          <div class="description"></div>
        </div>
      </div>
      <div class="event" id="message-1618214773.033800">
        <div class="content">
          <div class="summary">
            <div class="user">basashi</div>
            <div class="date"><a class="date" href="#message-1618214773.033800">2021-04-12 17:06:13 +0900</a></div>
          </div>
          <div class="description">すべて`x`でマッチしてガード式を使うというのは自分で思いつきました</div>
        </div>
      </div>
      <div class="event" id="message-1618242059.036000">
        <div class="content">
          <div class="summary">
            <div class="user">Benjamin Bray</div>
            <div class="date"><a class="date" href="#message-1618242059.036000">2021-04-13 00:40:59 +0900</a></div>
          </div>
          <div class="description">@Benjamin Bray has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1618282578.036300">
        <div class="content">
          <div class="summary">
            <div class="user">Yasutaka Odo</div>
            <div class="date"><a class="date" href="#message-1618282578.036300">2021-04-13 11:56:18 +0900</a></div>
          </div>
          <div class="description">@Yasutaka Odo has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1618539160.036900">
        <div class="content">
          <div class="summary">
            <div class="user">kazu</div>
            <div class="date"><a class="date" href="#message-1618539160.036900">2021-04-16 11:12:40 +0900</a></div>
          </div>
          <div class="description">cabal v1-test で起動されるテストの CWD は、パッケージのトップディレクトリでした。テスト中にファイルパスを書くとき、パッケージのトップディレクトリから相対パスを書けばOKでした。<br/><br/>cabal v2-test で起動されるテストの CWD は、パッケージのトップディレクトリではないようです。ファイルパスは、どうやって書くのが正しいでしょうか？ できれば、v1-test と共存できる方法が知りたいです。</div>
          <a class="link-to-replies" href="96/1618539160.036900.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1618609497.038000">
        <div class="content">
          <div class="summary">
            <div class="user">Shinichi Takano</div>
            <div class="date"><a class="date" href="#message-1618609497.038000">2021-04-17 06:44:57 +0900</a></div>
          </div>
          <div class="description">@Shinichi Takano has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1618637380.047800">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1618637380.047800">2021-04-17 14:29:40 +0900</a></div>
          </div>
          <div class="description">前ここで質問させていただいた、<br/><a href='https://haskell-jp.slack.com/archives/C5666B6BB/p1594261873131500'>https://haskell-jp.slack.com/archives/C5666B6BB/p1594261873131500</a><br/>に関連するのですが、haskellのlayout付きコードをbraces and semicolonsに完全に変換するのって、自分で例のレポートのL関数を(悪名高いparse-error(t)含め)実装するしかないのでしょうか？ ghcの拡張をふんだんに使ったコードを変換するので、あんまり車輪の再発明はしたくなくて…</div>
          <a class="link-to-replies" href="96/1618637380.047800.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1618734832.054000">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1618734832.054000">2021-04-18 17:33:52 +0900</a></div>
          </div>
          <div class="description">ulidというパッケージについてrandom-1.2以降への対応を試みています<br/>（背景: <a href='https://zenn.dev/autotaker/articles/random-1-2-is-awesome'>https://zenn.dev/autotaker/articles/random-1-2-is-awesome</a> ）<br/>どなたか、できればCPP使って1.2より前のバージョンと1.2以後両方の対応をやったことがあれば修正例として参考にさせていただけないでしょうか？</div>
          <a class="link-to-replies" href="96/1618734832.054000.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1618819482.061300">
        <div class="content">
          <div class="summary">
            <div class="user">Kazuhiko Sakaguchi</div>
            <div class="date"><a class="date" href="#message-1618819482.061300">2021-04-19 17:04:42 +0900</a></div>
          </div>
          <div class="description">@Kazuhiko Sakaguchi has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1618901141.068300">
        <div class="content">
          <div class="summary">
            <div class="user">Kazuhiko Sakaguchi</div>
            <div class="date"><a class="date" href="#message-1618901141.068300">2021-04-20 15:45:41 +0900</a></div>
          </div>
          <div class="description">こんにちは。GHC である計算 `act :: IO ()` を走らせたときに、それによってヒープ上に確保されたバイト数の総量（の近似）を知る方法をご存知の方がいたら教えてください。最初 `GHC.Stats` の `allocated_bytes` がそれかなと思っていたのですが、`act` を実行している間に勝手に GC が走らないように `+RTS -T -I0 -A8G -G1 -m1` を渡してみたところ、最初から 8GB の領域が確保された状態になり（従って `allocated_bytes` は 8 * 1024^3 になる？）、その中でどれだけのメモリが実際に使われているかが分かりません。 <https://hackage.haskell.org/package/base-4.15.0.0/docs/GHC-Stats.html></div>
          <a class="link-to-replies" href="96/1618901141.068300.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1618901594.068400">
        <div class="content">
          <div class="summary">
            <div class="user">Hiromi ISHII / mr_konn</div>
            <div class="date"><a class="date" href="#message-1618901594.068400">2021-04-20 15:53:14 +0900</a></div>
          </div>
          <div class="description">関数呼び出しに対してヒープアロケーション量をはかる場合だと、ぼくはよく weigh を使いますね<br/><a href='https://hackage.haskell.org/package/weigh'>https://hackage.haskell.org/package/weigh</a></div>
        </div>
      </div>
      <div class="event" id="message-1619067613.071300">
        <div class="content">
          <div class="summary">
            <div class="user">kazu</div>
            <div class="date"><a class="date" href="#message-1619067613.071300">2021-04-22 14:00:13 +0900</a></div>
          </div>
          <div class="description"><code>bracket</code> の第二引数(資源解放)で STM を利用すると、デッドロックを起こすことがあるのは、よく知られたことですか？</div>
          <a class="link-to-replies" href="96/1619067613.071300.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1619319644.071700">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1619319644.071700">2021-04-25 12:00:44 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1619331178.072300">
        <div class="content">
          <div class="summary">
            <div class="user">hexirp</div>
            <div class="date"><a class="date" href="#message-1619331178.072300">2021-04-25 15:12:58 +0900</a></div>
          </div>
          <div class="description">関数型プログラミング言語を作りたいので、グラフ簡約について勉強したいのですが、何かいい文献はありますか？</div>
          <a class="link-to-replies" href="96/1619331178.072300.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1619348652.074100">
        <div class="content">
          <div class="summary">
            <div class="user">Kenta Arai</div>
            <div class="date"><a class="date" href="#message-1619348652.074100">2021-04-25 20:04:12 +0900</a></div>
          </div>
          <div class="description">@Kenta Arai has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1619350094.074300">
        <div class="content">
          <div class="summary">
            <div class="user">千吉川</div>
            <div class="date"><a class="date" href="#message-1619350094.074300">2021-04-25 20:28:14 +0900</a></div>
          </div>
          <div class="description">@千吉川 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1619698031.076900">
        <div class="content">
          <div class="summary">
            <div class="user">hexirp</div>
            <div class="date"><a class="date" href="#message-1619698031.076900">2021-04-29 21:07:11 +0900</a></div>
          </div>
          <div class="description">simultaneous and mutually recursive definitions ってどう訳すればいいと思います？</div>
          <a class="link-to-replies" href="96/1619698031.076900.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1619747032.077800">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1619747032.077800">2021-04-30 10:43:52 +0900</a></div>
          </div>
          <div class="description">スニペットに張ったようなデータ構造を提供しているライブラリを探しています。<br/>自分で書きたくないのは、drawTreeみたいな関数を再発明したくないためです。<br/>ない場合自前で書きます…</div>
          <a class="link-to-replies" href="96/1619747032.077800.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1619779408.079100">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1619779408.079100">2021-04-30 19:43:28 +0900</a></div>
          </div>
          <div class="description">@ has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1619803634.083600">
        <div class="content">
          <div class="summary">
            <div class="user">tomonaga</div>
            <div class="date"><a class="date" href="#message-1619803634.083600">2021-05-01 02:27:14 +0900</a></div>
          </div>
          <div class="description">@tomonaga has joined the channel</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../../html/C5666B6BB/95.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
      <a href="../../html/C5666B6BB/97.html" class="item">Next</a>
    </div>
  </div>
</body>
</html>
