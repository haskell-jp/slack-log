<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / nix #3</title>
<link rel="stylesheet" href="../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / nix #3</h1>
    <div class="ui pagination menu">
      <a href="../../html/CCYF8H43A/2.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1624289049.004600">
        <div class="content">
          <div class="summary">
            <div class="user">riotintacos</div>
            <div class="date"><a class="date" href="#message-1624289049.004600">2021-06-22 00:24:09 +0900</a></div>
          </div>
          <div class="description">@riotintacos has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1624991448.004900">
        <div class="content">
          <div class="summary">
            <div class="user">kerf_cat</div>
            <div class="date"><a class="date" href="#message-1624991448.004900">2021-06-30 03:30:48 +0900</a></div>
          </div>
          <div class="description">@kerf_cat has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1628067901.000200">
        <div class="content">
          <div class="summary">
            <div class="user">aprilfoolsd1y</div>
            <div class="date"><a class="date" href="#message-1628067901.000200">2021-08-04 18:05:01 +0900</a></div>
          </div>
          <div class="description">@aprilfoolsd1y has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1629432276.001900">
        <div class="content">
          <div class="summary">
            <div class="user">junji.hashimoto</div>
            <div class="date"><a class="date" href="#message-1629432276.001900">2021-08-20 13:04:36 +0900</a></div>
          </div>
          <div class="description"><https://zimbatm.com/NixFlakes/><br/>nix flakesをつかうとキャッシュを置いているところ（substituters）もプロジェクトのファイル(flake.nix)に<br/>おけるのですね。便利ですね。<br/>キャッシュに限らずnixConfigに、いままでユーザー独自の設定（*nix*.confにおいていたもの）にいれていたものも<br/>flake.nixにいれられそうですね。</div>
        </div>
      </div>
      <div class="event" id="message-1629432550.002900">
        <div class="content">
          <div class="summary">
            <div class="user">junji.hashimoto</div>
            <div class="date"><a class="date" href="#message-1629432550.002900">2021-08-20 13:09:10 +0900</a></div>
          </div>
          <div class="description">一番使う用途として多いのは<br/><a href='https://github.com/input-output-hk/haskell.nix'>haskell.nix</a>をつかうときのキャッシュ（<https://hydra.iohk.io>）を追加することですね。<br/><a href='https://github.com/teto/quantum/blob/master/flake.nix#L5-L12'>https://github.com/teto/quantum/blob/master/flake.nix#L5-L12</a></div>
        </div>
      </div>
      <div class="event" id="message-1629432695.004000">
        <div class="content">
          <div class="summary">
            <div class="user">cohei</div>
            <div class="date"><a class="date" href="#message-1629432695.004000">2021-08-20 13:11:35 +0900</a></div>
          </div>
          <div class="description">haskell.nix をちょっと試すときにそれに気づいておお! となりました。flake 最高ですね!</div>
        </div>
      </div>
      <div class="event" id="message-1631438733.000300">
        <div class="content">
          <div class="summary">
            <div class="user">dophis3u05irechitrip</div>
            <div class="date"><a class="date" href="#message-1631438733.000300">2021-09-12 18:25:33 +0900</a></div>
          </div>
          <div class="description">@dophis3u05irechitrip has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1631683136.000500">
        <div class="content">
          <div class="summary">
            <div class="user">moonset20</div>
            <div class="date"><a class="date" href="#message-1631683136.000500">2021-09-15 14:18:56 +0900</a></div>
          </div>
          <div class="description">@moonset20 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1633146532.003400">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1633146532.003400">2021-10-02 12:48:52 +0900</a></div>
          </div>
          <div class="description">こんなcontribution guideを敷いているリポジトリーにPull requestを送ろうとしたんですが、Nixをインストールして <code>nix-shell</code> したところ、多くのパッケージを何時間もかけてコンパイルしようとして結局失敗してしまいました（申し訳なくも失敗の正確な原因はつかめてません）。こういうとき、そもそもこれだけのためにわざわざコンパイルするのが苦痛なんでなんとか省略する方法はないのでしょうか？Cachixというのを使えばいいんですかね？<br/><a href='https://github.com/NorfairKing/sydtest/blob/master/CONTRIBUTING.md'>https://github.com/NorfairKing/sydtest/blob/master/CONTRIBUTING.md</a></div>
          <a class="link-to-replies" href="3/1633146532.003400.html">... Replies ...</a>
        </div>
      </div>
      <div class="event" id="message-1633247938.008300">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1633247938.008300">2021-10-03 16:58:58 +0900</a></div>
          </div>
          <div class="description">本件続報です。cachixをインストールしようとして気づいたのですが、どうも当初からこちらの問題にハマっていたのではないかと思います。<br/><a href='https://discourse.nixos.org/t/nix-build-trying-to-build-basic-tools-for-all-packages-from-scratch/11097/2'>https://discourse.nixos.org/t/nix-build-trying-to-build-basic-tools-for-all-packages-from-scratch/11097/2</a><br/>で、解決策曰くconfiguration.nixの <code>nix.trustedUsers</code> という項目をいじれ、とのことなのですが、 <code>find / -name configuration.nix</code> してみても該当のファイルが見当たりませんでした。どこに置いてあるのでしょうか？</div>
        </div>
      </div>
      <div class="event" id="message-1633260425.009600">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1633260425.009600">2021-10-03 20:27:05 +0900</a></div>
          </div>
          <div class="description">ようやくnix-shellを起動して必要なものをインストールできたのでCONTRIBUTING.md の指示どおりnix-shellで <code>stack test --pedantic</code> したところ、こんなエラーが<br/><pre> &lt;command line&gt;: /nix/store/ikl21vjfq900ccbqg1xasp83kadw6q8y-glibc-2.32-46/lib/libc.so.6: symbol _dl_fatal_printf version GLIBC_PRIVATE not defined in file ld-linux-x86-64.so.2 with link time reference</pre><br/>検索して見つかった <a href='https://stackoverflow.com/questions/49245547/version-glibc-private-not-defined-in-file-ld-linux-x86-64-so-2'>https://stackoverflow.com/questions/49245547/version-glibc-private-not-defined-in-file-ld-linux-x86-64-so-2</a> を読んだところ、元々DebianにインストールされていたglibcとNixが入れたglibcとで競合しているために発生しているようです。<br/>どなたか直し方に心当たりありませんか？</div>
        </div>
      </div>
      <div class="event" id="message-1635403335.000200">
        <div class="content">
          <div class="summary">
            <div class="user">gan13027830</div>
            <div class="date"><a class="date" href="#message-1635403335.000200">2021-10-28 15:42:15 +0900</a></div>
          </div>
          <div class="description">@gan13027830 has joined the channel</div>
        </div>
      </div>
      <div class="event" id="message-1635420702.000400">
        <div class="content">
          <div class="summary">
            <div class="user">addokoda</div>
            <div class="date"><a class="date" href="#message-1635420702.000400">2021-10-28 20:31:42 +0900</a></div>
          </div>
          <div class="description">@addokoda has joined the channel</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../../html/CCYF8H43A/2.html" class="item">Previous</a>
      <a href="../../" class="item">Top</a>
    </div>
  </div>
</body>
</html>
