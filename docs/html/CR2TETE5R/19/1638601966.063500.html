<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #19 at 2021-12-04 16:12:46 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #19 at 2021-12-04 16:12:46 +0900</h1>
    <div class="ui pagination menu">
      <a href="../19.html" class="item">Back to beginners #19</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1638601966.063500">
        <div class="content">
          <div class="summary">
            <div class="user">neverbefore351</div>
            <div class="date"><a class="date" href="#message-1638601966.063500">2021-12-04 16:12:46 +0900</a></div>
          </div>
          <div class="description">はじめまして<br/>1年くらい前にすごいH本を買って読んで辞めてを数回繰り返してたくらいの知識です。<br/>今度こそちゃんと勉強しようとまず環境をそろえているのですが、VSCodeのHaskellの拡張機能がインテリセンスをしてくれないです。。<br/>初歩にすら立っていない質問で恐縮ですが、どなたかご教示いただけますと幸いです。<br/>環境はubuntu18.04のPCにRemote Developerで接続しています。<br/>haskellは良く調べずに初めにapt installで古いhaskellをインストールしてから拡張機能が動かないのでghcupでインストールした次第です。<br/>何卒宜しくお願い致します。</div>
        </div>
      </div>
      <div class="event" id="message-1638686464.064300">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1638686464.064300">2021-12-05 15:41:04 +0900</a></div>
          </div>
          <div class="description">該当のプロジェクト、あるいは.hsファイルがあるディレクトリーで <code>haskell-language-server-wrapper</code> コマンドを実行すると何が出力されますか？</div>
        </div>
      </div>
      <div class="event" id="message-1638697078.064700">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1638697078.064700">2021-12-05 18:37:58 +0900</a></div>
          </div>
          <div class="description">すみません、Remote Developmentということはlanguage serverはUbuntu側にあるんでしたね… であれば、Ubuntu側にsshして適当なディレクトリーに.hsファイルを置いた状態でhaskell-language-server-wrapperを起動してみてください</div>
        </div>
      </div>
      <div class="event" id="message-1638800073.065600">
        <div class="content">
          <div class="summary">
            <div class="user">neverbefore351</div>
            <div class="date"><a class="date" href="#message-1638800073.065600">2021-12-06 23:14:33 +0900</a></div>
          </div>
          <div class="description">返信ありがとうございます！<br/>仰る通りに試してみたところ以下のようなログが出てきました。<br/>見たところhie.yamlというファイルが無いのが問題なのでしょうか？<br/><br/><pre>No 'hie.yaml' found. Try to discover the project type!
Run entered for haskell-language-server-wrapper(haskell-language-server-wrapper) Version 1.5.1.0, Git revision 745ef26f406dbdd5e4a538585f8519af9f1ccb09 (dirty) x86_64 ghc-8.10.7
Current directory: /home/tiger/haskell_sample/hssample
Operating system: linux
Arguments: []
Cradle directory: /home/tiger/haskell_sample/hssample
Cradle type: Default

Tool versions found on the $PATH
cabal:          3.6.2.0
stack:          2.7.3
ghc:            8.10.7


Consulting the cradle to get project GHC version...
Project GHC version: 8.10.7
haskell-language-server exe candidates: ["haskell-language-server-8.10.7","haskell-language-server"]
Launching haskell-language-server exe at:/home/tiger/.ghcup/bin/haskell-language-server-8.10.7
haskell-language-server version: 1.5.1.0 (GHC: 8.10.7) (PATH: /home/tiger/.ghcup/bin/haskell-language-server-8.10.7~1.5.1) (GIT hash: 745ef26f406dbdd5e4a538585f8519af9f1ccb09)
 ghcide setup tester in /home/tiger/haskell_sample/hssample.
Report bugs at <https://github.com/haskell/haskell-language-server/issues>

Step 1/4: Finding files to test in /home/tiger/haskell_sample/hssample
Found 1 files

Step 2/4: Looking for hie.yaml files that control setup
Found 1 cradle
  ()

Step 3/4: Initializing the IDE

Step 4/4: Type checking the files
2021-12-06 23:13:06.649471714 [ThreadId 25] INFO hls:   Consulting the cradle for "a.hs"
2021-12-06 23:13:06.649603345 [ThreadId 25] WARNING hls:        No [cradle](<https://github.com/mpickering/hie-bios#hie-bios>) found for a.hs.
 Proceeding with [implicit cradle](<https://hackage.haskell.org/package/implicit-hie>).
You should ignore this message, unless you see a 'Multi Cradle: No prefixes matched' error.
2021-12-06 23:13:06.731264455 [ThreadId 25] INFO hls:   Using interface files cache dir: /home/tiger/.cache/ghcide/main-da39a3ee5e6b4b0d3255bfef95601890afd80709
2021-12-06 23:13:06.731391738 [ThreadId 25] INFO hls:   Making new HscEnv[main]
2021-12-06 23:13:06.889421658 [ThreadId 46] INFO hls:   File:     /home/tiger/haskell_sample/hssample/a.hs
Hidden:   no
Range:    1:14-1:15
Source:   hlint
Severity: DsInfo
Message:  Redundant $Found:print $ "hello"Why not:print "hello"
2021-12-06 23:13:06.896895315 [ThreadId 44] INFO hls:   finish: User TypeCheck (took 0.16s)
2021-12-06 23:13:06.898135627 [ThreadId 91] INFO hls:   finish: GetHie (took 0.00s)
2021-12-06 23:13:06.898290809 [ThreadId 95] INFO hls:   finish: GenerateCore (took 0.00s)

Completed (1 file worked, 0 files failed)</pre></div>
        </div>
      </div>
      <div class="event" id="message-1638837469.065800">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1638837469.065800">2021-12-07 09:37:49 +0900</a></div>
          </div>
          <div class="description">hie.yamlは必ずしもなくてよいので、この場合の根本的な原因ではないと思います（現に私はhie.yamlを書いたことがありません）。<br/>VS Codeの設定の問題ではないかと思います。</div>
        </div>
      </div>
      <div class="event" id="message-1638890643.066000">
        <div class="content">
          <div class="summary">
            <div class="user">neverbefore351</div>
            <div class="date"><a class="date" href="#message-1638890643.066000">2021-12-08 00:24:03 +0900</a></div>
          </div>
          <div class="description">そうなのですね。ありがとうございます！<br/>先ほどVSCodeを再起動しましたらインテリセンス効くようになりました。<br/>解決した要因が不明瞭であれですが相談に乗って下さり本当にありがとうございました！</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../19.html" class="item">Back to beginners #19</a>
    </div>
  </div>
</body>
</html>
