<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / ghc8x #3</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / ghc8x #3</h1><div class="pager ui pagination menu"><a href="../../html/CE368SB5G/2.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a><a href="../../html/CE368SB5G/4.html" class="pager__next item">Next</a></div><div class="message_list ui feed"><div class="message event" id="message-1544164244.040700"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-07&nbsp;15:30:44 +0900</div></div><div class="message__body description">Windows + stack <code>%USERPROFILE%/AppData/Local/Programs/stack/x86_64-windows/ghc-8.4.4/lib/settings</code></div></div></div><div class="message event" id="message-1544164447.041400"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date">2018-12-07&nbsp;15:34:07 +0900</div></div><div class="message__body description">(PPL、去年は1月22日だった、登録開始 <a href='https://jssst-ppl.org/workshop/2018/'>https://jssst-ppl.org/workshop/2018/</a>)</div></div></div><div class="message event" id="message-1544164454.041600"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-07&nbsp;15:34:14 +0900</div></div><div class="message__body description"><pre>
~/AppData/Local/Programs/stack/x86_64-windows/ghc-8.4.4/mingw/bin15:28$
&gt; ./ld.exe -V
GNU ld (GNU Binutils) 2.29.1
  Supported emulations:
   i386pep
   i386pe
</pre></div></div></div><div class="message event" id="message-1544164488.042200"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-07&nbsp;15:34:48 +0900</div></div><div class="message__body description"><pre>
~/AppData/Local/Programs/stack/x86_64-windows/ghc-8.4.4/mingw/bin15:29$
&gt; ./ld.gold.exe -V
GNU gold (GNU Binutils 2.29.1) 1.14
  Supported targets:
   elf32-iamcu
   elf32-i386
   elf32-i386-freebsd
   ... 以下略 ...
</pre><br/>全部ELFだね。。。 :disappointed:</div></div></div><div class="message event" id="message-1544164872.042600"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date">2018-12-07&nbsp;15:41:12 +0900</div></div><div class="message__body description"><a href='https://kazu-yamamoto.hatenablog.jp/entry/20180306/1520314185'>https://kazu-yamamoto.hatenablog.jp/entry/20180306/1520314185</a></div></div></div><div class="message event" id="message-1544164956.043000"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date">2018-12-07&nbsp;15:42:36 +0900</div></div><div class="message__body description">8.6.3が近そう <a href='https://github.com/ghc/ghc/commit/31cd867e4d37072c3ce1d51efadc94e66ddc1c28'>https://github.com/ghc/ghc/commit/31cd867e4d37072c3ce1d51efadc94e66ddc1c28</a></div></div></div><div class="message event" id="message-1544167945.043600"><div class="content"><div class="summary"><div class="message__header user">kayhide</div><div class="message__timestamp date">2018-12-07&nbsp;16:32:25 +0900</div></div><div class="message__body description"><a href='https://github.com/kayhide/try-ghc86'>https://github.com/kayhide/try-ghc86</a></div></div></div><div class="message event" id="message-1544169243.043900"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-07&nbsp;16:54:03 +0900</div></div><div class="message__body description"><a href='https://qiita.com/waddlaw/items/65b57517f105fcbbe724'>https://qiita.com/waddlaw/items/65b57517f105fcbbe724</a></div></div></div><div class="message event" id="message-1544195755.044500"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-08&nbsp;00:15:55 +0900</div></div><div class="message__body description">今日の MonadPlus IO の話が出たときの Parsec の話。<br/><br/>やはり Parsec の <code>(p &lt;|&gt; q)</code> でも、<br/><code>p</code> が失敗したときに入力を消費していないことが、<br/><code>q</code> を実行する条件。<br/><code>p</code> が失敗したときに入力を消費しているときには、 <code>(p &lt;|&gt; q)</code> が失敗する。<br/>なので、Parsec では effect が中途半端に実行されて実行が続いてしまうことは起こらない。<br/><br/><a href='http://hackage.haskell.org/package/parsec-3.1.13.0/docs/Text-Parsec.html#v:-60--124--62-'>http://hackage.haskell.org/package/parsec-3.1.13.0/docs/Text-Parsec.html#v:-60--124--62-</a><br/><br/>私の記憶違いではなかったらしい。</div></div></div><div class="message event" id="message-1544196313.046600"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-08&nbsp;00:25:13 +0900</div></div><div class="message__body description">なのでどこかで <code>try</code> で捕まえなければ、結果的に全体が失敗する。</div></div></div><div class="message event" id="message-1544196353.047000"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-08&nbsp;00:25:53 +0900</div></div><div class="message__body description">間違えた <a href='https://mail.haskell.org/pipermail/haskell-cafe/2018-August/129829.html'>https://mail.haskell.org/pipermail/haskell-cafe/2018-August/129829.html</a> のようです。<br/>そしてmegaparsecも日比野さんの仰る実装のようです。 :relieved:<br/><a href='http://hackage.haskell.org/package/megaparsec-7.0.4/docs/Text-Megaparsec.html#v:try'>http://hackage.haskell.org/package/megaparsec-7.0.4/docs/Text-Megaparsec.html#v:try</a><br/>よく意味がわかってませんですみませんでした。。。</div></div></div><div class="message event" id="message-1544196653.049500"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-08&nbsp;00:30:53 +0900</div></div><div class="message__body description">バックトラックしたい箇所だけ選んで <code>try</code> を入れることで無駄なバックトラックを減らして効率化する方式なんですね。</div></div></div><div class="message event" id="message-1544196990.049800"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-08&nbsp;00:36:30 +0900</div></div><div class="message__body description">hasmoku でも話題にしたことがあるけど、<br/><pre>
p *&gt; q &lt;|&gt; p *&gt; r === p *&gt; (q &lt;|&gt; r)
</pre><br/>MonadPlus(Alternative) の分配法則が成立しないの、<br/>プログラム書きづらいと思うんですよね。</div></div></div><div class="message event" id="message-1544197124.051100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-08&nbsp;00:38:44 +0900</div></div><div class="message__body description">そこは。。。そんなにAlternativeでのコンビネーターを書くことがないのでやっぱりピンとこないです。。。書いたとしても、特定のインスタンス向けのものしか意識しません。。。 :disappointed:</div></div></div><div class="message event" id="message-1544197387.052400"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-08&nbsp;00:43:07 +0900</div></div><div class="message__body description">むしろ、途中まで effect が実行された方が嬉しい例というのがあれば見てみたい。</div></div></div><div class="message event" id="message-1544404174.053400"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:09:34 +0900</div></div><div class="message__body description">次の勉強会ネタで、fumi くんが「GHC 8.8の機能」と言って、僕が「まだリリースされてないと思うよ」と言ってしまいましたが、よく考えるとリリースされてなくてもいいですね。</div></div></div><div class="message event" id="message-1544405082.053500"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:24:42 +0900</div></div><div class="message__body description">途中で仕様が変わったのかと思い、最初である parsec 2.0 のコードを読んでみましたが、その時点で @khibino さんの説明通りに実装されていることを確認しました。</div></div></div><div class="message event" id="message-1544405154.053700"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:25:54 +0900</div></div><div class="message__body description"><a href='https://web.archive.org/web/20140529211116/http://legacy.cs.uu.nl/daan/download/parsec/parsec.html'>https://web.archive.org/web/20140529211116/http://legacy.cs.uu.nl/daan/download/parsec/parsec.html</a></div></div></div><div class="message event" id="message-1544405167.053900"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:26:07 +0900</div></div><div class="message__body description"><blockquote>For reasons of speed, the (&lt;|&gt;) combinator is predictive; it will only try its second alternative if the first parser hasn't consumed any input. Consider the following example parser:</blockquote></div></div></div><div class="message event" id="message-1544405175.054100"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:26:15 +0900</div></div><div class="message__body description">おお、もっと前からだ。</div></div></div><div class="message event" id="message-1544405396.054300"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:29:56 +0900</div></div><div class="message__body description">wai-app-file-cgi では、たとえば index.html.ja、index.html の優先順位でファイルを返答するときに、両者を読み込むコードは全く独立で、最初がエラーになったら次のアクションに行くという作りになっています。</div></div></div><div class="message event" id="message-1544405448.054500"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-10&nbsp;10:30:48 +0900</div></div><div class="message__body description">IO は Alternative にすべきではないという意見があったので、io-choiceというパッケージを作って使っています。</div></div></div><div class="message event" id="message-1544445688.055200"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-10&nbsp;21:41:28 +0900</div></div><div class="message__body description">遅くなりましたが私の資料も上げておきました。<br/><a href='http://the.igreque.info/slides/2018-12-07-ghc8x.html#(1)'>http://the.igreque.info/slides/2018-12-07-ghc8x.html#(1)</a></div></div></div><div class="message event" id="message-1544491973.056300"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-11&nbsp;10:32:53 +0900</div></div><div class="message__body description">@khibino さんが言うように、GHC 8 以降は IO が Alternative になっていて、実装を読んでみたら io-choice と一緒だった。io-choice は obsoleted でいいかな？</div></div></div><div class="message event" id="message-1544492025.056600"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-11&nbsp;10:33:45 +0900</div></div><div class="message__body description">自分のしか依存がない！ <a href='https://packdeps.haskellers.com/reverse/io-choice'>https://packdeps.haskellers.com/reverse/io-choice</a></div></div></div><div class="message event" id="message-1544511895.057500"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-11&nbsp;16:04:55 +0900</div></div><div class="message__body description">@maoe 高速な pure Haskell integer ライブラリって、どれのことでしょうか？</div></div></div><div class="message event" id="message-1544512076.057600"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-11&nbsp;16:07:56 +0900</div></div><div class="message__body description"><a href='https://github.com/ch1bo/ghc-proposals/blob/patch-1/proposals/0000-integer-openssl.rst'>https://github.com/ch1bo/ghc-proposals/blob/patch-1/proposals/0000-integer-openssl.rst</a> で提案されている integer-opensslのことですね！</div></div></div><div class="message event" id="message-1544513463.058000"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-11&nbsp;16:31:03 +0900</div></div><div class="message__body description">ありがとう！</div></div></div><div class="message event" id="message-1544513678.059100"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date">2018-12-11&nbsp;16:34:38 +0900</div></div><div class="message__body description">補足ですがpure HaskellではなくC bindingです</div></div></div><div class="message event" id="message-1544513750.059300"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2018-12-11&nbsp;16:35:50 +0900</div></div><div class="message__body description">libcryptoというライブラリーを使っているので実際にはPure Haskellではないですが、libgmpのような、ライセンスの都合上での面倒ごとがない、ということでしたよね？</div></div></div><div class="message event" id="message-1544513869.059600"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-11&nbsp;16:37:49 +0900</div></div><div class="message__body description">NamedFieldPuns と RecordWildCards ついて調べました。<br/>NamedFieldPuns は x=x の代わりに x と書ける。<br/>RecordWildCards は、x=x の代わりに .. と書ける。<br/>のようです。<br/>Record{x} は NamedFieldPuns<br/>Record{..} は RecordWildCards<br/>Record{x,..}は、NamedFieldPuns + RecordWildCards<br/>です。<br/><br/>以前は、Record{..}を多用していたのですが、どのフィールドを使っているのかよく分からないから明記しろという指令が下りましたので、Record{x,z} のように書くようになりました。<br/><br/>なので、RecordWildCards が減り NamedFieldPuns が増えました。</div></div></div><div class="message event" id="message-1544513955.059700"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-11&nbsp;16:39:15 +0900</div></div><div class="message__body description">インターンが来たら、libgryptoを参考に、<https://github.com/erikd/haskell-big-integer-experiment/issues/8> を完成させることにします。</div></div></div><div class="message event" id="message-1544525075.060400"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-11&nbsp;19:44:35 +0900</div></div><div class="message__body description"><blockquote>index.html.ja、index.html の優先順位でファイルを返答するときに</blockquote><br/>この例だとファイルの読み込みが<br/>副作用の痕跡を残さないことを<br/>暗黙に期待している例になっていると思うので、<br/>実は effect が途中まで実行されて嬉しい例にはなっていないと思います。</div></div></div><div class="message event" id="message-1544525674.060700"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-11&nbsp;19:54:34 +0900</div></div><div class="message__body description">IO の MonadPlus のインスタンスですが、<br/>マニュアルに書いてある MonadPlus の満たすべき性質の 2つめ<br/><br/><pre>
v &gt;&gt; mzero = mzero
</pre><br/><br/>を満たせていないですね。<br/><br/><a href='http://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:MonadPlus'>http://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Monad.html#t:MonadPlus</a></div></div></div><div class="message event" id="message-1544525688.060900"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-11&nbsp;19:54:48 +0900</div></div><div class="message__body description">これが満たされるときには、<br/>連続実行の後に失敗があれば、<br/>それは何もしなかったのと同じになる。<br/><br/>おそらくこのときには分配法則も成立する。</div></div></div><div class="message event" id="message-1544526484.061100"><div class="content"><div class="summary"><div class="message__header user">khibino</div><div class="message__timestamp date">2018-12-11&nbsp;20:08:04 +0900</div></div><div class="message__body description">Simon さんが STM のプレゼンで、<br/>ミサイル発射しちゃったら巻き戻せない、<br/>みたいな例を挙げていたのを思い出しました。</div></div></div><div class="message event" id="message-1544576128.062700"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-12&nbsp;09:55:28 +0900</div></div><div class="message__body description">ミサイルが発射されないように使えばOK。</div></div></div><div class="message event" id="message-1544585324.064000"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2018-12-12&nbsp;12:28:44 +0900</div></div><div class="message__body description">io-choice をやめて Alternative IO にした mighty を <a href='http://www.mew.org/'>http://www.mew.org/</a> で動かし始めました。<br/>何かおかしければ教えて下さい。<br/>https で話しかけると、TLS 1.3 (hs-tls の master) を喋ります。</div></div></div><div class="message event" id="message-1545102583.065200"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date">2018-12-18&nbsp;12:09:43 +0900</div></div><div class="message__body description">もう10日以上経ったけど、簡単に記事書きました<br/>何か間違ってたら突っ込んでください :bow:<br/><a href='https://matsubara0507.github.io/posts/2018-12-18-ghc8x.html'>https://matsubara0507.github.io/posts/2018-12-18-ghc8x.html</a></div></div></div><div class="message event" id="message-1546581229.000100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date">2019-01-04&nbsp;14:53:49 +0900</div></div><div class="message__body description">FYI. 例のinteger-opensslについての議論によると、libtommathというのも検討しているそうです。<br/><a href='https://www.libtom.net/'>https://www.libtom.net/</a><br/><a href='https://github.com/ghc-proposals/ghc-proposals/pull/183#issuecomment-440629129'>https://github.com/ghc-proposals/ghc-proposals/pull/183#issuecomment-440629129</a></div></div></div><div class="message event" id="message-1547013372.001100"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2019-01-09&nbsp;14:56:12 +0900</div></div><div class="message__body description">well-typed の研修を受けるという話はどうなっているでしょうか？ うちの締めは3月末です。</div></div></div><div class="message event" id="message-1547724317.001400"><div class="content"><div class="summary"><div class="message__header user">kilo7998</div><div class="message__timestamp date">2019-01-17&nbsp;20:25:17 +0900</div></div><div class="message__body description">@kilo7998 has joined the channel</div></div></div><div class="message event" id="message-1548409323.001600"><div class="content"><div class="summary"><div class="message__header user">aiya000</div><div class="message__timestamp date">2019-01-25&nbsp;18:42:03 +0900</div></div><div class="message__body description">@aiya000 has joined the channel</div></div></div><div class="message event" id="message-1548557823.002500"><div class="content"><div class="summary"><div class="message__header user">kayhide</div><div class="message__timestamp date">2019-01-27&nbsp;11:57:03 +0900</div></div><div class="message__body description">@kazu DM を送りましたので、まずはそちらを見ていただけますでしょうか？</div></div></div><div class="message event" id="message-1548676009.003200"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2019-01-28&nbsp;20:46:49 +0900</div></div><div class="message__body description">@kayhide あー、すいません。通知の来ない時間のDMだったようで、まったく気づいていませんでした。</div></div></div><div class="message event" id="message-1548676030.003500"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2019-01-28&nbsp;20:47:10 +0900</div></div><div class="message__body description">今からだと、ちょっと厳しいかもしれません。</div></div></div><div class="message event" id="message-1548676984.005600"><div class="content"><div class="summary"><div class="message__header user">kayhide</div><div class="message__timestamp date">2019-01-28&nbsp;21:03:04 +0900</div></div><div class="message__body description">@kazu 了解です。では、またの機会ですかねー。</div></div></div><div class="message event" id="message-1548678253.006200"><div class="content"><div class="summary"><div class="message__header user">kazu</div><div class="message__timestamp date">2019-01-28&nbsp;21:24:13 +0900</div></div><div class="message__body description">もうしわけありません。</div></div></div><div class="message event" id="message-1548678432.007700"><div class="content"><div class="summary"><div class="message__header user">kayhide</div><div class="message__timestamp date">2019-01-28&nbsp;21:27:12 +0900</div></div><div class="message__body description">来期の予算に期待！:muscle:</div></div></div><div class="message event" id="message-1552142076.000200"><div class="content"><div class="summary"><div class="message__header user">satoshi.murakumo</div><div class="message__timestamp date">2019-03-09&nbsp;23:34:36 +0900</div></div><div class="message__body description">@satoshi.murakumo has joined the channel</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/CE368SB5G/2.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a><a href="../../html/CE368SB5G/4.html" class="pager__next item">Next</a></div></div></body></html>