<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / questions #45</title><link rel="stylesheet" href="/slack-log/messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / questions #45</h1><div class="pager"><a href="/slack-log/html/C5666B6BB/44.html" class="pager__previous">Previous</a><a href="/slack-log/" class="pager__top">Top</a><a href="/slack-log/html/C5666B6BB/46.html" class="pager__next">Next</a></div><div class="message_list"><div class="message" id="message-1550827439.024100"><div class="message__timestamp">2019-02-22<br/>18:23:59 +0900</div><div class="message__header">yethan.goes.asna</div><div class="message__body">お二方とも、ありがとうございます！！修正してみます！</div></div><div class="message" id="message-1550827561.024300"><div class="message__timestamp">2019-02-22<br/>18:26:01 +0900</div><div class="message__header">yethan.goes.asna</div><div class="message__body">部分関数という概念を初めて知ったんですが、「定義されていないパターンマッチが残る関数」って解釈であってますか？</div></div><div class="message" id="message-1550828758.024500"><div class="message__timestamp">2019-02-22<br/>18:45:58 +0900</div><div class="message__header">koyama</div><div class="message__body">パターンマッチに限った話ではなく、全域で定義されていない関数のことを言うと思います。例えば除算も実は部分関数ですね（0で割る場合に定義されない）</div></div><div class="message" id="message-1550835086.025100"><div class="message__timestamp">2019-02-22<br/>20:31:26 +0900</div><div class="message__header">yethan.goes.asna</div><div class="message__body">なるほど！理解しました！</div></div><div class="message" id="message-1550849389.025400"><div class="message__timestamp">2019-02-23<br/>00:29:49 +0900</div><div class="message__header">nobsun</div><div class="message__body">純粋な計算は値を求める(だけ)というのに対し，effectもside-effectもそれとは違うという感覚では同じなのですが，effectとside-effectとでは，観点が少々違うという印象です．effectは，計算の環境というか文脈を差し替えるような計算．side-effectは従来の命令的プログラミングにおいては参照透明性のない記述が必要になるような計算という印象です．</div></div><div class="message" id="message-1550850512.025600"><div class="message__timestamp">2019-02-23<br/>00:48:32 +0900</div><div class="message__header">nobsun</div><div class="message__body">呼ばれたような気がする．<br/>:relaxed:<br/>Haskell Sudoku でググルと沢山でてきますよ．ついでにステマ(死語?)<br/><a href='https://amzn.to/2Tg4DcO'>https://amzn.to/2Tg4DcO</a></div></div><div class="message" id="message-1550878170.025900"><div class="message__timestamp">2019-02-23<br/>08:29:30 +0900</div><div class="message__header">kazu</div><div class="message__body">純粋関数が言語で、命令言語でいう side-effect をどう扱うかという課題に対し、monad による progiramming with effect が考え出されたという説明になっています。</div></div><div class="message" id="message-1550878259.026100"><div class="message__timestamp">2019-02-23<br/>08:30:59 +0900</div><div class="message__header">kazu</div><div class="message__body">なので、この文脈では、side effect の一般化が effect ではないかと。effect だと、IO もその振る舞いを狙ってやってるんだみたいなニュアンスが出てるのかも。</div></div><div class="message" id="message-1550880281.026600"><div class="message__timestamp">2019-02-23<br/>09:04:41 +0900</div><div class="message__header">kazu</div><div class="message__body">Hutton本第二版の謝辞に<br/>Tomoyas Kobayashi<br/>さんという名前があります。<br/>"u"が抜けているのではないかとか、漢字に直すべきですか、とか質問したいのですが、Huttonさんに教えていただいたメールアドレスは user unknown になってしまいました。<br/>この方をご存知の人はいませんか？</div></div><div class="message" id="message-1550884240.026700"><div class="message__timestamp">2019-02-23<br/>10:10:40 +0900</div><div class="message__header">notogawa</div><div class="message__body">同一人物かはわかりませんが Scala mailing list archive にその表記のまま投稿している方がいるので，<br/><a href='http://www.scala-archive.org/template/NamlServlet.jtp?macro=user_nodes&amp;user=15217'>http://www.scala-archive.org/template/NamlServlet.jtp?macro=user_nodes&amp;user=15217</a><br/>Scala界隈にも聞いてみたほうがいいかもしれませんね．<br/>ただ 2008 年以降の投稿は見付からないので，つながらないかも．</div></div><div class="message" id="message-1550893443.029600"><div class="message__timestamp">2019-02-23<br/>12:44:03 +0900</div><div class="message__header">yharuhi39</div><div class="message__body">申し訳ない、Hutton本というのを読んだことがないので軽く調べた限りでは、 @huskellhutt というハンドルの方がツイッターに居るのですが、おそらくその方と同一なのではないかなと。</div></div><div class="message" id="message-1550893923.029800"><div class="message__timestamp">2019-02-23<br/>12:52:03 +0900</div><div class="message__header">notogawa</div><div class="message__body">それは「Hutton氏が自身の別名義であるTomoyas Kobayashiを謝辞に並べた」「Hutton氏がkazuさんに自身の別名義のしかも無効なメアドを教えた」ってことになるんですが何か元の質問を誤解してませんか？</div></div><div class="message" id="message-1550893971.030000"><div class="message__timestamp">2019-02-23<br/>12:52:51 +0900</div><div class="message__header">kazu</div><div class="message__body">haskellhuttさんは、著者のHuttonさんのようですね。</div></div><div class="message" id="message-1550897491.033400"><div class="message__timestamp">2019-02-23<br/>13:51:31 +0900</div><div class="message__header">yharuhi39</div><div class="message__body">この質問の私の理解は、 Hutton本の著者になんとかして連絡したい、連絡先が分かる方はいるか。 ですが。 何か問題ありました？</div></div><div class="message" id="message-1550898419.033600"><div class="message__timestamp">2019-02-23<br/>14:06:59 +0900</div><div class="message__header">notogawa</div><div class="message__body">その解釈だと，メールアドレスを教えて頂いたこともあるHuttonさん=kazuさんにとって既知の人物，を対象として「この方をご存知」かと問うていることになるので，おかしいと思います．<br/>この質問文面でkazuさんが「この方をご存知」か問うに値する対象はTomoyas Kobayashiさんのほうであり，質問は<br/><br/>Hutton本第二版の謝辞に<br/>Tomoyas Kobayashi<br/>さんという名前があります。<br/>"u"が抜けているのではないかとか、漢字に直すべきですか、とか(Tomoyas Kobayashi当人に)質問したいのですが、Huttonさんに教えていただいた(Tomoyas Kobayashiの)メールアドレスは user unknown になってしまいました。<br/>この方(=Tomoyas Kobayashi)をご存知の人はいませんか？<br/><br/>だと読み取ってるんですが，実際どちらが質問の意図なんでしょう？</div></div><div class="message" id="message-1550898973.033800"><div class="message__timestamp">2019-02-23<br/>14:16:13 +0900</div><div class="message__header">notogawa</div><div class="message__body">私は参加したことなくて，これだけの情報から推して知るのも私にはちょっと難しいので参加したことある人に純粋に質問なんですが，どんなコミュニティなんでしょう？</div></div><div class="message" id="message-1550899124.033900"><div class="message__timestamp">2019-02-23<br/>14:18:44 +0900</div><div class="message__header">igrep</div><div class="message__body">わいわいしゃべりながらめいめいがめいめいの作業をやってる感じです。Haskell-jpもくもく会よりもしゃべる比率がかなり高めでしたね。<br/>あと、Meetupで英語で募集していることもあってか、外国の方が大半を占めることが多いです。</div></div><div class="message" id="message-1550899921.034200"><div class="message__timestamp">2019-02-23<br/>14:32:01 +0900</div><div class="message__header">fumieval</div><div class="message__body">当てこすりのつもりではないですが、実際にHaskellを使うこととはあまり関係のないおしゃべりの割合が多い(私に言わせれば、"なんか違う")印象を受けました。オーガナイザのYasuaki KudoさんがHaskellを使っているところも一度も見たことがないです</div></div><div class="message" id="message-1550901993.034500"><div class="message__timestamp">2019-02-23<br/>15:06:33 +0900</div><div class="message__header">kazu</div><div class="message__body">notogawa さんの解釈であってますよ。</div></div><div class="message" id="message-1550903335.035700"><div class="message__timestamp">2019-02-23<br/>15:28:55 +0900</div><div class="message__header">1to100pen</div><div class="message__body">notogawaさんの情報を見て「Tomoyasu Kobayashi scala」でググったら「Programming in Scala」の謝辞に「Tomoyasu Kobayashi」という方が載っていました。この本は 2011年ですか。</div></div><div class="message" id="message-1551059253.036400"><div class="message__timestamp">2019-02-25<br/>10:47:33 +0900</div><div class="message__header">kazu</div><div class="message__body">土日はバタバタしていてお返事が遅くなりましたが、ありがとうございました。<br/>Scalaコミュニティにはコネがないので、Twitterで聞いてみます。</div></div><div class="message" id="message-1551072487.037700"><div class="message__timestamp">2019-02-25<br/>14:28:07 +0900</div><div class="message__header">kazu</div><div class="message__body">構成子が一つの data が、newtype のようにオーバーヘッドなしでは扱われない理由って、何かありますか？</div></div><div class="message" id="message-1551072779.037900"><div class="message__timestamp">2019-02-25<br/>14:32:59 +0900</div><div class="message__header">kazu</div><div class="message__body">補足：格納する型も1つの場合です。newtype として扱えるのに、なぜそういう最適化がなされないのか知りたいです。</div></div><div class="message" id="message-1551073400.038100"><div class="message__timestamp">2019-02-25<br/>14:43:20 +0900</div><div class="message__header">kakkun61</div><div class="message__body">WHNF に違いがあったような<br/>StrictData なら newtype に変えても意味変わらないかもですね</div></div><div class="message" id="message-1551073702.038300"><div class="message__timestamp">2019-02-25<br/>14:48:22 +0900</div><div class="message__header">kakkun61</div><div class="message__body">bang 付きとも違うようでした<br/><a href='https://haskell.e-bigmoon.com/posts/2018/06-25-all-about-strictness#newtype-%E3%81%AE%E8%88%88%E5%91%B3%E6%B7%B1%E3%81%84%E3%82%B1%E3%83%BC%E3%82%B9'>https://haskell.e-bigmoon.com/posts/2018/06-25-all-about-strictness#newtype-%E3%81%AE%E8%88%88%E5%91%B3%E6%B7%B1%E3%81%84%E3%82%B1%E3%83%BC%E3%82%B9</a></div></div><div class="message" id="message-1551073985.038600"><div class="message__timestamp">2019-02-25<br/>14:53:05 +0900</div><div class="message__header">kazu</div><div class="message__body">挙動が変わるので、最適化できないんですね。</div></div><div class="message" id="message-1551077805.038900"><div class="message__timestamp">2019-02-25<br/>15:56:45 +0900</div><div class="message__header">thibodeau9</div><div class="message__body">@thibodeau9 has joined the channel</div></div><div class="message" id="message-1551079956.040200"><div class="message__timestamp">2019-02-25<br/>16:32:36 +0900</div><div class="message__header">igrep</div><div class="message__body">皆さんの中で、CRLFでHaskellのソースを書くよ、という方はいらっしゃいますか？いたら :heavy_check_mark: のemoji reactionかこのスレッドに返事をください（押しやすいように私があらかじめ追加しておきます）。<br/>Windowsでエディターの設定を特に変えずに書いている場合も該当する可能性があります。</div></div><div class="message" id="message-1551085999.041000"><div class="message__timestamp">2019-02-25<br/>18:13:19 +0900</div><div class="message__header">as_capabl</div><div class="message__body">途中で気付いて、後で一括変換しようと思いながら、今もそのままになってるやつがあります……</div></div><div class="message" id="message-1551086245.041300"><div class="message__timestamp">2019-02-25<br/>18:17:25 +0900</div><div class="message__header">igrep</div><div class="message__body">日常的にCRLFで書くことを想定してましたが、それはありそうですね。。。<br/>実は本件を聞こうと思ったきっかけが、hsimportというツールを使ってみたら処理したファイルがすべてCRLFになってしまってどうしたもんかと思ったことだったんで、気づかなかったらそのまま私もCRLFでコミットしていたかも... :disappointed_relieved:</div></div><div class="message" id="message-1551087467.043600"><div class="message__timestamp">2019-02-25<br/>18:37:47 +0900</div><div class="message__header">yharuhi39</div><div class="message__body">git関連なら core.autocrlfをinputにしとけば勝手にCRLFはLFに変換されるので(LFで開発してるなら) 便利ですよ。</div></div><div class="message" id="message-1551087733.044000"><div class="message__timestamp">2019-02-25<br/>18:42:13 +0900</div><div class="message__header">igrep</div><div class="message__body">「それぐらいエディタの設定でやるわい！」という思いとその手の自動変換への恐怖で避けてましたが、この際それは一案ですね... :thinking_face:</div></div><div class="message" id="message-1551104395.044600"><div class="message__timestamp">2019-02-25<br/>23:19:55 +0900</div><div class="message__header">98p43aecscew</div><div class="message__body">@98p43aecscew has joined the channel</div></div><div class="message" id="message-1551105448.048100"><div class="message__timestamp">2019-02-25<br/>23:37:28 +0900</div><div class="message__header">98p43aecscew</div><div class="message__body">Haskell入門 (本間、類地、逢坂)を読んでおります。p224において、<br/>class Triple a where<br/>    triple :: a -&gt; a<br/>instance Triple String where<br/>    triple s = s ++ s ++ s<br/> と定義されておりますが、どうやらinstanceではStringはそのままでは定義できないようです。代替として、instanceにおいてStringを入れる方法は存在するのでしょうか。</div></div><div class="message" id="message-1551105833.048200"><div class="message__timestamp">2019-02-25<br/>23:43:53 +0900</div><div class="message__header">a_kirisaki</div><div class="message__body"><code>String</code>を <code>newtype</code>で包んであげるか、 <code>TypeSynonymInstances</code>のGHC拡張を入れてあげると行けると思います</div></div><div class="message" id="message-1551105873.048500"><div class="message__timestamp">2019-02-25<br/>23:44:33 +0900</div><div class="message__header">a_kirisaki</div><div class="message__body">参考 <a href='https://qiita.com/7shi/items/17a1567a635af17fc83f#%E5%9E%8B%E3%82%AF%E3%83%A9%E3%82%B9'>https://qiita.com/7shi/items/17a1567a635af17fc83f#%E5%9E%8B%E3%82%AF%E3%83%A9%E3%82%B9</a></div></div><div class="message" id="message-1551108768.048800"><div class="message__timestamp">2019-02-26<br/>00:32:48 +0900</div><div class="message__header">98p43aecscew</div><div class="message__body">どうもありがとうございます。newtypeで出来ました。言語拡張の方法も後に試してみようと思います。</div></div><div class="message" id="message-1551110263.049200"><div class="message__timestamp">2019-02-26<br/>00:57:43 +0900</div><div class="message__header">e145702</div><div class="message__body">@e145702 has joined the channel</div></div><div class="message" id="message-1551137334.049800"><div class="message__timestamp">2019-02-26<br/>08:28:54 +0900</div><div class="message__header">igrep</div><div class="message__body">正誤表にもありました！<br/><a href='https://gihyo.jp/book/2017/978-4-7741-9237-6/support'>https://gihyo.jp/book/2017/978-4-7741-9237-6/support</a><br/><br/><blockquote>P.224　下部のリスト<br/>コードの一番上に{-# LANGUAGE FlexibleInstances #-}を追加します。</blockquote></div></div><div class="message" id="message-1551158489.050400"><div class="message__timestamp">2019-02-26<br/>14:21:29 +0900</div><div class="message__header">hirata.kei</div><div class="message__body">@hirata.kei has joined the channel</div></div><div class="message" id="message-1551223425.051000"><div class="message__timestamp">2019-02-27<br/>08:23:45 +0900</div><div class="message__header">ryouheing</div><div class="message__body">@ryouheing has joined the channel</div></div><div class="message" id="message-1551244900.051800"><div class="message__timestamp">2019-02-27<br/>14:21:40 +0900</div><div class="message__header">karoyakani</div><div class="message__body">WSL Ubuntu 18.04 から Visual Studio Code を立ち上げると Editor の default EOL は auto ですから　ほとんどの directories で CRLF になります</div></div><div class="message" id="message-1551248189.052100"><div class="message__timestamp">2019-02-27<br/>15:16:29 +0900</div><div class="message__header">igrep</div><div class="message__body">それは、さすがに既存のLFなファイルを開いた場合はLFのままですよね？</div></div><div class="message" id="message-1551257355.052600"><div class="message__timestamp">2019-02-27<br/>17:49:15 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">ふと思ったんですけど、型クラスReadってどれくらい優秀なんですか？<br/>read . show == id<br/>が成り立つデータ型なら、それがどれだけ複雑になったとしてもRead可能なのかなーと気になりました。</div></div><div class="message" id="message-1551257401.052800"><div class="message__timestamp">2019-02-27<br/>17:50:01 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">逆に<br/>read . show == id<br/>であってもreadできないものってありますか。</div></div><div class="message" id="message-1551258522.053200"><div class="message__timestamp">2019-02-27<br/>18:08:42 +0900</div><div class="message__header">koyama</div><div class="message__body">標準の Read クラスの場合、 readsPrec の設計思想の範囲でまともなパーザが書けるか？という話になるかと思いますが、たぶん（性能を気にしなければ）ひたすら分岐してやり直す形のパーザならば書けそうだと思います。ただしデータ構造の複雑度のべき乗で遅くなりそうな気はするので、それを「Read 可能」と言っていいかどうか…<br/>で、それだと効率がわるいということで ghc の Read クラスは拡張されてるみたいですね（今調べて知ったのですが^^;）。 <a href='http://hackage.haskell.org/package/base-4.12.0.0/docs/src/GHC.Read.html'>http://hackage.haskell.org/package/base-4.12.0.0/docs/src/GHC.Read.html</a></div></div><div class="message" id="message-1551258856.053500"><div class="message__timestamp">2019-02-27<br/>18:14:16 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">おおう、ありがとうございます。このモジュールに書いてあるコメントを読んでみます。</div></div><div class="message" id="message-1551259811.054300"><div class="message__timestamp">2019-02-27<br/>18:30:11 +0900</div><div class="message__header">hiroto.shioi</div><div class="message__body">気になった理由としては、Readには地雷があって、いずれ踏み抜くんじゃないかとふと思ったからです。</div></div><div class="message" id="message-1551260063.054400"><div class="message__timestamp">2019-02-27<br/>18:34:23 +0900</div><div class="message__header">kakkun61</div><div class="message__body">速さを気にするなら、遅いのでデバッグ用途や書き捨てぐらいの気持ちで使った方がいい気はします</div></div><div class="message" id="message-1551278041.055000"><div class="message__timestamp">2019-02-27<br/>23:34:01 +0900</div><div class="message__header">nobsun</div><div class="message__body">Text.ParserCombinators.ReadP モジュールに気がるに使えるParserコンビネータがあります．これを使って，ReadP a 型のパーザを構成して，readP_to_S :: ReadP a -&gt; ReadS a を使って，ReadクラスのreadsPrecを定義するというのを良くやります．</div></div></div><div class="pager"><a href="/slack-log/html/C5666B6BB/44.html" class="pager__previous">Previous</a><a href="/slack-log/" class="pager__top">Top</a><a href="/slack-log/html/C5666B6BB/46.html" class="pager__next">Next</a></div></body></html>