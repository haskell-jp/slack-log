<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / questions #83</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / questions #83</h1><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/82.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div><div class="message_list ui feed"><div class="message event" id="message-1586700134.057600"><div class="content"><div class="summary"><div class="message__header user">dex10619</div><div class="message__timestamp date"><a class="date" href="#message-1586700134.057600">2020-04-12&nbsp;23:02:14 +0900</a></div></div><div class="message__body description">@dex10619 has joined the channel</div></div></div><div class="message event" id="message-1586706646.058000"><div class="content"><div class="summary"><div class="message__header user">akkey52417</div><div class="message__timestamp date"><a class="date" href="#message-1586706646.058000">2020-04-13&nbsp;00:50:46 +0900</a></div></div><div class="message__body description">@akkey52417 has joined the channel</div></div></div><div class="message event" id="message-1586736589.058200"><div class="content"><div class="summary"><div class="message__header user">tamba8525</div><div class="message__timestamp date"><a class="date" href="#message-1586736589.058200">2020-04-13&nbsp;09:09:49 +0900</a></div></div><div class="message__body description">@tamba8525 has joined the channel</div></div></div><div class="message event" id="message-1586777580.058600"><div class="content"><div class="summary"><div class="message__header user">ncaq</div><div class="message__timestamp date"><a class="date" href="#message-1586777580.058600">2020-04-13&nbsp;20:33:00 +0900</a></div></div><div class="message__body description">[yesodweb/serversession: Secure, modular server-side sessions.](<https://github.com/yesodweb/serversession>)<br/>が少し新しいLTSだとpersistentの破壊的変更でビルドできなくなってるのを直してるんですが,<br/>もうこれは古いぞみたいなことになってたりしますかね…?<br/>それはそうとしてacid-stateがバージョン1を出してくれてないので破壊的変更が何処にあるのかわからなくて非常につらい</div></div></div><div class="message event" id="message-1586789762.058900"><div class="content"><div class="summary"><div class="message__header user">ncaq</div><div class="message__timestamp date"><a class="date" href="#message-1586789762.058900">2020-04-13&nbsp;23:56:02 +0900</a></div></div><div class="message__body description">とりあえずテストは通しました<br/>[updated: lts to 15 by ncaq · Pull Request #23 · yesodweb/serversession](<https://github.com/yesodweb/serversession/pull/23>)</div></div></div><div class="message event" id="message-1586865602.059400"><div class="content"><div class="summary"><div class="message__header user">soumunote</div><div class="message__timestamp date"><a class="date" href="#message-1586865602.059400">2020-04-14&nbsp;21:00:02 +0900</a></div></div><div class="message__body description">@soumunote has joined the channel</div></div></div><div class="message event" id="message-1586869427.059600"><div class="content"><div class="summary"><div class="message__header user">kakkun61</div><div class="message__timestamp date"><a class="date" href="#message-1586869427.059600">2020-04-14&nbsp;22:03:47 +0900</a></div></div><div class="message__body description">Hackage は semantic versioning じゃなくて PVP なので（メンテナーがちゃんとしたがってるなら）0.x.y でも x が上がれば破壊的変更があるはずですが、メンテナーしだいですね……</div></div></div><div class="message event" id="message-1586945621.059900"><div class="content"><div class="summary"><div class="message__header user">nagata.hbdc</div><div class="message__timestamp date"><a class="date" href="#message-1586945621.059900">2020-04-15&nbsp;19:13:41 +0900</a></div></div><div class="message__body description">@nagata.hbdc has joined the channel</div></div></div><div class="message event" id="message-1586949831.062200"><div class="content"><div class="summary"><div class="message__header user">brackss1</div><div class="message__timestamp date"><a class="date" href="#message-1586949831.062200">2020-04-15&nbsp;20:23:51 +0900</a></div></div><div class="message__body description"><pre>data Term = V Char
            | Abs (Term, Term)
            | App (Term, Term)
--replaceは
replace :: Term -&gt; Term -&gt; Term -&gt; Term 
replace (V x) s r =
    case r of 
            (V y) -&gt; if x == y then s else (V y)
            Abs((V y), t) -&gt; 
                Abs(V y, (replace (V x) s t))
            App(Abs(V y,t),u) -&gt; 
                App(Abs((V y),(replace (V x) s t)), replace (V x) s u)</pre><br/>このようなコードを書いたのですがreplace((V x) s t)のところでParse errorが出てしまいます。なぜこのようなエラーが出てしまうのかわかりません。よろしくお願いします。</div></div></div><div class="message event" id="message-1586950244.062300"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1586950244.062300">2020-04-15&nbsp;20:30:44 +0900</a></div></div><div class="message__body description">挙げていただいた部分をコピペしただけだと問題のエラーは再現できませんね...<br/>これより前の箇所でカッコの対応がとれてないとか、別の箇所で問題が起きているのかも知れません。</div></div></div><div class="message event" id="message-1587002915.062500"><div class="content"><div class="summary"><div class="message__header user">brackss1</div><div class="message__timestamp date"><a class="date" href="#message-1587002915.062500">2020-04-16&nbsp;11:08:35 +0900</a></div></div><div class="message__body description">もとのコードに戻って再度コンパイルしたところなぜかエラーは出ませんでした。こちらに質問させていただく前にTerm型の値コンストラクタの名前を短いものに変えただけなのですが…。</div></div></div><div class="message event" id="message-1587003334.062800"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1587003334.062800">2020-04-16&nbsp;11:15:34 +0900</a></div></div><div class="message__body description">:confused: なるほど。。。間違えて古いコードをコンパイルしようとしてしまっていたとか、その辺のありがちなミスかも知れませんね。。。 :disappointed:</div></div></div><div class="message event" id="message-1587004972.063000"><div class="content"><div class="summary"><div class="message__header user">brackss1</div><div class="message__timestamp date"><a class="date" href="#message-1587004972.063000">2020-04-16&nbsp;11:42:52 +0900</a></div></div><div class="message__body description">それかもしれないです。今名前を元に戻してもコンパイルはうまく行ったので。答えていただきありがとうございました。</div></div></div><div class="message event" id="message-1587182761.064800"><div class="content"><div class="summary"><div class="message__header user">rydeen2045</div><div class="message__timestamp date"><a class="date" href="#message-1587182761.064800">2020-04-18&nbsp;13:06:01 +0900</a></div></div><div class="message__body description">@rydeen2045 has joined the channel</div></div></div><div class="message event" id="message-1587234316.065100"><div class="content"><div class="summary"><div class="message__header user">yt1997kt</div><div class="message__timestamp date"><a class="date" href="#message-1587234316.065100">2020-04-19&nbsp;03:25:16 +0900</a></div></div><div class="message__body description">@yt1997kt has joined the channel</div></div></div><div class="message event" id="message-1587298143.065400"><div class="content"><div class="summary"><div class="message__header user">masahito.keio</div><div class="message__timestamp date"><a class="date" href="#message-1587298143.065400">2020-04-19&nbsp;21:09:03 +0900</a></div></div><div class="message__body description">@masahito.keio has joined the channel</div></div></div><div class="message event" id="message-1587520637.065700"><div class="content"><div class="summary"><div class="message__header user">pometarou93</div><div class="message__timestamp date"><a class="date" href="#message-1587520637.065700">2020-04-22&nbsp;10:57:17 +0900</a></div></div><div class="message__body description">@pometarou93 has joined the channel</div></div></div><div class="message event" id="message-1587550238.066000"><div class="content"><div class="summary"><div class="message__header user">sennenn9</div><div class="message__timestamp date"><a class="date" href="#message-1587550238.066000">2020-04-22&nbsp;19:10:38 +0900</a></div></div><div class="message__body description">@sennenn9 has joined the channel</div></div></div><div class="message event" id="message-1587737942.067300"><div class="content"><div class="summary"><div class="message__header user">junji.hashimoto</div><div class="message__timestamp date"><a class="date" href="#message-1587737942.067300">2020-04-24&nbsp;23:19:02 +0900</a></div></div><div class="message__body description">雑談程度ですが、rust コンパイラはghcより高速ですか、それとも同程度でしょうか？<br/>なにかベンチマークはありますか？</div></div></div><div class="message event" id="message-1587742597.075200"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date"><a class="date" href="#message-1587742597.075200">2020-04-25&nbsp;00:36:37 +0900</a></div></div><div class="message__body description">ベンチマークではなく個人的なイメージではGHCの方が並列ビルド時のsystem CPU時間もメモリ使用量も多い印象です。もちろん入力となるコードによりますが。言語の表現力や担保する安全性の範囲にも違いがあるので、意味のあるベンチマークを作るのが難しそうですね。</div></div></div><div class="message event" id="message-1587744778.075400"><div class="content"><div class="summary"><div class="message__header user">as_capabl</div><div class="message__timestamp date"><a class="date" href="#message-1587744778.075400">2020-04-25&nbsp;01:12:58 +0900</a></div></div><div class="message__body description">コンパイルタイムならC++、Rust、Haskellが激遅3兄弟なのであんまり気にしないのが吉です。ランタイムはHaskellは遅いんですがC++とRustのどっちが遅いのかについては諸説あるので気にしないのが吉です。</div></div></div><div class="message event" id="message-1587800854.076000"><div class="content"><div class="summary"><div class="message__header user">ohsofty</div><div class="message__timestamp date"><a class="date" href="#message-1587800854.076000">2020-04-25&nbsp;16:47:34 +0900</a></div></div><div class="message__body description">@ohsofty has joined the channel</div></div></div><div class="message event" id="message-1587801705.076300"><div class="content"><div class="summary"><div class="message__header user">ohsofty</div><div class="message__timestamp date"><a class="date" href="#message-1587801705.076300">2020-04-25&nbsp;17:01:45 +0900</a></div></div><div class="message__body description">はじめまして、質問があります!<br/><br/>toInts :: String -&gt; [Int]<br/>toInts = map read . lines<br/><br/>の意味するところが不明です。<br/><br/>linesは改行文字で文字列を区切り、文字列のリストを返す<br/>(lines :: String -&gt; [String])<br/><br/>それと、readを関数合成すると何ができるのでしょうか</div></div></div><div class="message event" id="message-1587807069.076400"><div class="content"><div class="summary"><div class="message__header user">takenobu.hs</div><div class="message__timestamp date"><a class="date" href="#message-1587807069.076400">2020-04-25&nbsp;18:31:09 +0900</a></div></div><div class="message__body description">こんにちは。<br/>toIntsの優先度をカッコで明確化すると、 <code>map (read . lines)</code> ではなく、 <code>(map read) . lines</code> となります。<br/>なので関数合成しているのは、`map read` と <code>lines</code> になります。<br/>従ってtoIntsは、「 <code>lines</code>  の出力結果を、 <code>map read</code> に入力する関数」を表しています。<br/><code>map read</code> は、入力されたリストの各々に、`read` 関数を適用したリストを返します。</div></div></div><div class="message event" id="message-1587809001.076800"><div class="content"><div class="summary"><div class="message__header user">na4zagin3</div><div class="message__timestamp date"><a class="date" href="#message-1587809001.076800">2020-04-25&nbsp;19:03:21 +0900</a></div></div><div class="message__body description">Prelude 代替を何か試してみようかと思っているのですが、RIO が最有力でしょうか？　stack の templates に Foundations もあったのでこちらも気になっています。</div></div></div><div class="message event" id="message-1587811253.077000"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1587811253.077000">2020-04-25&nbsp;19:40:53 +0900</a></div></div><div class="message__body description">あんまりalt Preludeはほぼ使ったことがないですがRIOだけはちょっと使ったことがあって、確かにあれはよくできてると思います。<br/>Foundationsは、わざわざStringなどを独自に作っていて、気持ちはわかるけどちょっと野心的すぎない？という印象です。</div></div></div><div class="message event" id="message-1587811507.077200"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date"><a class="date" href="#message-1587811507.077200">2020-04-25&nbsp;19:45:07 +0900</a></div></div><div class="message__body description">RIO 愛用してますが、ほかと比べたわけじゃなくなんとなくで使ってます（とくに不満はありません）</div></div></div><div class="message event" id="message-1587814238.078100"><div class="content"><div class="summary"><div class="message__header user">na4zagin3</div><div class="message__timestamp date"><a class="date" href="#message-1587814238.078100">2020-04-25&nbsp;20:30:38 +0900</a></div></div><div class="message__body description">ありがとうございます！　RIO を試してみようと思います</div></div></div><div class="message event" id="message-1587816183.078300"><div class="content"><div class="summary"><div class="message__header user">junji.hashimoto</div><div class="message__timestamp date"><a class="date" href="#message-1587816183.078300">2020-04-25&nbsp;21:03:03 +0900</a></div></div><div class="message__body description">ありがとうございます。<br/>一般にはrustのコンパイル時間も遅いという認識なのですね。ghcがメモリを使うというのは経験的にありますが。</div></div></div><div class="message event" id="message-1587824774.078600"><div class="content"><div class="summary"><div class="message__header user">tomoya0229</div><div class="message__timestamp date"><a class="date" href="#message-1587824774.078600">2020-04-25&nbsp;23:26:14 +0900</a></div></div><div class="message__body description">@tomoya0229 has joined the channel</div></div></div><div class="message event" id="message-1587827432.078800"><div class="content"><div class="summary"><div class="message__header user">ohsofty</div><div class="message__timestamp date"><a class="date" href="#message-1587827432.078800">2020-04-26&nbsp;00:10:32 +0900</a></div></div><div class="message__body description">よく分かりましたありがとうございます</div></div></div><div class="message event" id="message-1587887641.081000"><div class="content"><div class="summary"><div class="message__header user">matonix</div><div class="message__timestamp date"><a class="date" href="#message-1587887641.081000">2020-04-26&nbsp;16:54:01 +0900</a></div></div><div class="message__body description">cabal (3.2.0.0) でプロジェクトをビルドする際に、 <code>-threaded</code>や <code>-eventlog</code> などのghcオプションをコマンドラインから与える方法はありますでしょうか？やはり.cabalファイルに書き込むべきですかね？</div></div></div><div class="message event" id="message-1587887809.082200"><div class="content"><div class="summary"><div class="message__header user">ohsofty</div><div class="message__timestamp date"><a class="date" href="#message-1587887809.082200">2020-04-26&nbsp;16:56:49 +0900</a></div></div><div class="message__body description">バイナリデータの操作で、グリッチアート生成プログラムを書籍を元に作っていますが、エラーが取れない状況です。<br/><br/>エラー箇所の解決方法を教えてもらえないでしょうか<br/><a href='https://ideone.com/3cgTKo'>https://ideone.com/3cgTKo</a></div></div></div><div class="message event" id="message-1587887868.082400"><div class="content"><div class="summary"><div class="message__header user">matonix</div><div class="message__timestamp date"><a class="date" href="#message-1587887868.082400">2020-04-26&nbsp;16:57:48 +0900</a></div></div><div class="message__body description"><code>--PROG-options=OPTS                                  give extra options to PROG</code> とhelpにあったのでghcなら--ghc-optionsになりそうですね</div></div></div><div class="message event" id="message-1587888008.082600"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1587888008.082600">2020-04-26&nbsp;17:00:08 +0900</a></div></div><div class="message__body description"><code>(before,rest) = ...</code> の行と <code>after = ...</code> の行、 <code>newChar = ...</code> の行の行頭をそろえてください。</div></div></div><div class="message event" id="message-1587888926.082900"><div class="content"><div class="summary"><div class="message__header user">ohsofty</div><div class="message__timestamp date"><a class="date" href="#message-1587888926.082900">2020-04-26&nbsp;17:15:26 +0900</a></div></div><div class="message__body description">コンパイルできましたありがとうございます</div></div></div><div class="message event" id="message-1587976816.083300"><div class="content"><div class="summary"><div class="message__header user">yutakatay</div><div class="message__timestamp date"><a class="date" href="#message-1587976816.083300">2020-04-27&nbsp;17:40:16 +0900</a></div></div><div class="message__body description">@yutakatay has joined the channel</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/82.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div></div></body></html>