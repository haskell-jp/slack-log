<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / random #20</title><link rel="stylesheet" href="/slack-log/messages.css" type="text/css" media="screen"></head><body><h1>haskell-jp / random #20</h1><div class="pager"><a href="/slack-log/html/C4M4TT8JJ/19.html" class="pager__previous">Previous</a><a href="/slack-log/" class="pager__top">Top</a><a href="/slack-log/html/C4M4TT8JJ/21.html" class="pager__next">Next</a></div><div class="message_list"><div class="message" id="message-1529033008.000146"><div class="message__timestamp">2018-06-15<br/>12:23:28 +0900</div><div class="message__header">as_capabl</div><div class="message__body">依存性については、実はLens APIを公開するだけだったらlensパッケージに依存する必要はなかったり。<br/><blockquote>You can even define lenses without incurring a dependency on the lens library</blockquote><a href='http://hackage.haskell.org/package/lens-tutorial-1.0.3/docs/Control-Lens-Tutorial.html'>http://hackage.haskell.org/package/lens-tutorial-1.0.3/docs/Control-Lens-Tutorial.html</a></div></div><div class="message" id="message-1529033107.000013"><div class="message__timestamp">2018-06-15<br/>12:25:07 +0900</div><div class="message__header">as_capabl</div><div class="message__body">ただ、これをやるためにtype MyLens = ...とか定義し始めると "DO NOT REPEAT YOUSELF!!!!!!" ってなるんですけど、どうすればいいんだろう</div></div><div class="message" id="message-1529033215.000091"><div class="message__timestamp">2018-06-15<br/>12:26:55 +0900</div><div class="message__header">igrep</div><div class="message__body"><code>makeLenses</code> をlens（やmicrolensなど）に依存しないでやるのを自動化できればいいって話ですよね。<br/>THがなかったころのEtaでは、GHCに -ddump-splice させて出てきたものをコピペしろ、なんて言われてたなぁ（めんどい）</div></div><div class="message" id="message-1529034713.000203"><div class="message__timestamp">2018-06-15<br/>12:51:53 +0900</div><div class="message__header">maoe</div><div class="message__body">最近はlensに依存したパッケージがかなり多くなったので、個人的にはライブラリでもあまり気にせずlensに依存してしまうこともあります。</div></div><div class="message" id="message-1529034777.000114"><div class="message__timestamp">2018-06-15<br/>12:52:57 +0900</div><div class="message__header">as_capabl</div><div class="message__body">ああ、その問題もありますね……私が言おうとしたのは、 <code>point :: Lens' Atom Point</code> ではなく <code>point :: Functor f =&gt; (Point -&gt; f Point) -&gt; Atom -&gt; f Atom</code> みたいなシグネチャを大量に書く羽目になると可読性がアレなので、結局Lensと同じtype宣言を各プロジェクトでやる羽目になってしまう問題です。結局lens依存しちゃっていいやってなるかもしれませんね</div></div><div class="message" id="message-1529034883.000024"><div class="message__timestamp">2018-06-15<br/>12:54:43 +0900</div><div class="message__header">igrep</div><div class="message__body">型シノニム程度ならコピペしちゃうかな。。。この間実際 <code>Getting</code> と <code>view</code> がほしくなってしましたし。</div></div><div class="message" id="message-1529035708.000024"><div class="message__timestamp">2018-06-15<br/>13:08:28 +0900</div><div class="message__header">aiya000</div><div class="message__body">lens、使いたくなったら使っちゃう派！<br/>（不用意には使わないようにしてるけど、便利すぎる）</div></div><div class="message" id="message-1529041265.000152"><div class="message__timestamp">2018-06-15<br/>14:41:05 +0900</div><div class="message__header">fumieval</div><div class="message__body">ライブラリでlensを使うことの是非については、ネストしたデータ構造なら推奨、コンテナに入れて処理しないような単なるパラメータなら非推奨という立場です</div></div><div class="message" id="message-1529043610.000185"><div class="message__timestamp">2018-06-15<br/>15:20:10 +0900</div><div class="message__header">mitsugk</div><div class="message__body">@mitsugk has joined the channel</div></div><div class="message" id="message-1529066130.000419"><div class="message__timestamp">2018-06-15<br/>21:35:30 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">地味な内容ですが、広く影響のある提案が、ghc-proposalsに提案されています。<br/>カインド（種）の仕様から、'*'の表記を削除してしまおうというものです。<br/>今の期間内であれば、同意・反対などの意見や、改善提案などが可能です:slightly_smiling_face:<br/><a href='https://github.com/ghc-proposals/ghc-proposals/pull/143'>https://github.com/ghc-proposals/ghc-proposals/pull/143</a></div></div><div class="message" id="message-1529066668.000204"><div class="message__timestamp">2018-06-15<br/>21:44:28 +0900</div><div class="message__header">aiya000</div><div class="message__body">upvoteしました！</div></div><div class="message" id="message-1529067983.000554"><div class="message__timestamp">2018-06-15<br/>22:06:23 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">8年かけてやるという気の長い話しです。<br/>今なら止める側にも倒せますし、進める側にも倒せます。<br/>何か新しい観点に気づいたら教えてあげてください:slightly_smiling_face::haskell:</div></div><div class="message" id="message-1529069597.000377"><div class="message__timestamp">2018-06-15<br/>22:33:17 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">全く中身を読んでないので書いてあったら申し訳ないんですが、これはhaskell primeにはプロポーサル出さないんですかね？</div></div><div class="message" id="message-1529103469.000018"><div class="message__timestamp">2018-06-16<br/>07:57:49 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">ghc-proposalsの方が進めば、いずれ、Haskell primeの方にも提案されるかなぁと思います。<br/>ちなみに、Haskell primeの方は、実装されて使用された実績のある仕様が、提案対象になっていたと思います。<br/>ただ最近は、Haskell primeの方は動きが停滞してますね。 2020年直前になると活発化するのかな？</div></div><div class="message" id="message-1529119923.000002"><div class="message__timestamp">2018-06-16<br/>12:32:03 +0900</div><div class="message__header">aiya000</div><div class="message__body">今日はHaskell Dayの日程候補挙げをやるぞい :shikamaro_kun:</div></div><div class="message" id="message-1529201000.000081"><div class="message__timestamp">2018-06-17<br/>11:03:20 +0900</div><div class="message__header">igrep</div><div class="message__body"><code>Type</code> の方が確かに説明しやすそうですね！私はupvoteしました。</div></div><div class="message" id="message-1529204553.000046"><div class="message__timestamp">2018-06-17<br/>12:02:33 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">あと`*`だと、将来的にDependent Haskellの世代に、-XTypeOperatorsと見栄えが衝突するのが痛いんですよね。<br/>既存の説明文書が古くなってしまうことや、ライブラリの更新負担が発生することとのトレードオフですね。</div></div><div class="message" id="message-1529289603.000191"><div class="message__timestamp">2018-06-18<br/>11:40:03 +0900</div><div class="message__header">yharuhi39</div><div class="message__body">あ、これreddit でも話題になってましたね。 私的には、* 種は無くさないほうに一票という感じです。 特に理論的な根拠や理由がある訳では有りませんが、 強いて言うなら、 Erik Meijerがいつか語ってたように、言語機能(と言って良いのか微妙ですが)を無くす事は言語を強化する事にならない。 (言っていた文脈は全く別で私が勝手にその部分だけ引用してますが) という感じでしょうか。</div></div><div class="message" id="message-1529371927.000085"><div class="message__timestamp">2018-06-19<br/>10:32:07 +0900</div><div class="message__header">igrep</div><div class="message__body">確かghcidを解説している記事にあったかと思うのですが、型わからなくなったらとりあえず  <code>hoge :: ()</code>と注釈加えたり <code>() &lt;-</code> とパターンマッチしてみたりしてわざとコンパイルエラー起こすの、確かに有効ですね！</div></div><div class="message" id="message-1529372399.000210"><div class="message__timestamp">2018-06-19<br/>10:39:59 +0900</div><div class="message__header">igrep</div><div class="message__body">type holeと比べてどうなんだろう。</div></div><div class="message" id="message-1529409640.000287"><div class="message__timestamp">2018-06-19<br/>21:00:40 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">関連提案(#146)も出てきたので、まだまだ紆余曲折ありそうですね^^</div></div><div class="message" id="message-1529462763.000105"><div class="message__timestamp">2018-06-20<br/>11:46:03 +0900</div><div class="message__header">kakkun61</div><div class="message__body"><a href='https://twitter.com/techbookfest/status/1009128549335195648'>https://twitter.com/techbookfest/status/1009128549335195648</a></div></div><div class="message" id="message-1529462851.000291"><div class="message__timestamp">2018-06-20<br/>11:47:31 +0900</div><div class="message__header">kakkun61</div><div class="message__body">書くぞ～</div></div><div class="message" id="message-1529482422.000168"><div class="message__timestamp">2018-06-20<br/>17:13:42 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">そもそもGHC 8.6でこれが実装されるのが，ホットになってる要因なんですかね<br/><a href='https://github.com/ghc-proposals/ghc-proposals/pull/83'>https://github.com/ghc-proposals/ghc-proposals/pull/83</a></div></div><div class="message" id="message-1529498432.000120"><div class="message__timestamp">2018-06-20<br/>21:40:32 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">からみ具合を追いきれてないのですが、TypeInType関連で、激しく手を入れている関係なのでしょうね、、、おそらく。<br/>型とかカインド関連で、過激にいろんな試行をしてるようですが、本当は、言語オプションでうまくやりくりできるはずが、考慮もれがあって、workaroundを検討中という感じのようです。<br/><br/>-XStarIsType拡張でうまく行くはずが、TypeOperatorsと競合して、他世代のライブラリの保守を考えると、いろいろと発散しているようです。 が、<https://github.com/ghc-proposals/ghc-proposals/pull/146> で抑えこもうとしている感じでしょうか。<br/>まだ、追いきれてません。（というか、各々の理解がまだ不十分で、、、）:sweat_smile:</div></div><div class="message" id="message-1529643724.000126"><div class="message__timestamp">2018-06-22<br/>14:02:04 +0900</div><div class="message__header">msakai</div><div class="message__body">最近、 Menoh というDNN推論ライブラリ <a href='https://research.preferred.jp/2018/06/menoh-release/'>https://research.preferred.jp/2018/06/menoh-release/</a> の Haskell binding を作ってみたので、ご参考までに。<br/><a href='http://hackage.haskell.org/package/menoh'>http://hackage.haskell.org/package/menoh</a><br/>命令的なAPIを素朴にラップしただけで、特に関数的なインターフェースは用意できていないですが。</div></div><div class="message" id="message-1529661510.000137"><div class="message__timestamp">2018-06-22<br/>18:58:30 +0900</div><div class="message__header">kanjiro_f</div><div class="message__body">@kanjiro_f has joined the channel</div></div><div class="message" id="message-1529747773.000036"><div class="message__timestamp">2018-06-23<br/>18:56:13 +0900</div><div class="message__header">seiji3030</div><div class="message__body">@seiji3030 has joined the channel</div></div><div class="message" id="message-1529749118.000084"><div class="message__timestamp">2018-06-23<br/>19:18:38 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">現状の個人的な理解を， <a href='https://www.reddit.com/r/haskell_jp/comments/8t8p4j/typeoperators_nostaristype%E3%81%AE%E5%BB%B6%E6%9C%9F%E3%81%AE%E6%8F%90%E6%A1%88/'>https://www.reddit.com/r/haskell_jp/comments/8t8p4j/typeoperators_nostaristype%E3%81%AE%E5%BB%B6%E6%9C%9F%E3%81%AE%E6%8F%90%E6%A1%88/</a> にて書きました</div></div><div class="message" id="message-1529756170.000040"><div class="message__timestamp">2018-06-23<br/>21:16:10 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">複雑な関係がまとまってて分かりやすくて有り難いです！<br/>本題から外れますが１点だけ。 ghcの8.6のアルファ版は、これからリリースされる予定です。 ちょうど、8.6アルファのbranchが切られて、整備されている最中のようです。（この関連の修正を急ピッチで反映させるのかもしれません。）</div></div><div class="message" id="message-1529759046.000030"><div class="message__timestamp">2018-06-23<br/>22:04:06 +0900</div><div class="message__header">mizunashi-mana</div><div class="message__body">なるほど、まだブランチが切られただけなんですね。ありがとうございます、該当部分修正しときます</div></div><div class="message" id="message-1529803992.000026"><div class="message__timestamp">2018-06-24<br/>10:33:12 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">GHCへの改善提案（ghc-proposals）について、現時点で、steering-committeeに提案されている案件の検討ステータス一覧です。<br/>GitHub上でのghc-proposalsの仕組みが出来てから、提案がかなり活況になっています。<br/>結構な数が並走して流れていくので、何かあればGitHub上でツッコんでみてください:haskell:<br/><br/><a href='https://mail.haskell.org/pipermail/ghc-steering-committee/2018-June/000634.html'>https://mail.haskell.org/pipermail/ghc-steering-committee/2018-June/000634.html</a></div></div><div class="message" id="message-1529804069.000060"><div class="message__timestamp">2018-06-24<br/>10:34:29 +0900</div><div class="message__header">canneryrow2016</div><div class="message__body">@canneryrow2016 has joined the channel</div></div><div class="message" id="message-1529888463.000130"><div class="message__timestamp">2018-06-25<br/>10:01:03 +0900</div><div class="message__header">igrep</div><div class="message__body">直接Haskellと関係なくて申し訳ないんですが、みなさんRedditの新しいバージョンって見えてますかね。<br/><a href='https://www.reddit.com/r/haskell_jp/'>https://www.reddit.com/r/haskell_jp/</a><br/>古いバージョンで使っていたテーマが無効になってしまったのでせっかくなんでHaskell-jpのウェブサイトと同じような色にしてみました。</div></div><div class="message" id="message-1529899078.000025"><div class="message__timestamp">2018-06-25<br/>12:57:58 +0900</div><div class="message__header">as_capabl</div><div class="message__body">Pandocに目次を自動生成する--tocオプションがあるから楽勝……と思ったんですけど --standaloneと一緒に指定しないと無効っぽいですね。自力でPandocの中間データを舐める感じで行きます <a href='https://github.com/haskell-jp/blog/issues/117'>https://github.com/haskell-jp/blog/issues/117</a></div></div><div class="message" id="message-1529904783.000177"><div class="message__timestamp">2018-06-25<br/>14:33:03 +0900</div><div class="message__header">ghasshee</div><div class="message__body">@ghasshee has joined the channel</div></div><div class="message" id="message-1529907299.000118"><div class="message__timestamp">2018-06-25<br/>15:14:59 +0900</div><div class="message__header">cosmiafu</div><div class="message__body">僕の本もPandocで書いただから、この前に結構調べたけど、結果的に、個別の文章はPandocにやらせて、目次とカバーなどのページはやはりTexでやるのが楽だと思う。<br/>Pandocはスイッチ少ないね</div></div><div class="message" id="message-1529928664.000017"><div class="message__timestamp">2018-06-25<br/>21:11:04 +0900</div><div class="message__header">cosmiafu</div><div class="message__body"><a href='https://cosmius.bitbucket.io/tkhe/'>https://cosmius.bitbucket.io/tkhe/</a><br/>今書いてるHaskellの本です、無料ダウンロードできるよ ヽ(^。^)ノ</div></div><div class="message" id="message-1529928755.000346"><div class="message__timestamp">2018-06-25<br/>21:12:35 +0900</div><div class="message__header">cosmiafu</div><div class="message__body">間違ったとこなどがあったら是非ともご指摘してください</div></div><div class="message" id="message-1529928997.000402"><div class="message__timestamp">2018-06-25<br/>21:16:37 +0900</div><div class="message__header">cosmiafu</div><div class="message__body">現状では、基礎的な部分のみなので、最近Haskellを勉強し始めた方にお勧めです</div></div><div class="message" id="message-1529931876.000197"><div class="message__timestamp">2018-06-25<br/>22:04:36 +0900</div><div class="message__header">takenobu.hs</div><div class="message__body">reStructuredTextだと、`.. contents::`ディレクティブで目次を生成してくれるのですが、markdownだとラクな手がなさそうですね、、、</div></div><div class="message" id="message-1529968323.000183"><div class="message__timestamp">2018-06-26<br/>08:12:03 +0900</div><div class="message__header">as_capabl</div><div class="message__body">どうもです、色々試してみます！</div></div><div class="message" id="message-1529989305.000112"><div class="message__timestamp">2018-06-26<br/>14:01:45 +0900</div><div class="message__header">sora42024</div><div class="message__body">@sora42024 has joined the channel</div></div><div class="message" id="message-1529990505.000272"><div class="message__timestamp">2018-06-26<br/>14:21:45 +0900</div><div class="message__header">ncaq</div><div class="message__body">Pandocの自動生成,日本語を食わせると不正なリンクを作るか,英語だけに切り詰めて重複リンクを作ってしまうか<br/>みたいな問題があるのでパーセントエンコーディングする修正しないと正しいリンクは作れなさそうです</div></div><div class="message" id="message-1530163629.000075"><div class="message__timestamp">2018-06-28<br/>14:27:09 +0900</div><div class="message__header">fujimura</div><div class="message__body">久々にHaskellでNewline-deimited JSONでも読んでみるか…と思ってPipesを使おうとしたら意外と`readFile`的な関数がなくて、このコメントに行き当たりました。bracketで囲むパターンじゃ駄目なのかなあ<br/><br/><blockquote>The main reason is that I feel that pipes is the wrong abstraction for resource-safety. I feel that a more restricted abstraction (like Shell from turtle, for example) is necessary to get predictable resource management guarantees and a nice user experience.</blockquote></div></div><div class="message" id="message-1530197573.000456"><div class="message__timestamp">2018-06-28<br/>23:52:53 +0900</div><div class="message__header">insight.insight</div><div class="message__body">@insight.insight has joined the channel</div></div><div class="message" id="message-1530203161.000257"><div class="message__timestamp">2018-06-29<br/>01:26:01 +0900</div><div class="message__header">yharuhi39</div><div class="message__body">ですよね。 結局 パース出来ないだの、ファイル(コンソールを含む)を開けないだのは出る訳なんだから、  <code>withFile</code> みたいな(中身は <code>bracket</code> でしょうけど)関数くらい用意しても良いと思います。</div></div><div class="message" id="message-1530239690.000130"><div class="message__timestamp">2018-06-29<br/>11:34:50 +0900</div><div class="message__header">fujimura</div><div class="message__body">実務上不便ですよねー。結局、面倒なのでio-streamsにしました。</div></div><div class="message" id="message-1530246788.000148"><div class="message__timestamp">2018-06-29<br/>13:33:08 +0900</div><div class="message__header">fumieval</div><div class="message__body">リソース管理に対応したライブラリってconduit(かdrinkery)くらいしかないんですよね…大事なところなのに</div></div><div class="message" id="message-1530277701.000164"><div class="message__timestamp">2018-06-29<br/>22:08:21 +0900</div><div class="message__header">ion.alkali</div><div class="message__body">@ion.alkali has joined the channel</div></div></div><div class="pager"><a href="/slack-log/html/C4M4TT8JJ/19.html" class="pager__previous">Previous</a><a href="/slack-log/" class="pager__top">Top</a><a href="/slack-log/html/C4M4TT8JJ/21.html" class="pager__next">Next</a></div></body></html>