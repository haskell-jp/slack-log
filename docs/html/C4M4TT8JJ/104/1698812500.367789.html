<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / random #104 at 2023-11-01 13:21:40 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / random #104 at 2023-11-01 13:21:40 +0900</h1>
    <div class="ui pagination menu">
      <a href="../104.html" class="item">Back to random #104</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1698812500.367789">
        <div class="content">
          <div class="summary">
            <div class="user">karoyakani</div>
            <div class="date"><a class="date" href="#message-1698812500.367789">2023-11-01 13:21:40 +0900</a></div>
          </div>
          <div class="description">AtCoder での最近の Haskell (GHC 9.4.5) update from (8.8.3) によって実行速度が低下している模様　例： 競プロ典型 90 問  9 日目 - Three Point Angle<br/><a href='https://atcoder.jp/contests/typical90/submissions/47126051'>https://atcoder.jp/contests/typical90/submissions/47126051</a></div>
        </div>
      </div>
      <div class="event" id="message-1698841366.259449">
        <div class="content">
          <div class="summary">
            <div class="user">gksato</div>
            <div class="date"><a class="date" href="#message-1698841366.259449">2023-11-01 21:22:46 +0900</a></div>
          </div>
          <div class="description">あー，これ公知するの忘れてました． <code>VAI.sort</code>  を <code>VAI.sortBy compare</code> で置き換えると改善します：<br/><br/><a href='https://atcoder.jp/contests/typical90/submissions/47136959'>https://atcoder.jp/contests/typical90/submissions/47136959</a><br/><br/><code>VAI.sort</code> は <code>{-# INLINABLE sort #-}</code> になっています． <code>vector-algorithms</code> における7年前のコミット <a href='https://github.com/erikd/vector-algorithms/commit/298333ee4a26bdd25a08a852d3123c9aab24c364'>https://github.com/erikd/vector-algorithms/commit/298333ee4a26bdd25a08a852d3123c9aab24c364</a> で，「`INLINABLE` ではなく <code>{-# INLINE sort #-}</code> としないとパフォーマンスが悪化するということだがそれが再現しない」，ということを理由に <code>INLINABLE</code> に差し戻された状態です．GHC 8.8.3 ではきちんとインライン化されていたところ，多分 GHC 9.4.5 のバグか仕様かで <code>sort</code> がインライン化されなくて時間がかかっているようなんですよね．</div>
        </div>
      </div>
      <div class="event" id="message-1698841743.320499">
        <div class="content">
          <div class="summary">
            <div class="user">gksato</div>
            <div class="date"><a class="date" href="#message-1698841743.320499">2023-11-01 21:29:03 +0900</a></div>
          </div>
          <div class="description">関連： <a href='https://haskell-jp.slack.com/archives/C4M4TT8JJ/p1694874879326529'>https://haskell-jp.slack.com/archives/C4M4TT8JJ/p1694874879326529</a> = <a href='https://haskell.jp/slack-log/html/C4M4TT8JJ/104.html#message-1694874879.326529'>https://haskell.jp/slack-log/html/C4M4TT8JJ/104.html#message-1694874879.326529</a></div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../104.html" class="item">Back to random #104</a>
    </div>
  </div>
</body>
</html>
