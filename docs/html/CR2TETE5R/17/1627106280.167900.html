<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #17 at 2021-07-24 14:58:00 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #17 at 2021-07-24 14:58:00 +0900</h1>
    <div class="ui pagination menu">
      <a href="../17.html" class="item">Back to beginners #17</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1627106280.167900">
        <div class="content">
          <div class="summary">
            <div class="user">sanao</div>
            <div class="date"><a class="date" href="#message-1627106280.167900">2021-07-24 14:58:00 +0900</a></div>
          </div>
          <div class="description">以下のようなエラーメッセージが出てきてHLSがうまく動かなくなりました。ghcupでghcのバージョンを9.0.1に上げてghcideに合わせてもメッセージが出てきます。解決策に心当たりのある方はいらっしゃいますか？<br/><pre>ghcide compiled against GHC 9.0.1 but currently using 8.10.4 This is unsupported, ghcide must be compiled with the same GHC version as the project.</pre><br/></div>
        </div>
      </div>
      <div class="event" id="message-1627109164.168000">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1627109164.168000">2021-07-24 15:46:04 +0900</a></div>
          </div>
          <div class="description">stack.yamlかcabal.projectファイルがプロジェクトのルートディレクトリーにありませんか？そこでGHCのバージョンが指定されている可能性があります。</div>
        </div>
      </div>
      <div class="event" id="message-1627109581.168200">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1627109581.168200">2021-07-24 15:53:01 +0900</a></div>
          </div>
          <div class="description">あっ、あと、haskell-language-serverもGHC 9.0向けにビルドされたものが必要です。普段ghcupをあまり使わないので詳しくは分からないのですが、こちらもghcupでインストールできるかとおもいます。</div>
        </div>
      </div>
      <div class="event" id="message-1627109707.168400">
        <div class="content">
          <div class="summary">
            <div class="user">TH</div>
            <div class="date"><a class="date" href="#message-1627109707.168400">2021-07-24 15:55:07 +0900</a></div>
          </div>
          <div class="description"><code>ghcup</code>　は使ったことがないのでわかりませんが、この前 GHC のバージョンが合わなかったときは結局 <code>haskell-language-server</code> をそのバージョン用のものに（GitHub から得られるソースコードから）ビルドし直して解決した気がします。（ビルドには1時間程度かかりました）（off-topic だったらすみません）</div>
        </div>
      </div>
      <div class="event" id="message-1627110538.168700">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1627110538.168700">2021-07-24 16:08:58 +0900</a></div>
          </div>
          <div class="description">手でhaskell-language-serverをインストールするのは一案ですね。ただ、その場合でも今は <a href='https://github.com/haskell/haskell-language-server/releases'>https://github.com/haskell/haskell-language-server/releases</a> からコンパイル済みのものがダウンロードできるのでご安心を。</div>
        </div>
      </div>
      <div class="event" id="message-1627111449.169000">
        <div class="content">
          <div class="summary">
            <div class="user">TH</div>
            <div class="date"><a class="date" href="#message-1627111449.169000">2021-07-24 16:24:09 +0900</a></div>
          </div>
          <div class="description">なに〜、もっと早く知りたかった……</div>
        </div>
      </div>
      <div class="event" id="message-1627114954.169200">
        <div class="content">
          <div class="summary">
            <div class="user">sanao</div>
            <div class="date"><a class="date" href="#message-1627114954.169200">2021-07-24 17:22:34 +0900</a></div>
          </div>
          <div class="description">@igrep stack.yamlのresolverでしょうかね？いまいちわかりません...参考までにstack.yamlのコードです<br/><pre># This file was automatically generated by 'stack init'
#
# Some commonly used options have been documented as comments in this file.
# For advanced use and comprehensive documentation of the format, please see:
# <https://docs.haskellstack.org/en/stable/yaml_configuration/>

# Resolver to choose a 'specific' stackage snapshot or a compiler version.
# A snapshot resolver dictates the compiler version and the set of packages
# to be used for project dependencies. For example:
# resolver: lts-17.14
# resolver: nightly-2015-09-21
# allow-newer: true
# system-ghc: true
#
# The location of a snapshot can be provided as a file or url. Stack assumes
# a snapshot provided as a file might change, whereas a url resource does not.
#
# resolver: ./custom-snapshot.yaml
# resolver: <https://example.com/snapshots/2018-01-01.yaml>
resolver:
  url: <https://raw.githubusercontent.com/commercialhaskell/stackage-snapshots/master/lts/18/2.yaml>
# resolver: ghc-8.10.5

# User packages to be built.
# Various formats can be used as shown in the example below.
#
# packages:
# - some-directory
# - <https://example.com/foo/bar/baz-0.0.2.tar.gz>
#   subdirs:
#   - auto-update
#   - wai
# packages:
# - .
# Dependency packages to be pulled from upstream that are not in the resolver.
# These entries can reference officially published versions as well as
# forks / in-progress versions pinned to a git hash. For example:
#
# - acme-missiles-0.3
# - git: <https://github.com/commercialhaskell/stack.git>
#   commit: e7b331f14bcffb8367cd58fbfc8b40ec7642100a
#
# extra-deps: 

# Override default flag values for local packages and extra-deps
# flags: {}

# Extra package databases containing global packages
# extra-package-dbs: []

# Control whether we use the GHC we find on the path
# system-ghc: true
#
# Require a specific version of stack, using version ranges
# require-stack-version: -any # Default
# require-stack-version: "&gt;=2.7"
#
# Override the architecture used by stack, especially useful on Windows
# arch: i386
# arch: x86_64
#
# Extra directories used by stack for building
# extra-include-dirs: [/path/to/dir]
# extra-lib-dirs: [/path/to/dir]
#
# Allow a newer minor version of GHC than the snapshot specifies
# compiler-check: newer-minor</pre></div>
        </div>
      </div>
      <div class="event" id="message-1627115136.169400">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1627115136.169400">2021-07-24 17:25:36 +0900</a></div>
          </div>
          <div class="description"><pre>resolver:
  url: <https://raw.githubusercontent.com/commercialhaskell/stackage-snapshots/master/lts/18/2.yaml></pre><br/>:point_up: この箇所が犯人ですね。`resolver: nightly-2021-07-23` と書き換えてください。<br/>現状、stackageでGHC 9.0を使う場合、Nightlyにするしかないので、使いたいパッケージがまだ登録されておらず、さらなるエラーになるかも知れませんがその時はまた別途質問ください。</div>
        </div>
      </div>
      <div class="event" id="message-1627116295.169600">
        <div class="content">
          <div class="summary">
            <div class="user">sanao</div>
            <div class="date"><a class="date" href="#message-1627116295.169600">2021-07-24 17:44:55 +0900</a></div>
          </div>
          <div class="description">うまくいきました！本当にありがたいです...!!!</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../17.html" class="item">Back to beginners #17</a>
    </div>
  </div>
</body>
</html>
