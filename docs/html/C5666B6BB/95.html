<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / questions #95</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / questions #95</h1><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/94.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div><div class="message_list ui feed"><div class="message event" id="message-1610358296.238400"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1610358296.238400">2021-01-11&nbsp;18:44:56 +0900</a></div></div><div class="message__body description">取り急ぎ。package.yamlは使わなくともstackは使えます。</div></div></div><div class="message event" id="message-1610358351.238600"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1610358351.238600">2021-01-11&nbsp;18:45:51 +0900</a></div></div><div class="message__body description">stackとcabalの全般的な話ですが、 <a href='https://the.igreque.info/slides/2019-11-29-stack-cabal.html#(1)'>https://the.igreque.info/slides/2019-11-29-stack-cabal.html#(1)</a> から大きく状況は変わっていないと思います。</div></div></div><div class="message event" id="message-1610358442.238800"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610358442.238800">2021-01-11&nbsp;18:47:22 +0900</a></div></div><div class="message__body description"><blockquote>取り急ぎ。package.yamlは使わなくともstackは使えます。</blockquote>あーそういう意味ですか、僕の解釈ミスっぽい・・・？</div></div></div><div class="message event" id="message-1610358611.239100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1610358611.239100">2021-01-11&nbsp;18:50:11 +0900</a></div></div><div class="message__body description">はい、cabalファイルは独自形式な上構文エラーがむちゃくちゃ分かりづらいので使う意義はそれなりにあるとは思いますが、確かに機能的な差はあまりなくなりました。</div></div></div><div class="message event" id="message-1610358678.239400"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610358678.239400">2021-01-11&nbsp;18:51:18 +0900</a></div></div><div class="message__body description">ありがとうございます！<br/>最初「package.yamlは要らないと思う。Stack(そのもの)が非推奨だから。cabalで良い」というニュアンスで読んでいましたが「Stackを使うにあたりpackage.yamlは不要」と読むのが正しいということですね。</div></div></div><div class="message event" id="message-1610358813.239700"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610358813.239700">2021-01-11&nbsp;18:53:33 +0900</a></div></div><div class="message__body description">スライドも目を通させて頂きました、ありがとうございます。</div></div></div><div class="message event" id="message-1610358930.240100"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610358930.240100">2021-01-11&nbsp;18:55:30 +0900</a></div></div><div class="message__body description">• 一昔前はCabal Hellとか言われててまあStack使った方が良いよねという雰囲気だった<br/>• 最近はCabalも改善・進化した<br/>• Haskell開発に慣れてる人はCabalだけでも特に困らない<br/>という肌感なのかなと思いました。</div></div></div><div class="message event" id="message-1610366235.240500"><div class="content"><div class="summary"><div class="message__header user">minorinoki_haskjp</div><div class="message__timestamp date"><a class="date" href="#message-1610366235.240500">2021-01-11&nbsp;20:57:15 +0900</a></div></div><div class="message__body description">この件と関係するかは分かりませんが、1年ほど前に package.yaml から生成された .cabal ファイルをバージョン管理下に置くことが推奨されるようになっています。 <a href='https://github.com/commercialhaskell/stack/issues/5210'>https://github.com/commercialhaskell/stack/issues/5210</a><br/>ですが、自分の肌感覚としては自動生成されるファイルをVCS管理下に置くのは「面倒」なので、 package.yaml を捨てて .cabal を直接書くのは十分検討に値する選択肢だと思います（自分は .cabal の最近の書き方をちゃんと把握していないのでまだ移行できてませんが）。</div></div></div><div class="message event" id="message-1610367348.242300"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date"><a class="date" href="#message-1610367348.242300">2021-01-11&nbsp;21:15:48 +0900</a></div></div><div class="message__body description">Stackがpackage.yamlの使用を非推奨にしたと言っています。真偽の程は分かりませんが。</div></div></div><div class="message event" id="message-1610367448.244100"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date"><a class="date" href="#message-1610367448.244100">2021-01-11&nbsp;21:17:28 +0900</a></div></div><div class="message__body description">Issuesをざっと検索してみましたが非推奨になった話は見つかりませんでした。どこかで議論があったのかなあ</div></div></div><div class="message event" id="message-1610367546.245700"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date"><a class="date" href="#message-1610367546.245700">2021-01-11&nbsp;21:19:06 +0900</a></div></div><div class="message__body description">他の方がコメント書いてましたね。手元のslackアプリがちゃんとロードできてなくて気が付きませんでした。</div></div></div><div class="message event" id="message-1610367687.248600"><div class="content"><div class="summary"><div class="message__header user">maoe</div><div class="message__timestamp date"><a class="date" href="#message-1610367687.248600">2021-01-11&nbsp;21:21:27 +0900</a></div></div><div class="message__body description">hpackとcabalファイルの違いはだいぶ減りましたがモジュール一覧の生成に音楽性の違いみたいなものがあって、cabalでは全部列挙する必要があります。</div></div></div><div class="message event" id="message-1610370712.248900"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610370712.248900">2021-01-11&nbsp;22:11:52 +0900</a></div></div><div class="message__body description">ありがとうございます！</div></div></div><div class="message event" id="message-1610374850.249200"><div class="content"><div class="summary"><div class="message__header user">matsubara0507</div><div class="message__timestamp date"><a class="date" href="#message-1610374850.249200">2021-01-11&nbsp;23:20:50 +0900</a></div></div><div class="message__body description">cabal ファイルと package.yaml (hpack) に関して、確か Cabal コマンドは cabal ファイルがないとビルドできないので、Cabal で hackage に無い野良 Haskell ライブラリ（GitHub にだけあるとか）を使う場合は cabal ファイルもあげてもらわないと困るはず？</div></div></div><div class="message event" id="message-1610468868.254800"><div class="content"><div class="summary"><div class="message__header user">k.marumaru524</div><div class="message__timestamp date"><a class="date" href="#message-1610468868.254800">2021-01-13&nbsp;01:27:48 +0900</a></div></div><div class="message__body description">僕は普段TypeScriptを書いて、たまにHaskellを書くのですが、なんとも上達(?)している感じがしません。<br/>Qiitaやブログで解説されているGHC拡張や、高度なモナドにたまに触れたりしますが、実際に応用する機会に気付けません。<br/><br/>そこで、2つほど、感覚的な質問をさせてください。<br/>• みなさんが「これは美しい..!!」と感じたHaskellコード(断片コード、Repository、人物)はありますでしょうか？<br/>• イケイケGHC拡張や、高度なモナドは頻繁に使用するものなのでしょうか、それとも目の前の課題に対してたまにキレイにハマるものがある、という感じなのでしょうか？<br/>雑で主観的な質問なので、軽い気持ちで返答していただけると嬉しいです。<br/><br/>ちなみに、僕がキレイだ！と思ったのは↓この辺です<br/><a href='https://scrapbox.io/mrsekut-p/Haskell%E3%81%AE%E7%BE%8E%E3%81%97%E3%81%84%E3%82%B3%E3%83%BC%E3%83%89'>https://scrapbox.io/mrsekut-p/Haskell%E3%81%AE%E7%BE%8E%E3%81%97%E3%81%84%E3%82%B3%E3%83%BC%E3%83%89</a></div></div></div><div class="message event" id="message-1610504850.255100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1610504850.255100">2021-01-13&nbsp;11:27:30 +0900</a></div></div><div class="message__body description"><blockquote>イケイケGHC拡張や、高度なモナドは頻繁に使用するものなのでしょうか、それとも目の前の課題に対してたまにキレイにハマるものがある、という感じなのでしょうか？</blockquote>使わないで済むならなるべく使わずに書こう、という動きもあり、私自身それに従っています。<br/>例えばこれ: <a href='https://www.snoyman.com/blog/2019/11/boring-haskell-manifesto'>https://www.snoyman.com/blog/2019/11/boring-haskell-manifesto</a></div></div></div><div class="message event" id="message-1610513339.255500"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610513339.255500">2021-01-13&nbsp;13:48:59 +0900</a></div></div><div class="message__body description">Haskellerではなく恐縮ですが、自分はIOや再代入に言語機能レベルで制約が設けられていることに魅力を感じて勉強しています。<br/>美しさというよりは実用性重視です:+1:</div></div></div><div class="message event" id="message-1610513716.256100"><div class="content"><div class="summary"><div class="message__header user">dyoshikawa1993</div><div class="message__timestamp date"><a class="date" href="#message-1610513716.256100">2021-01-13&nbsp;13:55:16 +0900</a></div></div><div class="message__body description">（そういえば僕も業務では専らTSです）</div></div></div><div class="message event" id="message-1610590632.000100"><div class="content"><div class="summary"><div class="message__header user">ncaq</div><div class="message__timestamp date"><a class="date" href="#message-1610590632.000100">2021-01-14&nbsp;11:17:12 +0900</a></div></div><div class="message__body description">昔cabalファイルignoreしてたらNixOSだかArchだかのメンテナに「無いと困るんですが…」って言われましたね<br/>オプションいじったら問題なかったみたいですが</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/C5666B6BB/94.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a></div></div></body></html>