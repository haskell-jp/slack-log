<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>haskell-jp / beginners #17 at 2021-08-27 10:51:44 +0900</title>
<link rel="stylesheet" href="../../../main.css" type="text/css" media="screen">
</head>
<body>
  <div class="ui container">
    <h1>haskell-jp / beginners #17 at 2021-08-27 10:51:44 +0900</h1>
    <div class="ui pagination menu">
      <a href="../17.html" class="item">Back to beginners #17</a>
    </div>
    <div class="ui feed">
      <div class="event" id="message-1630029104.010700">
        <div class="content">
          <div class="summary">
            <div class="user">noshigoro</div>
            <div class="date"><a class="date" href="#message-1630029104.010700">2021-08-27 10:51:44 +0900</a></div>
          </div>
          <div class="description">再掲）<br/><pre>Windows PowerShell
Copyright (C) Microsoft Corporation. All rights reserved.

新しいクロスプラットフォームの PowerShell をお試しください <https://aka.ms/pscore6>

PS C:\Users\toshi&gt; wsl.exe
Welcome to Ubuntu 20.04.2 LTS (GNU/Linux 4.4.0-19041-Microsoft x86_64)

 * Documentation:  <https://help.ubuntu.com>
 * Management:     <https://landscape.canonical.com>
 * Support:        <https://ubuntu.com/advantage>

  System information as of Fri Aug 27 09:50:26 JST 2021

  System load:    0.52      Processes:              7
  Usage of /home: unknown   Users logged in:        0
  Memory usage:   52%       IPv4 address for eth1:  192.168.56.1
  Swap usage:     0%        IPv4 address for wifi0: 192.168.2.100

139 updates can be installed immediately.
58 of these updates are security updates.
To see these additional updates run: apt list --upgradable


The list of available updates is more than a week old.
To check for new updates run: sudo apt update


This message is shown once a day. To disable it please create the
/home/pig_dweller/.hushlogin file.
pig_dweller@DESKTOP-IF52AIJ:/mnt/c/Users/toshi$ stack install hmatrix
Preparing to install GHC (tinfo6) to an isolated location.
This will not interfere with any system-level installation.
Already downloaded.
ghc-pkg: Couldn't open database /home/pig_dweller/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.4/lib/ghc-8.10.4/package.conf.d for modification: {handle: /home/pig_dweller/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.4/lib/ghc-8.10.4/package.conf.d/package.cache.lock}: hLock: invalid argument (Invalid argument)
make[1]: *** [<http://ghc.mk:973|ghc.mk:973>: install_packages] Error 1
make: *** [Makefile:51: install] Error 2
Received ExitFailure 2 when running
Raw command: /usr/bin/make install
Run from: /home/pig_dweller/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.4.temp/ghc-8.10.4/


Error: Error encountered while installing GHC with
         make install
         run in /home/pig_dweller/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.4.temp/ghc-8.10.4/

       The following directories may now contain files, but won't be used by stack:
         - /home/pig_dweller/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.4.temp/
         - /home/pig_dweller/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.4/

       For more information consider rerunning with --verbose flag

Installing GHC ...
pig_dweller@DESKTOP-IF52AIJ:/mnt/c/Users/toshi$</pre><br/>このえらーのないようをおしえてください</div>
        </div>
      </div>
      <div class="event" id="message-1630030344.010800">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1630030344.010800">2021-08-27 11:12:24 +0900</a></div>
          </div>
          <div class="description"><a href='https://haskell-jp.slack.com/archives/CR2TETE5R/p1626432250123200'>https://haskell-jp.slack.com/archives/CR2TETE5R/p1626432250123200</a> とよく似たケースに見えるのですが、WSLのバージョンはわかりますか？<br/><br/>あと、「再掲」と言いつつ一昨日とエラーメッセージも環境も異なっているのが気になります :confused: 私の回答のあとどうなったのかも教えていただいてませんし。<br/><a href='https://haskell-jp.slack.com/archives/CR2TETE5R/p1629865592018300'>https://haskell-jp.slack.com/archives/CR2TETE5R/p1629865592018300</a></div>
        </div>
      </div>
      <div class="event" id="message-1630031051.011100">
        <div class="content">
          <div class="summary">
            <div class="user"></div>
            <div class="date"><a class="date" href="#message-1630031051.011100">2021-08-27 11:24:11 +0900</a></div>
          </div>
          <div class="description">内容は分かりませんが、WSL2にすると治るとかいう謎が結構あるらしいです</div>
        </div>
      </div>
      <div class="event" id="message-1630049928.011600">
        <div class="content">
          <div class="summary">
            <div class="user">noshigoro</div>
            <div class="date"><a class="date" href="#message-1630049928.011600">2021-08-27 16:38:48 +0900</a></div>
          </div>
          <div class="description">みなさんありがとうございます。がんばってみます</div>
        </div>
      </div>
      <div class="event" id="message-1630069062.012000">
        <div class="content">
          <div class="summary">
            <div class="user">igrep</div>
            <div class="date"><a class="date" href="#message-1630069062.012000">2021-08-27 21:57:42 +0900</a></div>
          </div>
          <div class="description">@noshigoro DMで詳しい解説ありがとうございました。でも私にしか見えないので、原則パブリックな場で返事をください。特にこの場合、端から見て私の指摘に全く答えていないように見えるので心象が若干悪いです。<br/><br/>本筋と関係ない話はこの辺にして、一つ補足させてください。次Windowsで試すときはcygwinを使うとのことでしたが、cygwin以外にもWindows上で直接（WSLなど仮想マシンを使わずに）Unix由来のソフトウェアを動かす仕組みとしてMSYS2と言うのがあります。実はWindows版GHCが間接的に依存している関係で、stackでGHCをインストールすると自動でにMSYS2もインストールされます。なので実は知らないうちにnoshigoroさんもMSYS2をすでに使っている可能性があります。<br/><br/>で、hmatrixについて私も調べてみたんですが、なるほど確かにdllはともかく.hファイルのありかが分かりづらいですね...:cold_sweat:<br/>そこで「windows hmatrix」で検索してみたところ、 <a href='https://github.com/haskell-numerics/hmatrix/blob/master/INSTALL.md'>https://github.com/haskell-numerics/hmatrix/blob/master/INSTALL.md</a> が見つかりました。<br/>試したところ、こちらの方法でも残念ながら、stackがインストールするMSYS2が古すぎるためか <a href='https://github.com/roswell/roswell/issues/469'>https://github.com/roswell/roswell/issues/469</a> と似た問題が起きてインストールできませんでしたが、報告まで。</div>
        </div>
      </div>
    </div>
    <div class="ui pagination menu">
      <a href="../17.html" class="item">Back to beginners #17</a>
    </div>
  </div>
</body>
</html>
