<!DOCTYPE html><html><head><meta charset="utf-8"><title>haskell-jp / beginners #8</title><link rel="stylesheet" href="../../main.css" type="text/css" media="screen"></head><body><div class="ui container"><h1>haskell-jp / beginners #8</h1><div class="pager ui pagination menu"><a href="../../html/CR2TETE5R/7.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a><a href="../../html/CR2TETE5R/9.html" class="pager__next item">Next</a></div><div class="message_list ui feed"><div class="message event" id="message-1589336050.049800"><div class="content"><div class="summary"><div class="message__header user">akt.hrms</div><div class="message__timestamp date"><a class="date" href="#message-1589336050.049800">2020-05-13&nbsp;11:14:10 +0900</a></div></div><div class="message__body description">@akt.hrms has joined the channel</div></div></div><div class="message event" id="message-1589491465.050000"><div class="content"><div class="summary"><div class="message__header user">kanshu.yokoo</div><div class="message__timestamp date"><a class="date" href="#message-1589491465.050000">2020-05-15&nbsp;06:24:25 +0900</a></div></div><div class="message__body description">@kanshu.yokoo has joined the channel</div></div></div><div class="message event" id="message-1589619346.053700"><div class="content"><div class="summary"><div class="message__header user">kawai.natsuo</div><div class="message__timestamp date"><a class="date" href="#message-1589619346.053700">2020-05-16&nbsp;17:55:46 +0900</a></div></div><div class="message__body description">@kawai.natsuo has joined the channel</div></div></div><div class="message event" id="message-1589848262.053900"><div class="content"><div class="summary"><div class="message__header user">nemoto1257</div><div class="message__timestamp date"><a class="date" href="#message-1589848262.053900">2020-05-19&nbsp;09:31:02 +0900</a></div></div><div class="message__body description">@nemoto1257 has joined the channel</div></div></div><div class="message event" id="message-1590111595.054100"><div class="content"><div class="summary"><div class="message__header user">setonaidl</div><div class="message__timestamp date"><a class="date" href="#message-1590111595.054100">2020-05-22&nbsp;10:39:55 +0900</a></div></div><div class="message__body description">@setonaidl has joined the channel</div></div></div><div class="message event" id="message-1590148449.054300"><div class="content"><div class="summary"><div class="message__header user">murata.muu</div><div class="message__timestamp date"><a class="date" href="#message-1590148449.054300">2020-05-22&nbsp;20:54:09 +0900</a></div></div><div class="message__body description">@murata.muu has joined the channel</div></div></div><div class="message event" id="message-1590291572.054500"><div class="content"><div class="summary"><div class="message__header user">aiya000</div><div class="message__timestamp date"><a class="date" href="#message-1590291572.054500">2020-05-24&nbsp;12:39:32 +0900</a></div></div><div class="message__body description">@aiya000 has joined the channel</div></div></div><div class="message event" id="message-1590455175.054700"><div class="content"><div class="summary"><div class="message__header user">akasak777</div><div class="message__timestamp date"><a class="date" href="#message-1590455175.054700">2020-05-26&nbsp;10:06:15 +0900</a></div></div><div class="message__body description">@akasak777 has joined the channel</div></div></div><div class="message event" id="message-1590980416.056800"><div class="content"><div class="summary"><div class="message__header user">slackbot</div><div class="message__timestamp date"><a class="date" href="#message-1590980416.056800">2020-06-01&nbsp;12:00:16 +0900</a></div></div><div class="message__body description">Reminder: <br/>beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。<br/>Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。<br/><br/>beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。<br/>• それはくだらない質問だ → くだらない質問など無い<br/>• その質問は以前にもあった → 質問者はそんなこと知らない<br/>• Google検索せよ → 検索できないから質問している<br/>beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。<br/>• <code>:</code> とは何のことですか。<br/>• タプルとは何ですか。<br/></div></div></div><div class="message event" id="message-1591014469.057100"><div class="content"><div class="summary"><div class="message__header user">tominaga.switch</div><div class="message__timestamp date"><a class="date" href="#message-1591014469.057100">2020-06-01&nbsp;21:27:49 +0900</a></div></div><div class="message__body description">@tominaga.switch has joined the channel</div></div></div><div class="message event" id="message-1591030808.072400"><div class="content"><div class="summary"><div class="message__header user">dex10619</div><div class="message__timestamp date"><a class="date" href="#message-1591030808.072400">2020-06-02&nbsp;02:00:08 +0900</a></div></div><div class="message__body description">初めまして！mshojiと申します。<br/>Haskellを学んで日が浅いのですが、Haskellの美しさに魅力を感じて少しずつ勉強をしています。<br/><br/>漠然とした質問で申し訳ないのですが、上級者の皆さんはどのような学習をして、今のレベルまで到達したのでしょうか？<br/>興味があるので、お聞きしてみたいです。<br/><br/>入門書で基本的な文法を学習し終えても、SpockやYesodといったフレームワークを使ったアプリケーションを作成するには、<br/>TypeFamiliesやDataKinsなど様々なGHC拡張を知らないと、バグが出てきた時エラーの解消が難しいのではないか、というのが思うところです。<br/><br/>参考までに、「すごいH本」や「Haskell入門 関数型プログラミング言語の基礎と実践」などは読みました。（完璧に理解しているとは言えないですが。。）<br/>今は、自分の知らない概念や上記のGHC拡張などを、少しずつ消化する形で勉強しています。<br/>次のステップとして、オススメの学習方法とかありますか？（とは言え、こういう概念を少しずつ勉強するのもHaskellの楽しさだと思ったりしています）<br/><br/>※質問自体がふわっとしているので、皆さんの体験談とか聞けるだけでも非常に参考になります。</div></div></div><div class="message event" id="message-1591034787.072500"><div class="content"><div class="summary"><div class="message__header user">lotz</div><div class="message__timestamp date"><a class="date" href="#message-1591034787.072500">2020-06-02&nbsp;03:06:27 +0900</a></div></div><div class="message__body description">体験談の一つとして :raising_hand:<br/>僕はいつもRedditでupvoteがある程度ついてる投稿を見て気になるものがあったら深堀りしてます :eyes:<br/><a href='https://www.reddit.com/r/haskell/'>https://www.reddit.com/r/haskell/</a><br/>で、Redditは話題が多岐に渡るので面白かった記事とか読めてない記事も含めて分類しながらGitHubにまとめている感じです<br/><a href='http://lotz84.github.io/haskell/'>http://lotz84.github.io/haskell/</a><br/>他の人の体験談も :kininaru: :wakuwaku:</div></div></div><div class="message event" id="message-1591055277.073200"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1591055277.073200">2020-06-02&nbsp;08:47:57 +0900</a></div></div><div class="message__body description">いろいろやりましたが、GHC User Guideを通読したのは割と大きかったと思います。全部理解しなくてもいいので。<br/>あと体験談じゃないっすけどその他の各論は <a href='https://wiki.haskell.jp/Links'>https://wiki.haskell.jp/Links</a> によい情報をぎゅっとまとめたつもりです。<br/>「ライブラリなどの解説」あたりが特におすすめです。</div></div></div><div class="message event" id="message-1591094867.074000"><div class="content"><div class="summary"><div class="message__header user">nakaji-dayo</div><div class="message__timestamp date"><a class="date" href="#message-1591094867.074000">2020-06-02&nbsp;19:47:47 +0900</a></div></div><div class="message__body description">はじめまして！<br/>私は入門書に乗っていないものが出てきて困ったときに、このサイトも役立ちました。<br/>WHAT I WISH I KNEW WHEN LEARNING HASKELL <a href='http://dev.stephendiehl.com/hask/'>http://dev.stephendiehl.com/hask/</a><br/><br/>（因みに、入門書終えたらすぐフレームワークとか使いました。おっしゃるとおりで、知らない機能や複雑なエラーが出たら都度頑張る事にはなりましたが、なんとかなりました</div></div></div><div class="message event" id="message-1591095932.078000"><div class="content"><div class="summary"><div class="message__header user">dex10619</div><div class="message__timestamp date"><a class="date" href="#message-1591095932.078000">2020-06-02&nbsp;20:05:32 +0900</a></div></div><div class="message__body description">@lotz <br/>ありがとうございます！<br/>Redditはあまり読んだことがないので、とても参考になります！見てみます:smile:<br/><br/>@igrep <br/>GHC User Guide、通読とはレベルが高いですね！数年単位かかりそうです。。でも、これを通読したらかなりレベルアップしそうです:smile:<br/>リンクもありがとうございます！とても参考になりそうです！</div></div></div><div class="message event" id="message-1591102245.080000"><div class="content"><div class="summary"><div class="message__header user">dex10619</div><div class="message__timestamp date"><a class="date" href="#message-1591102245.080000">2020-06-02&nbsp;21:50:45 +0900</a></div></div><div class="message__body description">@nakaji-dayo <br/>リンク見てみましたが、内容がとても充実していますね！:smile:<br/>勉強する際にとても参考になりそうです！ありがとうございます！</div></div></div><div class="message event" id="message-1591177805.081100"><div class="content"><div class="summary"><div class="message__header user">takase</div><div class="message__timestamp date"><a class="date" href="#message-1591177805.081100">2020-06-03&nbsp;18:50:05 +0900</a></div></div><div class="message__body description">@takase has joined the channel</div></div></div><div class="message event" id="message-1591320095.081400"><div class="content"><div class="summary"><div class="message__header user">koji.ishimoto</div><div class="message__timestamp date"><a class="date" href="#message-1591320095.081400">2020-06-05&nbsp;10:21:35 +0900</a></div></div><div class="message__body description">@koji.ishimoto has joined the channel</div></div></div><div class="message event" id="message-1591329133.081600"><div class="content"><div class="summary"><div class="message__header user">negi23</div><div class="message__timestamp date"><a class="date" href="#message-1591329133.081600">2020-06-05&nbsp;12:52:13 +0900</a></div></div><div class="message__body description">@negi23 has joined the channel</div></div></div><div class="message event" id="message-1592038671.082400"><div class="content"><div class="summary"><div class="message__header user">yskbsk13</div><div class="message__timestamp date"><a class="date" href="#message-1592038671.082400">2020-06-13&nbsp;17:57:51 +0900</a></div></div><div class="message__body description">@yskbsk13 has joined the channel</div></div></div><div class="message event" id="message-1592467725.084500"><div class="content"><div class="summary"><div class="message__header user">benzene.chlorobenzene</div><div class="message__timestamp date"><a class="date" href="#message-1592467725.084500">2020-06-18&nbsp;17:08:45 +0900</a></div></div><div class="message__body description">@benzene.chlorobenzene has joined the channel</div></div></div><div class="message event" id="message-1592629840.084900"><div class="content"><div class="summary"><div class="message__header user">pontyan12</div><div class="message__timestamp date"><a class="date" href="#message-1592629840.084900">2020-06-20&nbsp;14:10:40 +0900</a></div></div><div class="message__body description">@pontyan12 has joined the channel</div></div></div><div class="message event" id="message-1593074145.085100"><div class="content"><div class="summary"><div class="message__header user">ym0429_ma4ma</div><div class="message__timestamp date"><a class="date" href="#message-1593074145.085100">2020-06-25&nbsp;17:35:45 +0900</a></div></div><div class="message__body description">@ym0429_ma4ma has joined the channel</div></div></div><div class="message event" id="message-1593243213.085300"><div class="content"><div class="summary"><div class="message__header user">znmxodq1</div><div class="message__timestamp date"><a class="date" href="#message-1593243213.085300">2020-06-27&nbsp;16:33:33 +0900</a></div></div><div class="message__body description">@znmxodq1 has joined the channel</div></div></div><div class="message event" id="message-1593512177.085500"><div class="content"><div class="summary"><div class="message__header user">falgon53</div><div class="message__timestamp date"><a class="date" href="#message-1593512177.085500">2020-06-30&nbsp;19:16:17 +0900</a></div></div><div class="message__body description">@falgon53 has joined the channel</div></div></div><div class="message event" id="message-1593572422.085600"><div class="content"><div class="summary"><div class="message__header user">slackbot</div><div class="message__timestamp date"><a class="date" href="#message-1593572422.085600">2020-07-01&nbsp;12:00:22 +0900</a></div></div><div class="message__body description">Reminder: <br/>beginnersチャンネルは、新しい人がスムーズにHaskellに慣れるための質問を歓迎するチャンネルです。<br/>Haskell-Beginners ML や IRCの#haskell-beginners  や RedditのMonthly Hask Anythingのような位置づけを意図しています。<br/><br/>beginnersチャンネルでの回答側は、以下の左側のような応答を厳禁とする運用です。<br/>• それはくだらない質問だ → くだらない質問など無い<br/>• その質問は以前にもあった → 質問者はそんなこと知らない<br/>• Google検索せよ → 検索できないから質問している<br/>beginnersチャンネルでは、例えば以下のレベルの質問から歓迎します。<br/>• <code>:</code> とは何のことですか。<br/>• タプルとは何ですか。<br/></div></div></div><div class="message event" id="message-1593575176.085800"><div class="content"><div class="summary"><div class="message__header user">sdghrwihl456</div><div class="message__timestamp date"><a class="date" href="#message-1593575176.085800">2020-07-01&nbsp;12:46:16 +0900</a></div></div><div class="message__body description">@sdghrwihl456 has joined the channel</div></div></div><div class="message event" id="message-1593672664.086000"><div class="content"><div class="summary"><div class="message__header user">kazuki.matsuo.728</div><div class="message__timestamp date"><a class="date" href="#message-1593672664.086000">2020-07-02&nbsp;15:51:04 +0900</a></div></div><div class="message__body description">@kazuki.matsuo.728 has joined the channel</div></div></div><div class="message event" id="message-1593757926.086200"><div class="content"><div class="summary"><div class="message__header user">jaxuzb</div><div class="message__timestamp date"><a class="date" href="#message-1593757926.086200">2020-07-03&nbsp;15:32:06 +0900</a></div></div><div class="message__body description">@jaxuzb has joined the channel</div></div></div><div class="message event" id="message-1593974679.086400"><div class="content"><div class="summary"><div class="message__header user">orfj18</div><div class="message__timestamp date"><a class="date" href="#message-1593974679.086400">2020-07-06&nbsp;03:44:39 +0900</a></div></div><div class="message__body description">@orfj18 has joined the channel</div></div></div><div class="message event" id="message-1594023867.086600"><div class="content"><div class="summary"><div class="message__header user">yuukioosako</div><div class="message__timestamp date"><a class="date" href="#message-1594023867.086600">2020-07-06&nbsp;17:24:27 +0900</a></div></div><div class="message__body description">@yuukioosako has joined the channel</div></div></div><div class="message event" id="message-1594098010.100900"><div class="content"><div class="summary"><div class="message__header user">nagata.hbdc</div><div class="message__timestamp date"><a class="date" href="#message-1594098010.100900">2020-07-07&nbsp;14:00:10 +0900</a></div></div><div class="message__body description">Data.Vector.Unboxedについて質問です。<br/><br/>最近競技プログラミングのAtCoderを始めたのですが、Data.Listの計算速度が遅いということで<br/>時折Data.Vector.UnboxedやData.Vector.Unboxed.Mutableを利用しています。<br/><br/>今回は AtCoder Beginner Contest 173 E - Multiplication 4<br/><a href='https://atcoder.jp/contests/abc173/tasks/abc173_e'>https://atcoder.jp/contests/abc173/tasks/abc173_e</a><br/>を解くことを試みました。<br/><br/>Listを使って書いたものが以下です。<br/><a href='https://atcoder.jp/contests/abc173/submissions/15057521'>https://atcoder.jp/contests/abc173/submissions/15057521</a><br/>問題には制限時間があり、一定時間内に計算を終えなくてはいけません。<br/>黄色いTLEのマークが時間オーバーを示していて、Data.Listでは上手くいかないのでData.Vector.Unboxedの利用を検討しました。<br/><br/>Data.ListをData.Vector.Unboxedに置き換えるために、<br/>gksatoさんの回答<br/><a href='https://atcoder.jp/contests/abc173/submissions/15013762'>https://atcoder.jp/contests/abc173/submissions/15013762</a><br/>を参考にしました。<br/><br/>回答では大きな数をmodで小さくするように要求されており<br/>gksatoさんの回答では、型を作って対応しているようなのですが、<br/>私には少し難しいので、出てきた数字に対して直接modを適用したいと考えています。<br/><br/>起きている問題としては<br/><pre>import qualified Data.ByteString.Char8 as BS
import Data.Maybe
import qualified Data.Vector.Unboxed as VU

readInt = fst . fromJust . BS.readInt
readIntList = map readInt . BS.words
getIntList = readIntList &lt;$&gt; BS.getLine

prod :: VU.Vector Int -&gt; Integer
prod = mod1G7 . VU.product . VU.map fromIntegral

mod1G7 :: Integral a =&gt; a -&gt; a
mod1G7 n = n `mod` (10 ^ 9 + 7)

main :: IO ()
main = do
  [n, k] &lt;- getIntList
  as &lt;- getIntList
  let as' = VU.fromList as
  print $ prod as'</pre><br/>入力例<br/><pre>4 2
1 2 -3 -4</pre><br/>としたときに、<br/><pre>abc/173/E.hs:31:17: error:
    • No instance for (VU.Unbox Integer)
        arising from a use of 'VU.product'
    • In the first argument of '(.)', namely 'VU.product'
      In the second argument of '(.)', namely
        'VU.product . VU.map fromIntegral'
      In the expression: mod1G7 . VU.product . VU.map fromIntegral
   |
31 | prod = mod1G7 . VU.product . VU.map fromIntegral
   |                 ^^^^^^^^^^</pre><br/>というエラーが出てしまい、走らないことです。<br/><br/><pre>prod :: VU.Vector Int -&gt; Int</pre><br/>とすると、動作はするのですが、大きい数が来た場合に答えが一致しません。<br/><br/>関数の型のアノテーションを消すと<br/><pre>    • Ambiguous type variable 'a0' arising from a use of 'VU.product'
      prevents the constraint '(VU.Unbox a0)' from being solved.
      Relevant bindings include
        prod :: VU.Vector Int -&gt; a0 (bound at abc/173/E.hs:31:1)
      Probable fix: use a type annotation to specify what 'a0' should be.
      These potential instances exist:
        instance VU.Unbox a =&gt; VU.Unbox (Down a)
          -- Defined in 'Data.Vector.Unboxed.Base'
        instance VU.Unbox () -- Defined in 'Data.Vector.Unboxed.Base'
        instance (VU.Unbox a, VU.Unbox b) =&gt; VU.Unbox (a, b)
          -- Defined in 'Data.Vector.Unboxed.Base'
        ...plus 10 others
        ...plus 24 instances involving out-of-scope types
        (use -fprint-potential-instances to see them all)
    • In the first argument of '(.)', namely 'VU.product'
      In the second argument of '(.)', namely
        'VU.product . VU.map fromIntegral'
      In the expression: mod1G7 . VU.product . VU.map fromIntegral
   |
31 | prod = mod1G7 . VU.product . VU.map fromIntegral
   |                 ^^^^^^^^^^</pre><br/>のようなエラーが出てアノテーションを利用することを薦められます。<br/><br/>VU.productでVU.Vector Int型の引数からInteger型の返り値を得るためにはどうすればよいでしょうか。<br/>よろしくお願いします。<br/><br/>ちなみに、VU.toListで一度Listにしてproductを適用したものは動いたのですが、同じく時間切れでした。<br/><a href='https://atcoder.jp/contests/abc173/submissions/15058952'>https://atcoder.jp/contests/abc173/submissions/15058952</a></div></div></div><div class="message event" id="message-1594100907.101100"><div class="content"><div class="summary"><div class="message__header user">igrep</div><div class="message__timestamp date"><a class="date" href="#message-1594100907.101100">2020-07-07&nbsp;14:48:27 +0900</a></div></div><div class="message__body description">unboxed vectorほど動作は速くないですが、unboxedじゃない普通のVector <a href='https://hackage.haskell.org/package/vector-0.12.1.2/docs/Data-Vector.html'>https://hackage.haskell.org/package/vector-0.12.1.2/docs/Data-Vector.html</a> はいかがでしょうか？<br/>こちらなら <code>Integer</code> も格納できます。</div></div></div><div class="message event" id="message-1594104448.101400"><div class="content"><div class="summary"><div class="message__header user">unno.hideyuki</div><div class="message__timestamp date"><a class="date" href="#message-1594104448.101400">2020-07-07&nbsp;15:47:28 +0900</a></div></div><div class="message__body description">この問題では、Vector の要素は Int で十分ですが、product をすべてとったあとに mod しようとすると Int ではあふれてしまうのと、Integer をつかったとしてもすごい桁数になって時間内におさまらない可能性が高いです。<br/><br/>なので、掛け算のたびに mod をとってやればよく、*<https://app.slack.com/team/U0121PJA7BN|Nagatatz>* さんのコードでいうと、prod を次のように書いてやればいいように思います。<br/>`prod = VU.foldl1' (\x y -&gt; x * y `mod` (10^9+7))`<br/><br/>これで、とりあえず TLE はしなくなったのですが、 WA がでちゃってますね…<br/><https://atcoder.jp/contests/abc173/submissions/15061195><br/><br/>わたし、まだ ABC173E 解いてないんすよ…。</div></div></div><div class="message event" id="message-1594105132.101800"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594105132.101800">2020-07-07&nbsp;15:58:52 +0900</a></div></div><div class="message__body description">Modular Arithmetic の乗算(かけ算ごとにmodをとる)を定義してしまえば、それでIntの範囲に収まります。しかし、Vectorを使う必要がありますか？ ランダムアクセスしないのなら、[Int]でもよいのではという気がすこしします。確認してませんが(をぃ^^;)、アルゴリズムを少しみなおせば、[Int]でもLTEが出なくなったりしませんか？</div></div></div><div class="message event" id="message-1594105246.102000"><div class="content"><div class="summary"><div class="message__header user">unno.hideyuki</div><div class="message__timestamp date"><a class="date" href="#message-1594105246.102000">2020-07-07&nbsp;16:00:46 +0900</a></div></div><div class="message__body description">ソートする必要があるので、[Int] のままではきつそう…</div></div></div><div class="message event" id="message-1594105335.102200"><div class="content"><div class="summary"><div class="message__header user">unno.hideyuki</div><div class="message__timestamp date"><a class="date" href="#message-1594105335.102200">2020-07-07&nbsp;16:02:15 +0900</a></div></div><div class="message__body description">（AtCoder の C 以降でリストでいけちゃうケースは、あんまり無いような印象があります）</div></div></div><div class="message event" id="message-1594105487.102500"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594105487.102500">2020-07-07&nbsp;16:04:47 +0900</a></div></div><div class="message__body description">Vectorのソートの方がずっと速いということですか。なるほど。どのくらい違うんだろう。計測してみよう <blockquote>私</blockquote></div></div></div><div class="message event" id="message-1594109929.103100"><div class="content"><div class="summary"><div class="message__header user">nagata.hbdc</div><div class="message__timestamp date"><a class="date" href="#message-1594109929.103100">2020-07-07&nbsp;17:18:49 +0900</a></div></div><div class="message__body description">答えていただいたみなさま、ありがとうございました。<br/>結論から言えば、Vectorを使わずに行くことができました。計算時間の問題はunnohideyukiさんのおっしゃるとおり、かけ算毎にmodを取ることで解消できました。<br/>もちろん、modを取ると崩れる関係もあるので、そこも修正する必要がありました。また、nobsunさんのおっしゃる通り、[Int]のままでも時間内に収めることができました。<br/><br/>Vector周りが原因だと思っていたのですが、そんなことはなかったようです。igrepさんもVectorの型について教えてくださりありがとうございました。<br/><br/><a href='https://atcoder.jp/contests/abc173/submissions/15062863'>https://atcoder.jp/contests/abc173/submissions/15062863</a></div></div></div><div class="message event" id="message-1594111664.103800"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594111664.103800">2020-07-07&nbsp;17:47:44 +0900</a></div></div><div class="message__body description"><blockquote>modを取ると崩れる関係もあるので</blockquote>10^18は64bit Intの範囲なので、絶対値が10^9以下の2つの数の積なら、modを取らずともIntの範囲におさまります。modをとる積を使うのは、最後の最大値を求めるところだけですみそうですね。</div></div></div><div class="message event" id="message-1594146039.105800"><div class="content"><div class="summary"><div class="message__header user">gettaplacetogo</div><div class="message__timestamp date"><a class="date" href="#message-1594146039.105800">2020-07-08&nbsp;03:20:39 +0900</a></div></div><div class="message__body description">え？ 最後の最大値を求めるまでに、3つ以上の数の積は普通に取られますよ？</div></div></div><div class="message event" id="message-1594151804.106100"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594151804.106100">2020-07-08&nbsp;04:56:44 +0900</a></div></div><div class="message__body description">最後の最大値を構成する組合せを見つけるのには、3つ以上の数の積を計算する必要がないような気がしたのですが。。。</div></div></div><div class="message event" id="message-1594166922.106300"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594166922.106300">2020-07-08&nbsp;09:08:42 +0900</a></div></div><div class="message__body description"><a href='https://gist.github.com/nobsun/a88d263dd15e1961db0d55235a277a61'>https://gist.github.com/nobsun/a88d263dd15e1961db0d55235a277a61</a></div></div></div><div class="message event" id="message-1594168692.107600"><div class="content"><div class="summary"><div class="message__header user">gettaplacetogo</div><div class="message__timestamp date"><a class="date" href="#message-1594168692.107600">2020-07-08&nbsp;09:38:12 +0900</a></div></div><div class="message__body description">むしろ、そのコード、modをとる積しか使ってないように見えるのですが・・・。</div></div></div><div class="message event" id="message-1594168827.107800"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594168827.107800">2020-07-08&nbsp;09:40:27 +0900</a></div></div><div class="message__body description">最後の最大値を求めるところだけ。</div></div></div><div class="message event" id="message-1594168996.108000"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594168996.108000">2020-07-08&nbsp;09:43:16 +0900</a></div></div><div class="message__body description">modを取ると崩れてこまる関係(比較演算子)はないというつもりでした。</div></div></div><div class="message event" id="message-1594169306.108200"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594169306.108200">2020-07-08&nbsp;09:48:26 +0900</a></div></div><div class="message__body description">35行目</div></div></div><div class="message event" id="message-1594177336.111400"><div class="content"><div class="summary"><div class="message__header user">gettaplacetogo</div><div class="message__timestamp date"><a class="date" href="#message-1594177336.111400">2020-07-08&nbsp;12:02:16 +0900</a></div></div><div class="message__body description">コード中で最後の最大値を求めるところだけ？</div></div></div><div class="message event" id="message-1594177354.112000"><div class="content"><div class="summary"><div class="message__header user">gettaplacetogo</div><div class="message__timestamp date"><a class="date" href="#message-1594177354.112000">2020-07-08&nbsp;12:02:34 +0900</a></div></div><div class="message__body description">いや、違うのはわかるのですが、…</div></div></div><div class="message event" id="message-1594177653.113000"><div class="content"><div class="summary"><div class="message__header user">nobsun</div><div class="message__timestamp date"><a class="date" href="#message-1594177653.113000">2020-07-08&nbsp;12:07:33 +0900</a></div></div><div class="message__body description">最大値を構成するAiの組合せを求めるのには(&gt;&lt;)は使ってないという意味です。紛らわし表現ですみません。</div></div></div></div><div class="pager ui pagination menu"><a href="../../html/CR2TETE5R/7.html" class="pager__previous item">Previous</a><a href="../../" class="pager__top item">Top</a><a href="../../html/CR2TETE5R/9.html" class="pager__next item">Next</a></div></div></body></html>